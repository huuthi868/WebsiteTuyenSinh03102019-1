String.prototype.replaceAll = function (t, e) { return this.valueOf().split(t).join(e) }, String.prototype.format = function () { for (var t = this, e = 0; e < arguments.length; e++) { var i = new RegExp("\\{" + e + "\\}", "gi"); t = t.replace(i, arguments[e]) } return t.valueOf() }, "function" != typeof String.prototype.startsWith && (String.prototype.startsWith = function (t) { return 0 === this.lastIndexOf(t, 0) }), "function" != typeof String.prototype.endsWith && (String.prototype.endsWith = function (t) { return -1 !== this.indexOf(t, this.length - t.length) }), Array.prototype.removeSpace = function () { var t = []; return this.forEach(function (e) { (e = e.trim()).length > 0 && t.push(e) }), t }, Array.prototype.random = function () { return this[Math.floor(Math.random() * this.length)] }, Array.prototype.unique = function () { return this.filter(function (t, e, i) { return i.indexOf(t) == e }) }, Array.prototype.except = function (t) { var e = this; return Array.isArray(t) && t.forEach(function (t) { var i = e.indexOf(t); -1 != i && e.splice(i, 1) }), e }, Array.prototype.only = function (t) { var e = []; return Array.isArray(t) && this.forEach(function (i) { -1 != t.indexOf(i) && e.push(i) }), e }, Array.prototype.insert = function (t, e) { this.splice(t, 0, e) }; var LadiPageScriptV2 = LadiPageScriptV2 || function () { }; LadiPageScriptV2.prototype.init = function () { this.const = { DESKTOP: "desktop", MOBILE: "mobile", DOMAIN_GOOGLE_DOCS: "docs.google.com", POWERED_BY_IMAGE: "https://w.ladicdn.com/source/ladipage-loader.svg", STATIC_W_DOMAIN: "w.ladicdn.com", STATIC_S_DOMAIN: "s.ladicdn.com", APP_RUNTIME_PREFIX: "_runtime", DATA_ACTION_TYPE: { link: "link", section: "section", email: "email", phone: "phone", popup: "popup", hidden_show: "hidden_show", collapse: "collapse", change_index: "change_index", lightbox: "lightbox", popup_cart: "popup_cart", third_party_cart: "third_party_cart", popup_checkout: "popup_checkout", third_party_checkout: "third_party_checkout" }, DATA_ACTION_LIGHTBOX_TYPE: { image: "image", video: "video", iframe: "iframe" }, COUNTDOWN_TYPE: { countdown: "countdown", daily: "daily", endtime: "endtime" }, COUNTDOWN_ITEM_TYPE: { day: "day", hour: "hour", minute: "minute", seconds: "seconds" }, VIDEO_TYPE: { youtube: "youtube", direct: "direct" }, BACKGROUND_STYLE: { solid: "solid", gradient: "gradient", image: "image", video: "video" }, PUBLISH_PLATFORM: { ladipage: "LADIPAGE", ladipagedns: "LADIPAGEDNS", wordpress: "WORDPRESS", haravan: "HARAVAN", sapo: "SAPO", shopify: "SHOPIFY", itop: "ITOPWEBSITE", ftp: "FTP", other: "OTHER" }, TRACKING_NAME: "ladicid", PUBLISH_STYLE: { desktop_min_width: 768, mobile_small_min_width: 320 }, ANIMATED_LIST: ["rotate-1", "rotate-2", "rotate-3", "type", "scale", "loading-bar", "slide", "clip", "zoom", "push"], POSITION_TYPE: { default: "default", top: "top", bottom: "bottom", top_left: "top_left", top_center: "top_center", top_right: "top_right", center_left: "center_left", center_right: "center_right", bottom_left: "bottom_left", bottom_center: "bottom_center", bottom_right: "bottom_right" }, COLLECTION_TYPE: { carousel: "carousel", readmore: "readmore" }, INPUT_TYPE: { tel: "tel", text: "text", select_multiple: "select_multiple", number: "number", email: "email", textarea: "textarea", select: "select", radio: "radio", checkbox: "checkbox", file: "file", product_variant: "product_variant" }, CONTENT_TYPE: { form_data: "FORM_DATA", form_urlencoded: "X_WWW_FORM_URLENCODED", json: "JSON" }, SORT_BY_TYPE: { asc: "asc", desc: "desc" }, PRODUCT_VARIANT_TYPE: { combined: "combined", combobox: "combobox" }, PRODUCT_VARIANT_TITLE: { left: "left", top: "top" }, FORM_THANKYOU_TYPE: { default: "default", url: "url", popup: "popup" }, GAME_RESULT_TYPE: { default: "default", popup: "popup" }, PERCENT_TRACKING_SCROLL: [0, 25, 50, 75, 100], TIME_ONPAGE_TRACKING: [10, 30, 60, 120, 180, 300, 600], FORM_CONFIG_TYPE: { email: "EMAIL", mail_chimp: "MAIL_CHIMP", infusion_soft: "INFUSION_SOFT", infusion_soft_ladi: "INFUSION_SOFT_LADI", active_campaign: "ACTIVE_CAMPAIGN", sendgrid: "SENDGRID", hubspot: "HUBSPOT", smtp: "SMTP", esms: "ESMS", get_response: "GET_RESPONSE", convertkit: "CONVERTKIT", ladiflow: "LADIFLOW", telegram: "TELEGRAM", slack: "SLACK", zalo_zns: "ZALO_ZNS", mautic: "MAUTIC", google_sheet: "GOOGLE_SHEET", google_form: "GOOGLE_FORM", custom_api: "CUSTOM_API", ladisales: "LADISALES", haravan: "HARAVAN", sapo: "SAPO", shopify: "SHOPIFY", nhanh_vn: "NHANH_VN", google_recaptcha: "GOOGLE_RECAPTCHA", kiotviet: "KIOTVIET", wordpress: "WORDPRESS", metu: "METU", ladichat: "LADICHAT", shopping: "SHOPPING", conversion_api: "CONVERSION_API" }, FORM_UPLOAD_FILE_LENGTH: 5, FORM_UPLOAD_FILE_SIZE: 25, CART_LAYOUT: { editable: "editable", viewonly: "viewonly" }, WIDTH_SECTION_RESIZE: {}, RESIZE_ADD_PIXEL: 300, RESIZE_ADD_PIXEL_THUMB: 50, RESIZE_RANGE: 50, TOOLTIP_TYPE: { default: "default", info: "info", success: "success", error: "error", notice: "notice" }, TOOLTIP_POSITION: { top_middle: "top_middle", top_left: "top_left", top_right: "top_right", bottom_middle: "bottom_middle", bottom_left: "bottom_left", bottom_right: "bottom_right", left_middle: "left_middle", left_top: "left_top", left_bottom: "left_bottom", right_middle: "right_middle", right_top: "right_top", right_bottom: "right_bottom" }, TOOLTIP_SIZE: { small: "small", medium: "medium", big: "big" }, STORY_PAGE: { horizontal: "horizontal", vertical: "vertical", none: "none" }, COMBOBOX_TYPE: { delivery_method: "delivery_method" } }, this.runtime = { backdrop_popup_id: "backdrop-popup", lightbox_screen_id: "lightbox-screen", builder_section_popup_id: "SECTION_POPUP", ladipage_powered_by_classname: "ladipage_powered_by", current_element_mouse_down_carousel: null, current_element_mouse_down_carousel_position_x: 0, current_element_mouse_down_carousel_diff: 40, current_element_mouse_down_gallery_control: null, current_element_mouse_down_gallery_control_time: 0, current_element_mouse_down_gallery_control_time_click: 300, current_element_mouse_down_gallery_control_position_x: 0, current_element_mouse_down_gallery_view: null, current_element_mouse_down_gallery_view_position_x: 0, current_element_mouse_down_gallery_view_diff: 40, scroll_show_popup: {}, scroll_depth: [], scroll_to_section: {}, isMobileOnly: !1, interval_countdown: null, interval_gallery: null, timeout_gallery: {}, interval_carousel: null, timenext_carousel: {}, isClient: !1, isDesktop: !0, isIE: !1, isYouTubeIframeAPIReady: !1, isLoadYouTubeIframeAPI: !1, device: this.const.DESKTOP, ladipage_id: null, list_collapse: {}, list_scroll_func: {}, list_show_popup_func: {}, list_youtube_ready_exec: [], list_lightbox_id: {}, list_set_value_name_country: ["ward", "district", "state", "country"], tmp: {}, tabindexForm: 0, eventData: {}, timenow: 0, widthScrollBar: 0, replaceStr: {}, replacePrefixStart: "{{", replacePrefixEnd: "}}" }, this.const.WIDTH_SECTION_RESIZE[this.const.DESKTOP] = 1440, this.const.WIDTH_SECTION_RESIZE[this.const.MOBILE] = 768 }, LadiPageScriptV2.prototype.run = function (t) { var e = this; this.runtime.isIE = !!document.documentMode, this.runtime.isIE = this.runtime.isIE ? this.runtime.isIE : !this.runtime.isIE && !!window.StyleMedia, this.runtime.isClient = t, this.runtime.timenow = window.ladi("_timenow").get_cookie(), this.isEmpty(this.runtime.timenow) ? (this.runtime.timenow = Date.now(), window.ladi("_timenow").set_cookie(this.runtime.timenow, 0, window.location.pathname, null, !0)) : this.runtime.timenow = parseFloatLadiPage(this.runtime.timenow) || 0; try { this.runtime.widthScrollBar = window.innerWidth - document.documentElement.clientWidth } catch (t) { } if (t) { if (this.isString(this.runtime.eventData)) try { var i = decodeURIComponentLadiPage(this.runtime.eventData); this.runtime.eventData = JSON.parse(i) } catch (t) { String.prototype.decode = function () { return this.valueOf().replaceAll(/&amp;/g, "&").replaceAll(/&gt;/g, ">").replaceAll(/&lt;/g, "<").replaceAll(/&quot;/g, '"') }; var a = this.runtime.eventData.decode(); a = a.replaceAll("\r\n", "").replaceAll("\n", ""), this.runtime.eventData = JSON.parse(a) } } else this.runtime.isMobileOnly = LadiPage.data.is_mobile_only, this.runtime.eventData = LadiPage.generateEventDataAll(t), this.runtime.ladipage_id = LadiPage.publish.id, this.runtime.publish_platform = LadiPage.publish.type, this.runtime.bodyFontSize = 12, this.runtime.store_id = LadiPage.getRootScope().getStoreId(), this.runtime.time_zone = LadiPage.getRootScope().getStoreTimezone(!0), this.runtime.currency = LadiPage.getRootScope().getStoreCurrency(); this.runtime.isMobileOnly && Object.keys(e.runtime.eventData).forEach(function (t) { Object.keys(e.runtime.eventData[t]).forEach(function (i) { if (i.toLowerCase().startsWith(e.const.MOBILE)) { var a = e.const.DESKTOP + i.substring(e.const.MOBILE.length); e.runtime.eventData[t][a] = e.runtime.eventData[t][i] } }) }); this.isNull(window.ladi_is_desktop) ? this.runtime.isDesktop = t ? !/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()) : LadiPage.isDesktop() : this.runtime.isDesktop = t ? window.ladi_is_desktop : LadiPage.isDesktop(), this.runtime.device = this.runtime.isDesktop ? this.const.DESKTOP : this.const.MOBILE, this.runtime.tmp.isFirstScroll = !0, this.runtime.tmp.capture_form_data_last = {}, this.runtime.tmp.runAfterLocation = [], this.runtime.tmp.product_info = {}, this.runtime.tmp.timeout_product_info = {}, this.runtime.tmp.product_tag_info = {}, this.runtime.tmp.timeout_product_tag_info = {}, this.runtime.tmp.dataset_check_load = !1, this.runtime.tmp.dataset_data = {}, this.runtime.tmp.timeout_dataset_data = {}, this.runtime.tmp.cart = [], this.runtime.tmp.add_to_cart_discount = 0, this.runtime.tmp.add_to_cart_fee_shipping = 0, this.runtime.tmp.is_click_add_to_cart = !1, this.runtime.tmp.is_click_check_price_discount = !1, this.runtime.tmp.current_use_coupon = null, this.changeTotalPriceCart(); var r = window.ladi("LADI_DATA").get_cookie(); try { r = JSON.parse(Base64.decode(r || Base64.encode("{}"))), Object.keys(r).forEach(function (t) { e.setDataReplaceStr(t, r[t]) }) } catch (t) { } var n = function (t) { var i = e.copy(t); return e.isObject(i) && e.runtime.list_set_value_name_country.forEach(function (t) { if (!e.isEmpty(i[t])) { var a = i[t].split(":"); a.length > 1 && a.shift(), i[t] = a.join(":") } }), i }, o = e.getURLSearchParams(null, null, !0), l = e.getURLSearchParams(window.location.search, null, !0), s = n(o), d = Object.keys(s), c = ""; d.forEach(function (t) { if (t != e.const.TRACKING_NAME) { if (e.setDataReplaceStr(t, s[t]), "products" == t && e.isString(s[t])) { var i = s[t].split("|"); 2 == i.length && -1 == d.indexOf("product_id") && e.setDataReplaceStr("product_value", i[0]), 2 == i.length && -1 == d.indexOf("product_name") && e.setDataReplaceStr("product_name", i[1]) } (e.isArray(l[t]) ? l[t] : [l[t]]).forEach(function (i) { e.isEmpty(c) ? c += "?" : c += "&", c += t + "=" + encodeURIComponent(i) }) } }), window.ladi(this.const.TRACKING_NAME).delete_cookie(), this.historyReplaceState(window.location.pathname + c + window.location.hash); var u, p = this.runtime.isDesktop, m = Object.keys(this.runtime.eventData), g = window.ladi("LADI_CLIENT_ID").get_cookie(), y = parseFloatLadiPage(window.ladi("LADI_FORM_SUBMIT").get_cookie()) || 0, _ = parseFloatLadiPage(window.ladi("LADI_PAGE_VIEW").get_cookie()) || 0, f = window.ladi("LADI_CAMP_ID").get_cookie(), h = window.ladi("LADI_CAMP_NAME").get_cookie(), v = window.ladi("LADI_CAMP_TYPE").get_cookie(), E = window.ladi("LADI_CAMP_TARGET_URL").get_cookie(), L = window.ladi("LADI_CAMP_ORIGIN_URL").get_cookie(), P = parseFloatLadiPage(window.ladi("LADI_CAMP_PAGE_VIEW").get_cookie()) || 0, A = parseFloatLadiPage(window.ladi("LADI_CAMP_FORM_SUBMIT").get_cookie()) || 0, w = parseFloatLadiPage(window.ladi("LADI_PAGE_VIEW_DAILY").get_cookie()) || 0, S = parseFloatLadiPage(window.ladi("LADI_FORM_SUBMIT_DAILY").get_cookie()) || 0, b = parseFloatLadiPage(window.ladi("LADI_CAMP_PAGE_VIEW_DAILY").get_cookie()) || 0, T = parseFloatLadiPage(window.ladi("LADI_CAMP_FORM_SUBMIT_DAILY").get_cookie()) || 0, C = window.ladi("LADI_CAMP_CONFIG").get_cookie(), O = window.ladi("LADI_FUNNEL_NEXT_URL").get_cookie(), N = [], I = function (t, i, a) { if ("FormSubmit" == t && e.isEmpty(g)) e.isFunction(a) && a(); else { var r = e.runtime.publish_platform, n = { event: t, pixel_id: e.runtime.store_id, time_zone: e.runtime.time_zone, domain: window.location.host, url: window.location.href, ladipage_id: e.runtime.ladipage_id, publish_platform: r, data: [] }; Object.keys(i).forEach(function (t) { n[t] = i[t] }), "FormSubmit" == t && (e.isEmpty(f) ? y++ : (E == L && y++, A++), window.ladi("LADI_FORM_SUBMIT").set_cookie(y, 3650, window.location.pathname), window.ladi("LADI_CAMP_FORM_SUBMIT").set_cookie(A, 3650, window.location.pathname)), e.sendRequest("POST", e.const.API_ANALYTICS_EVENT, JSON.stringify(n), !0, { "Content-Type": "application/json", LADI_CLIENT_ID: g, LADI_FORM_SUBMIT: y, LADI_PAGE_VIEW: _, LADI_CAMP_ID: f, LADI_CAMP_NAME: h, LADI_CAMP_TYPE: v, LADI_CAMP_TARGET_URL: E, LADI_CAMP_ORIGIN_URL: L, LADI_CAMP_PAGE_VIEW: P, LADI_CAMP_FORM_SUBMIT: A, LADI_PAGE_VIEW_DAILY: w, LADI_FORM_SUBMIT_DAILY: S, LADI_CAMP_PAGE_VIEW_DAILY: b, LADI_CAMP_FORM_SUBMIT_DAILY: T }, function (t, i, r) { r.readyState == XMLHttpRequest.DONE && e.isFunction(a) && a(i, t) }) } }, k = function (t, i, a, r) { if (!e.isEmpty(i) && "POPUP_PRODUCT" == i.id) { var n = e.generateVariantProduct(a, !1, null, null, null, null, !0, !0, function (e) { k(t, i, a, r) }); if (!e.isObject(n) || !e.isObject(n.store_info) || !e.isObject(n.product) || !e.isArray(n.product.variants) || n.product.variants.length <= 0) return; var o = null; if (e.isEmpty(a["option.product_variant_id"])) { o = n.product.variants[0]; var l = e.findAncestor(t, "ladi-collection-item"), s = null; if (e.isEmpty(l)) { for (var d = document.querySelectorAll('[data-variant="true"] select[data-store-id="' + n.store_info.id + '"][data-product-id="' + n.product.product_id + '"]'), c = 0; c < d.length; c++)if (e.isEmpty(e.findAncestor(d[c], "ladi-collection-item"))) { s = d[c]; break } } else s = l.querySelector('[data-variant="true"]'); if (!e.isEmpty(s)) { s = e.findAncestor(s, "ladi-element"); var u = e.getProductVariantId(s, n.product); e.isEmpty(u) || (o = n.product.variants.find(function (t) { return t.product_variant_id == u })) } } else o = n.product.variants.find(function (t) { return t.product_variant_id == a["option.product_variant_id"] }); if (e.isEmpty(o)) return; for (var p = document.querySelectorAll("#" + i.id + " .ladi-element"), m = 0; m < p.length; m++)e.runtime.tmp.runLadiSaleProductKey(p[m].id, !1, !1, o, n) } e.isFunction(r) && r() }, x = function (t, i, a, r) { if (t = t || document.getElementById(i), !e.isEmpty(t)) { var n = r["option.data_action"], o = r["option.is_submit_form"], l = r["option.data_submit_form_id"]; if (!r["option.action_funnel"] || e.isEmpty(O)) if (!o || e.isEmpty(l)) if (e.isEmpty(n)) t.addEventListener("click", function (a) { "false" != t.getAttribute("data-click") && e.runEventTracking(i, !1) }); else { n.type == e.const.DATA_ACTION_TYPE.link && t.addEventListener("click", function (a) { if ("false" != t.getAttribute("data-click")) { if ("true" == t.getAttribute("data-action") && !e.isEmpty(n.action)) { var r = n.action; r = e.getLinkUTMRedirect(r, null), r = e.convertDataReplaceStr(r, !0), window.ladi(r).open_url(n.target) } e.runEventTracking(i, !1) } }), n.type == e.const.DATA_ACTION_TYPE.email && t.addEventListener("click", function (a) { "false" != t.getAttribute("data-click") && ("true" != t.getAttribute("data-action") || e.isEmpty(n.action) || window.ladi("mailto:" + n.action).open_url(), e.runEventTracking(i, !1)) }), n.type == e.const.DATA_ACTION_TYPE.phone && t.addEventListener("click", function (a) { "false" != t.getAttribute("data-click") && ("true" != t.getAttribute("data-action") || e.isEmpty(n.action) || window.ladi("tel:" + n.action).open_url(), e.runEventTracking(i, !1)) }), n.type == e.const.DATA_ACTION_TYPE.collapse && t.addEventListener("click", function (a) { if ("false" != t.getAttribute("data-click")) { var r = document.getElementById(n.action); e.isEmpty(r) || window.ladi(n.action).collapse(), e.runEventTracking(i, !1) } }), n.type == e.const.DATA_ACTION_TYPE.section && t.addEventListener("click", function (a) { if ("false" != t.getAttribute("data-click")) { var r = document.getElementById(n.action); if (!e.isEmpty(r)) { var o = e.findAncestor(t, "ladi-popup"); if (!e.isEmpty(o)) { var l = e.findAncestor(o, "ladi-element"); l.hasAttribute("data-popup-backdrop") && window.ladi(l.id).hide() } window.ladi(n.action).scroll(), e.runEventTracking(i, !1) } } }), n.type == e.const.DATA_ACTION_TYPE.popup && t.addEventListener("click", function (a) { if ("false" != t.getAttribute("data-click")) { var o = document.getElementById(n.action); e.isEmpty(o) || k(t, o, r, function () { window.ladi(n.action).show() }), e.runEventTracking(i, !1) } }), n.type == e.const.DATA_ACTION_TYPE.hidden_show && t.addEventListener("click", function (a) { "false" != t.getAttribute("data-click") && (e.isArray(n.hidden_ids) && n.hidden_ids.forEach(function (t) { window.ladi(t).hide() }), e.isArray(n.show_ids) && n.show_ids.forEach(function (t) { window.ladi(t).show() }), e.runEventTracking(i, !1)) }), n.type == e.const.DATA_ACTION_TYPE.change_index && t.addEventListener("click", function (i) { if ("false" != t.getAttribute("data-click")) { var a = window.ladi(n.action); e.isEmpty(n.change_index_number) ? e.isFunction(a[n.change_index_type]) && a[n.change_index_type]() : a.index(n.change_index_number) } }); var s = null; if (n.type == e.const.DATA_ACTION_TYPE.lightbox ? s = n.lightbox_type : "lightbox_image" == n.type ? s = e.const.DATA_ACTION_LIGHTBOX_TYPE.image : "lightbox_video" == n.type ? s = e.const.DATA_ACTION_LIGHTBOX_TYPE.video : "lightbox_iframe" == n.type && (s = e.const.DATA_ACTION_LIGHTBOX_TYPE.iframe), s == e.const.DATA_ACTION_LIGHTBOX_TYPE.image && t.addEventListener("click", function (a) { "false" != t.getAttribute("data-click") && (lightbox_image(n.image_url), e.runEventTracking(i, !1)) }), s == e.const.DATA_ACTION_LIGHTBOX_TYPE.video) { var d = document.querySelectorAll("#" + i + ".preload").length > 0; d && lightbox_video(n.video_url, n.video_type, d), t.addEventListener("click", function (a) { "false" != t.getAttribute("data-click") && (lightbox_video(n.video_url, n.video_type, !1), e.runEventTracking(i, !1)) }) } s == e.const.DATA_ACTION_LIGHTBOX_TYPE.iframe && t.addEventListener("click", function (a) { "false" != t.getAttribute("data-click") && (lightbox_iframe(n.iframe_url), e.runEventTracking(i, !1)) }), n.type == e.const.DATA_ACTION_TYPE.popup_cart && t.addEventListener("click", function (a) { if ("false" != t.getAttribute("data-click")) { var r = document.getElementById("POPUP_CART"); e.isEmpty(r) || window.ladi(r.id).show(), e.runEventTracking(i, !1) } }), n.type == e.const.DATA_ACTION_TYPE.popup_checkout && t.addEventListener("click", function (a) { if ("false" != t.getAttribute("data-click")) { var r = document.getElementById("POPUP_CHECKOUT"); e.isEmpty(r) || window.ladi(r.id).show(), e.runEventTracking(i, !1) } }), n.type, e.const.DATA_ACTION_TYPE.third_party_cart, n.type, e.const.DATA_ACTION_TYPE.third_party_checkout } else t.addEventListener("click", function (e) { "false" != t.getAttribute("data-click") && window.ladi(l).submit() }); else t.addEventListener("click", function (a) { if ("false" != t.getAttribute("data-click")) { a.preventDefault(); var r = O; r = e.getLinkUTMRedirect(r, null), r = e.convertDataReplaceStr(r, !0), window.ladi(r).open_url(), e.runEventTracking(i, !1) } }) } }, D = function (t, i, a, r) { t = t || document.getElementById(i), e.isEmpty(t) || e.isEmpty(r) || r.type == e.const.DATA_ACTION_TYPE.hidden_show && (t.addEventListener("mouseenter", function (t) { e.isArray(r.hidden_ids) && r.hidden_ids.forEach(function (t) { window.ladi(t).hide() }), e.isArray(r.show_ids) && r.show_ids.forEach(function (t) { window.ladi(t).show() }) }), t.addEventListener("mouseleave", function (t) { e.isArray(r.hidden_ids) && r.hidden_ids.forEach(function (t) { window.ladi(t).show() }), e.isArray(r.show_ids) && r.show_ids.forEach(function (t) { window.ladi(t).hide() }) })) }, B = function (t, i, a, r, n, o, l, s) { "countdown" != a || e.isEmpty(r) || (i = i || document.getElementById(t), e.isEmpty(i) || (i.setAttribute("data-type", r), r != e.const.COUNTDOWN_TYPE.countdown || e.isEmpty(n) || i.setAttribute("data-minute", n), r != e.const.COUNTDOWN_TYPE.endtime || e.isEmpty(s) || i.setAttribute("data-endtime", s), r != e.const.COUNTDOWN_TYPE.daily || e.isEmpty(o) || e.isEmpty(l) || (i.setAttribute("data-daily-start", o), i.setAttribute("data-daily-end", l)))) }, R = function (t, i, a, r) { "countdown_item" != a || e.isEmpty(r) || (i = i || document.getElementById(t), e.isEmpty(i) || i.setAttribute("data-item-type", r)) }, M = function (t, i, a, r) { if (e.isEmpty(e.runtime.current_element_mouse_down_gallery_view) && e.isEmpty(e.runtime.current_element_mouse_down_gallery_control)) { var n = t.getAttribute("data-runtime-id"); if (e.isEmpty(e.runtime.timeout_gallery[n]) && (!e.runtime.tmp.gallery_playing_video || !i)) { var o = t.getElementsByClassName("ladi-gallery-view-item"), l = t.getElementsByClassName("ladi-gallery-control-item"); if (0 != o.length && 0 != o.length) { var s = t.getAttribute("data-is-next") || "true"; s = "true" == s.toLowerCase(); var d = parseFloatLadiPage(t.getAttribute("data-current")) || 0, c = parseFloatLadiPage(t.getAttribute("data-max-item")) || 0; i ? s ? d >= c - 1 ? (d = c - 2, s = !1) : d++ : d <= 0 ? (d = 1, s = !0) : d-- : s ? d++ : d--, d < 0 && (d = 0), d >= c - 1 && (d = c - 1), e.isEmpty(a) && (a = s ? "next" : "prev"), e.isEmpty(r) && (r = s ? "left" : "right"), e.runtime.tmp.gallery_playing_video && !o[d].classList.contains("selected") && e.pauseAllVideo(), o[d].classList.add(a); var u = t.querySelectorAll(".ladi-gallery-view-item.selected")[0]; e.isEmpty(u) || u.classList.add(r); var p = 1e3 * (parseFloatLadiPage(getComputedStyle(o[d]).transitionDuration) || 0); e.runtime.timeout_gallery[n] = e.runTimeout(function () { o[d].classList.add(r), e.runtime.timeout_gallery[n] = e.runTimeout(function () { for (var t = 0; t < o.length; t++)t == d ? o[t].classList.add("selected") : o[t].classList.remove("selected"), o[t].style.removeProperty("left"), o[t].classList.remove(a), o[t].classList.remove(r); delete e.runtime.timeout_gallery[n] }, p - 5) }, 5); for (var m = 0; m < l.length; m++)(parseFloatLadiPage(l[m].getAttribute("data-index")) || 0) == d ? l[m].classList.add("selected") : l[m].classList.remove("selected"); var g = e.getElementBoundingClientRect(t), y = e.getElementBoundingClientRect(t.getElementsByClassName("ladi-gallery-control-item")[d]); if (t.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.remove("opacity-0"), t.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.remove("opacity-0"), t.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-top") || t.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-bottom")) { var _ = parseFloatLadiPage(getComputedStyle(t.getElementsByClassName("ladi-gallery-control")[0]).width) || 0, f = parseFloatLadiPage(getComputedStyle(t.getElementsByClassName("ladi-gallery-control-item")[d]).width) || 0, h = y.x - g.x - (_ - f) / 2; h = -(h -= parseFloatLadiPage(t.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("left")) || 0) > 0 ? 0 : -h; var v = parseFloatLadiPage(getComputedStyle(t.getElementsByClassName("ladi-gallery-control-box")[0]).width) || 0; h < (v = (v = -(v -= parseFloatLadiPage(getComputedStyle(t.getElementsByClassName("ladi-gallery-control")[0]).width) || 0)) > 0 ? 0 : v) && (h = v), t.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("left", h + "px"), h >= 0 && t.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.add("opacity-0"), h <= v && t.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.add("opacity-0") } else { var E = parseFloatLadiPage(getComputedStyle(t.getElementsByClassName("ladi-gallery-control")[0]).height) || 0, L = parseFloatLadiPage(getComputedStyle(t.getElementsByClassName("ladi-gallery-control-item")[d]).height) || 0, P = y.y - g.y - (E - L) / 2; P = -(P -= parseFloatLadiPage(t.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("top")) || 0) > 0 ? 0 : -P; var A = parseFloatLadiPage(getComputedStyle(t.getElementsByClassName("ladi-gallery-control-box")[0]).height) || 0; P < (A = (A = -(A -= parseFloatLadiPage(getComputedStyle(t.getElementsByClassName("ladi-gallery-control")[0]).height) || 0)) > 0 ? 0 : A) && (P = A), t.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("top", P + "px"), P >= 0 && t.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.add("opacity-0"), P <= A && t.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.add("opacity-0") } t.setAttribute("data-is-next", s), t.setAttribute("data-current", d), t.getElementsByClassName("ladi-gallery-view-arrow-left")[0].classList.remove("opacity-0"), t.getElementsByClassName("ladi-gallery-view-arrow-right")[0].classList.remove("opacity-0"), d <= 0 && t.getElementsByClassName("ladi-gallery-view-arrow-left")[0].classList.add("opacity-0"), d >= c - 1 && t.getElementsByClassName("ladi-gallery-view-arrow-right")[0].classList.add("opacity-0"), (t.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-left") || t.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-right")) && e.reloadLazyload(!1), !i && t.hasAttribute("data-loaded") && t.setAttribute("data-stop", !0) } } } }, F = function (t, i, a) { var r = i.getAttribute("data-video-type"), n = i.getAttribute("data-video-url"), o = i.getAttribute("data-index"), l = t.getAttribute("data-runtime-id") + "_" + o + "_player", s = document.getElementById(l); a || (e.pauseAllVideo(), e.runtime.tmp.gallery_playing_video = !0), e.isEmpty(s) ? (r == e.const.VIDEO_TYPE.youtube && (s = document.createElement("iframe"), i.parentElement.insertBefore(s, i.nextSibling), s.outerHTML = '<iframe id="' + l + '" class="iframe-video-preload" data-video-type="' + r + '" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>', e.runEventPlayVideo(l, r, n, !1, !1, !0, a)), r == e.const.VIDEO_TYPE.direct && (s = document.createElement("video"), i.parentElement.insertBefore(s, i.nextSibling), s.outerHTML = '<video id="' + l + '" class="iframe-video-preload" data-video-type="' + r + '" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; object-fit: cover;"></video>', e.runEventPlayVideo(l, r, n, !1, !0, !0, a))) : e.runEventReplayVideo(l, r, !0) }, V = function (t, i, a, r) { if ("gallery" == r && (a || (i = document.getElementById(t)), !e.isEmpty(i))) { var n = i.getElementsByClassName("ladi-gallery-control-item").length; i.setAttribute("data-max-item", n), i.setAttribute("data-runtime-id", e.randomString(12)); var o = function (t) { t.stopPropagation(), F(i, t.target, !1) }, l = i.classList.contains("preload"); if (n > 0) { for (var s = 0; s < n; s++) { var d = i.getElementsByClassName("ladi-gallery-view-item")[s]; e.isEmpty(d) || (l && F(i, d, l), d.classList.contains("play-video") && d.addEventListener("click", o)) } i.setAttribute("data-current", 0), i.setAttribute("data-is-next", !0) } for (var c = i.getElementsByClassName("ladi-gallery-view-arrow"), u = 0; u < c.length; u++)n <= 1 ? c[u].classList.add("ladi-hidden") : c[u].classList.remove("ladi-hidden") } }, q = function (t, i) { t.stopPropagation(); var a = e.runtime.eventData[i.id], r = a[e.runtime.device + ".option.gallery_control.autoplay"], n = a[e.runtime.device + ".option.gallery_control.autoplay_time"], o = 0; r && !e.isEmpty(n) && (o = n); var l = parseFloatLadiPage(t.target.getAttribute("data-index")) || 0, s = null, d = null; (parseFloatLadiPage(i.getAttribute("data-current")) || 0) > l ? (s = "prev", d = "right") : (s = "next", d = "left"); var c = i.getAttribute("data-is-next") || "true"; (c = "true" == c.toLowerCase()) ? l-- : l++, i.setAttribute("data-current", l), i.setAttribute("data-next-time", Date.now() + 1e3 * o), M(i, !1, s, d) }, Y = function () { m.forEach(function (t) { var i = e.runtime.eventData[t]; if ("gallery" == i.type) for (var a = document.querySelectorAll("#" + t), r = 0; r < a.length; r++) { var n = a[r]; if ("true" == n.getAttribute("data-scrolled") && "true" != n.getAttribute("data-stop")) { var o = i[e.runtime.device + ".option.gallery_control.autoplay"], l = i[e.runtime.device + ".option.gallery_control.autoplay_time"], s = 0; if (o && !e.isEmpty(l) && (s = l), s > 0) { var d = n.getAttribute("data-next-time"), c = Date.now(); e.isEmpty(d) && (d = c + 1e3 * (s - 1), n.setAttribute("data-next-time", d)), c >= d && (M(n, !0), n.setAttribute("data-next-time", c + 1e3 * s)) } } } }) }, H = function (t, i) { var a = e.runtime.eventData[t]; if ("gallery" == a.type) { var r = i.getAttribute("data-runtime-id"); if (!i.hasAttribute("data-scrolled")) { i.setAttribute("data-scrolled", !1); e.runtime.list_scroll_func[r] = function () { i.setAttribute("data-scrolled", !0) } } var n = a[e.runtime.device + ".option.gallery_control.autoplay"], o = a[e.runtime.device + ".option.gallery_control.autoplay_time"], l = 0; n && !e.isEmpty(o) && (l = o); var s = function (t) { q(t, i) }, d = function (t) { t.stopPropagation(), t = e.getEventCursorData(t); var a = i.getAttribute("data-runtime-id"); e.isEmpty(e.runtime.timeout_gallery[a]) && (e.runtime.current_element_mouse_down_gallery_view = a, e.runtime.current_element_mouse_down_gallery_view_position_x = t.pageX) }, c = function (t) { t.stopPropagation(), t = e.getEventCursorData(t), (i.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-top") || i.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-bottom")) && (e.runtime.current_element_mouse_down_gallery_control = r, e.runtime.current_element_mouse_down_gallery_control_time = Date.now(), e.runtime.current_element_mouse_down_gallery_control_position_x = t.pageX, i.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("transition-duration", "0ms"), i.getElementsByClassName("ladi-gallery-control-box")[0].setAttribute("data-left", getComputedStyle(i.getElementsByClassName("ladi-gallery-control-box")[0]).left)) }; i.getElementsByClassName("ladi-gallery-view-arrow-left")[0].addEventListener("click", function (t) { t.stopPropagation(), i.setAttribute("data-is-next", !1), i.setAttribute("data-next-time", Date.now() + 1e3 * l), M(i, !1) }), i.getElementsByClassName("ladi-gallery-view-item").length > 1 && i.getElementsByClassName("ladi-gallery-view-arrow-right")[0].classList.remove("opacity-0"), i.getElementsByClassName("ladi-gallery-view-arrow-right")[0].addEventListener("click", function (t) { t.stopPropagation(), i.setAttribute("data-is-next", !0), i.setAttribute("data-next-time", Date.now() + 1e3 * l), M(i, !1) }), i.getElementsByClassName("ladi-gallery-control-arrow-left")[0].addEventListener("click", function (t) { t.stopPropagation(); var a = i.getElementsByClassName("ladi-gallery-control-item")[0]; if (!e.isEmpty(a)) { var r = getComputedStyle(a); if (i.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.remove("opacity-0"), i.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.remove("opacity-0"), i.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-top") || i.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-bottom")) { var n = (parseFloatLadiPage(r.width) || 0) + (parseFloatLadiPage(r.marginRight) || 0); n += parseFloatLadiPage(i.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("left")) || 0; var o = parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control-box")[0]).width) || 0; o = (o = -(o -= parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control")[0]).width) || 0)) > 0 ? 0 : o, n > 0 && (n = 0), i.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("left", n + "px"), n >= 0 && i.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.add("opacity-0"), n <= o && i.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.add("opacity-0") } else { var s = (parseFloatLadiPage(r.height) || 0) + (parseFloatLadiPage(r.marginBottom) || 0); s += parseFloatLadiPage(i.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("top")) || 0; var d = parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control-box")[0]).height) || 0; d = (d = -(d -= parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control")[0]).height) || 0)) > 0 ? 0 : d, s > 0 && (s = 0), i.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("top", s + "px"), s >= 0 && i.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.add("opacity-0"), s <= d && i.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.add("opacity-0") } i.setAttribute("data-next-time", Date.now() + 1e3 * l) } }), (parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control-box")[0]).width) || 0) > (parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control")[0]).width) || 0) && i.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.remove("opacity-0"), i.getElementsByClassName("ladi-gallery-control-arrow-right")[0].addEventListener("click", function (t) { t.stopPropagation(); var a = i.getElementsByClassName("ladi-gallery-control-item")[0]; if (!e.isEmpty(a)) { var r = getComputedStyle(a); if (i.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.remove("opacity-0"), i.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.remove("opacity-0"), i.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-top") || i.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-bottom")) { var n = (parseFloatLadiPage(r.width) || 0) + (parseFloatLadiPage(r.marginRight) || 0); n = -n + (parseFloatLadiPage(i.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("left")) || 0); var o = parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control-box")[0]).width) || 0; n < (o = (o = -(o -= parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control")[0]).width) || 0)) > 0 ? 0 : o) && (n = o), i.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("left", n + "px"), n >= 0 && i.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.add("opacity-0"), n <= o && i.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.add("opacity-0") } else { var s = (parseFloatLadiPage(r.height) || 0) + (parseFloatLadiPage(r.marginBottom) || 0); s = -s + (parseFloatLadiPage(i.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("top")) || 0); var d = parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control-box")[0]).height) || 0; s < (d = (d = -(d -= parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control")[0]).height) || 0)) > 0 ? 0 : d) && (s = d), i.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("top", s + "px"), s >= 0 && i.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.add("opacity-0"), s <= d && i.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.add("opacity-0") } i.setAttribute("data-next-time", Date.now() + 1e3 * l) } }), i.getElementsByClassName("ladi-gallery-view")[0].addEventListener("mousedown", d), i.getElementsByClassName("ladi-gallery-view")[0].addEventListener("touchstart", d), i.getElementsByClassName("ladi-gallery-control")[0].addEventListener("mousedown", c), i.getElementsByClassName("ladi-gallery-control")[0].addEventListener("touchstart", c); for (var u = i.getElementsByClassName("ladi-gallery-control-item"), p = 0; p < u.length; p++)u[p].addEventListener("click", s); e.isEmpty(a["option.product_mapping_name"]) && !i.hasAttribute("data-loaded") && e.runTimeout(function () { i.setAttribute("data-loaded", !0) }, 300) } }, U = function (t, i) { if ((e.isEmpty(e.runtime.timenext_carousel[t]) || !(e.runtime.timenext_carousel[t] > Date.now())) && e.isEmpty(e.runtime.current_element_mouse_down_carousel)) { var a = document.getElementById(t); if (!e.isEmpty(a)) { var r = a.getAttribute("data-is-next") || "true"; r = "true" == r.toLowerCase(); var n = parseFloatLadiPage(a.getAttribute("data-current")) || 0, o = parseFloatLadiPage(e.runtime.eventData[t][e.runtime.device + ".option.carousel_crop.width"]) || 0, l = parseFloatLadiPage(e.runtime.eventData[t][e.runtime.device + ".option.carousel_crop.width_item"]) || 0; l > a.clientWidth && (l = a.clientWidth); var s = Math.ceil(o / l); i ? r ? n >= s - 1 ? (n = s - 2, r = !1) : n++ : n <= 0 ? (n = 1, r = !0) : n-- : r ? n++ : n--, n < 0 && (n = 0), n >= s - 1 && (n = s - 1); var d = 1e3 * (parseFloatLadiPage(getComputedStyle(a.getElementsByClassName("ladi-carousel-content")[0]).transitionDuration) || 0); e.runtime.timenext_carousel[t] = Date.now() + d; var c = e.getElementBoundingClientRect(a), u = c.x + n * l - c.x - (a.clientWidth - l) / 2; u = -u > 0 ? 0 : -u; var p = -(o - a.clientWidth); u < p && (u = p), a.getElementsByClassName("ladi-carousel-content")[0].style.setProperty("left", u + "px"), a.setAttribute("data-is-next", r), a.setAttribute("data-current", n), i || a.setAttribute("data-stop", !0); var m = a.getElementsByClassName("ladi-carousel-arrow-left")[0], g = a.getElementsByClassName("ladi-carousel-arrow-right")[0]; e.isEmpty(m) || m.classList.remove("opacity-0"), e.isEmpty(g) || g.classList.remove("opacity-0"), u >= 0 && m.classList.add("opacity-0"), u <= p && g.classList.add("opacity-0") } } }, j = function (t) { if (e.runtime.isClient && !e.runtime.isDesktop && !e.isEmpty(e.runtime.bodyFontSize)) { var i = (parseFloatLadiPage(getComputedStyle(document.body).fontSize) || 0) / e.runtime.bodyFontSize; if (1 != i) for (var a = document.querySelectorAll(".ladi-paragraph, .ladi-list-paragraph, .ladi-headline, .ladi-countdown, .ladi-form, .ladi-table, .ladi-spin-lucky"), r = 0; r < a.length; r++) { var n = (parseFloatLadiPage(getComputedStyle(a[r]).fontSize) || 0) / (i * i); a[r].style.setProperty("font-size", n + "px") } else t > Date.now() && e.runTimeout(function () { j(t) }, 100) } }, G = function (i, a, r) { if ("form" == a) { var n = e.runtime.eventData[i]; if (!e.isEmpty(n) && n["option.is_add_to_cart"]) { var o = document.getElementById(i); if (!e.isEmpty(o)) { var l = o.querySelector('[data-variant="true"]'); if (!e.isEmpty(l)) { var s = e.runtime.eventData[l.id]; if (!e.isEmpty(s)) { var d = n["option.product_type"], c = n["option.product_id"]; if (!e.isEmpty(d) && !e.isEmpty(c)) { var u = e.generateVariantProduct(n, !0, s["option.product_variant_type"], s["option.product_variant_title"], s["option.product_variant_price"], s["option.input_tabindex"], t, !0, function (t) { G(i, a, r) }); if (!e.isEmpty(u)) { var p = function (t) { e.updateProductVariantSelectOption(t, n, s, r, function () { if (r) { var a = e.generateVariantProduct(n, !1, null, null, null, null, !0, !0), o = e.getProductVariantId(t.target, a.product); if (!e.isArray(a.product.variants)) return; var l = a.product.variants.find(function (t) { return t.product_variant_id == o }); if (e.isEmpty(l)) return; for (var s = document.querySelectorAll("#POPUP_PRODUCT .ladi-element"), d = 0; d < s.length; d++)s[d].id != i && e.runtime.tmp.runLadiSaleProductKey(s[d].id, !1, !1, l, a) } else e.runtime.tmp.generateLadiSaleProduct(!1, !0, t) }) }; e.showParentVisibility(l, function () { for (var t = l.clientHeight, i = t, a = l.querySelectorAll("select.ladi-form-control"), r = {}, d = 0; d < a.length; d++)r[a[d].getAttribute("data-store-id") + "_" + a[d].getAttribute("data-product-id") + "_" + a[d].getAttribute("data-product-option-id")] = a[d].value; l.innerHTML = u; for (var c = l.querySelectorAll("select.ladi-form-control"), m = 0; m < c.length; m++) { c[m].removeEventListener("change", p), c[m].addEventListener("change", p); var g = r[c[m].getAttribute("data-store-id") + "_" + c[m].getAttribute("data-product-id") + "_" + c[m].getAttribute("data-product-option-id")]; if (e.isNull(g)) { var y = c[m].querySelector("option"); e.isEmpty(y) || (g = y.getAttribute("value")) } c[m].value = g } if (e.updateProductVariantSelectOptionFirst(n, s, l), s["option.product_variant_type"] != e.const.PRODUCT_VARIANT_TYPE.combined) l.style.setProperty("height", "auto"), i = l.clientHeight, l.style.removeProperty("height"), t != i && (l.style.setProperty("height", i + "px"), e.updateHeightElement(!0, l, o, t, i)); else if (!e.isEmpty(n["option.product_variant_id"])) for (var _ = 0; _ < c.length; _++) { var f = c[_].querySelector('option[data-product-variant-id="' + n["option.product_variant_id"] + '"]'); e.isEmpty(f) || c[_].value == f.getAttribute("value") || (c[_].value = f.getAttribute("value"), e.fireEvent(c[_], "change")) } }) } } } } } } } }, W = function (i, a, r) { var n = e.findAncestor(i, "ladi-collection-item"), o = [], l = 0, s = null; if (e.isEmpty(n)) { var d = document.querySelectorAll("[data-runtime-id]"); for (l = 0; l < d.length; l++)n = e.findAncestor(d[l], "ladi-collection-item"), e.isEmpty(n) && (s = e.runtime.eventData[d[l].id], e.isEmpty(s) || s["option.product_type"] != r["option.product_type"] || s["option.product_id"] != r["option.product_id"] || o.push(d[l])) } else o = n.querySelectorAll("[data-runtime-id]"); for (l = 0; l < o.length; l++)if (s = e.runtime.eventData[o[l].id], !e.isEmpty(s) && !e.isEmpty(s["option.product_mapping_name"])) { var c = o[l].getElementsByClassName("ladi-gallery-view")[0], u = e.getOptimizeImage(a, c.clientWidth, c.clientHeight, !0, !1, !1, t); u = 'url("' + u + '")'; for (var p = c.getElementsByClassName("ladi-gallery-view-item"), m = 0; m < p.length; m++)if (u == getComputedStyle(p[m]).backgroundImage) { var g = (parseFloatLadiPage(p[m].getAttribute("data-index")) || 0) + 1; window.ladi(o[l].id, o[l]).index(g) } } }, z = function (i, a, r, n, o, l) { var s = e.runtime.eventData[i]; if (!e.isEmpty(s)) { var d = !e.isEmpty(s["option.product_mapping_name"]), c = s.type, u = JSON.stringify(s), p = null; if (e.isEmpty(n)) { if (e.isEmpty(s) || e.isEmpty(s["option.product_type"]) || e.isEmpty(s["option.product_id"]) || e.isEmpty(s["option.product_mapping_name"])) return; var g = s["option.product_variant_id"], y = !1; if (e.isEmpty(g) && (a && (y = !function () { for (var t = !1, i = 0; i < m.length; i++) { var a = e.runtime.eventData[m[i]]; if ("form" == a.type && a["option.product_type"] == s["option.product_type"] && a["option.product_id"] == s["option.product_id"]) { t = !0; break } } return t }()), !e.isEmpty(l))) { if (s["option.product_id"] != l.target.getAttribute("data-product-id")) return; s["option.product_type"], s["option.product_mapping_name"]; var _ = e.generateVariantProduct(s, !1, null, null, null, null, !0, !0, function (t) { z(i, a, r, n, o, l) }); e.isObject(_) && (g = e.getProductVariantId(l.target, _.product)) } if (u === (p = e.generateProductKey(u, !0, s, y, g, n, function (t) { z(i, a, r, n, o, l) }))) return } else { if ("form" == c && s["option.is_add_to_cart"]) return s["option.product_id"] = n.product_id, s["option.product_variant_id"] = n.product_variant_id, void G(i, c, !0); if (!d) return; p = (p = e.generateProductKey(null, !0, s, !1, n.product_variant_id, n)) || "" } var f = null, h = null, v = null; if ("headline" != c && "paragraph" != c || window.ladi(i).value(p), "image" == c) { if (f = document.getElementById(i), e.isEmpty(f)) return; v = e.getOptimizeImage(p, f.clientWidth, f.clientHeight, !0, !1, !1, t), h = "style_add_to_cart_image_" + i; var E = ""; e.isEmpty(v) ? E = "#" + i + "  > .ladi-image > .ladi-image-background {background-image: none;}" : (E = "#" + i + '  > .ladi-image > .ladi-image-background {background-image: url("' + v + '");}', r && W(f, p, s)), e.createStyleElement(h, E) } if ("gallery" == c) { if (!e.isArray(p)) return; if (f = document.getElementById(i), e.isEmpty(f)) return; for (var L = f.getElementsByClassName("ladi-gallery-view")[0], P = f.getElementsByClassName("ladi-gallery-view-item"); P.length < p.length;) { var A = e.createTmpElement("div", '<div class="ladi-gallery-view-item" data-index="' + P.length + '"></div>', null, !0); f.getElementsByClassName("ladi-gallery-view")[0].appendChild(A) } for (; P.length > p.length;)P[P.length - 1].parentElement.removeChild(P[P.length - 1]); for (var w = f.getElementsByClassName("ladi-gallery-control-item"), S = function (t) { q(t, f) }; w.length < p.length;) { var b = e.createTmpElement("div", '<div class="ladi-gallery-control-item" data-index="' + w.length + '"></div>', null, !0); b.addEventListener("click", S), f.getElementsByClassName("ladi-gallery-control-box")[0].appendChild(b) } for (; w.length > p.length;)w[w.length - 1].parentElement.removeChild(w[w.length - 1]); h = "style_add_to_cart_gallery_" + i; var T = ""; p.length <= 1 && (T += "#" + i + " .ladi-gallery .ladi-gallery-view .ladi-gallery-view-arrow {display: none;}", T += "#" + i + " > .ladi-gallery > .ladi-gallery-view {height: 100%;}", T += "#" + i + " > .ladi-gallery > .ladi-gallery-control {display: none;}"); var C = f.getElementsByClassName("ladi-gallery-control-item")[0]; if (p.forEach(function (a, r) { v = e.getOptimizeImage(a.src, L.clientWidth, L.clientHeight, !0, !1, !1, t), T += "#" + i + ' .ladi-gallery .ladi-gallery-view-item[data-index="' + r + '"] {background-image: url("' + v + '");}', v = e.getOptimizeImage(a.src, C.clientWidth, C.clientHeight, !0, !1, !1, t), T += "#" + i + ' .ladi-gallery .ladi-gallery-control-item[data-index="' + r + '"] {background-image: url("' + v + '");}' }), f.setAttribute("data-max-item", p.length), f.setAttribute("data-loaded", !0), e.createStyleElement(h, T), !e.isEmpty(n)) { f.removeAttribute("data-stop"), f.removeAttribute("data-current"), f.removeAttribute("data-is-next"), f.removeAttribute("data-next-time"); var O = f.querySelector(".ladi-gallery-view-item.selected"); e.isEmpty(O) || O.classList.remove("selected"), C = f.querySelector(".ladi-gallery-control-item.selected"), e.isEmpty(C) || C.classList.remove("selected"), C = f.getElementsByClassName("ladi-gallery-control-item")[0], O = f.getElementsByClassName("ladi-gallery-view-item")[0], e.isEmpty(O) || O.classList.add("selected"), e.isEmpty(C) || C.classList.add("selected"); var N = f.getElementsByClassName("ladi-gallery-control-box")[0]; e.isEmpty(N) || N.style.removeProperty("left"); var I = n.src; e.isEmpty(I) && (I = e.isObject(o.product.image) ? o.product.image.src : I), I = "https://" + e.const.STATIC_W_DOMAIN + "/" + I, I = 'url("' + (I = e.getOptimizeImage(I, L.clientWidth, L.clientHeight, !0, !1, !1, t)) + '")'; e.runTimeout(function () { for (var t = f.getElementsByClassName("ladi-gallery-view-item"), e = 0; e < t.length; e++)if (I == getComputedStyle(t[e]).backgroundImage) { var i = (parseFloatLadiPage(t[e].getAttribute("data-index")) || 0) + 1; window.ladi(f.id).index(i) } }, 100) } } } }; this.runtime.tmp.generateLadiSaleProduct = function (t, i, a) { var r = function () { m.forEach(function (r) { e.runtime.eventData[r]; z(r, t, i, null, null, a) }) }, n = function (t) { if (t && e.isEmpty(a)) r(); else { var i = a.target, o = e.findAncestor(i, "ladi-element"); if (!e.isEmpty(o)) { var l = e.findAncestor(o, "ladi-form"); if (!e.isEmpty(l)) { var s = e.findAncestor(l, "ladi-element"); if (!e.isEmpty(s)) { var d = e.runtime.eventData[s.id]; if (!e.isEmpty(d)) { var c = d["option.product_id"]; if (!e.isEmpty(c)) { var u = e.generateVariantProduct(d, !1, null, null, null, null, !0, !0, function (t) { n(!1) }); if (e.isObject(u) && e.isObject(u.store_info) && e.isObject(u.product)) { var p = e.getProductVariantIndex(s.id, d), m = document.querySelectorAll('[data-variant="true"]'); if (-1 != p) for (var g = 0; g < m.length; g++)if (m[g].id != o.id && e.isEmpty(e.findAncestor(m[g], "ladi-collection"))) { var y = e.runtime.eventData[m[g].id]; if (!e.isEmpty(y)) { var _ = e.findAncestor(m[g], "ladi-form"); if (!e.isEmpty(_)) { var f = e.findAncestor(_, "ladi-element"); if (!e.isEmpty(f)) { var h = e.runtime.eventData[f.id]; if (!e.isEmpty(h) && !e.isEmpty(h["option.product_variant_id"])) continue } var v = null; if (y["option.product_variant_type"] == e.const.PRODUCT_VARIANT_TYPE.combobox) { if (!e.isArray(u.product.variants)) continue; var E = u.product.variants[p]; if (e.isString(E.option_ids)) for (var L = E.option_ids.split("/"), P = 0; P < L.length; P++)v = document.querySelector("#" + m[g].id + ' .ladi-form-item select[data-product-option-id="' + L[P] + '"]'), e.isEmpty(v) || v.getAttribute("data-store-id") != u.store_info.id || v.getAttribute("data-product-id") != E.product_id || (v.value = E["option" + (P + 1)]) } if (y["option.product_variant_type"] == e.const.PRODUCT_VARIANT_TYPE.combined) { if (v = m[g].querySelector("select.ladi-form-control"), e.isEmpty(v) || v.getAttribute("data-store-id") != u.store_info.id || v.getAttribute("data-product-id") != u.product.product_id) continue; var A = e.getProductVariantId(o, u); if (!e.isEmpty(A)) { var w = v.querySelector('option[data-product-variant-id="' + A + '"]'); e.isEmpty(w) || (p = w.getAttribute("value")) } v.value = p + "" } } } } for (var S = 0; S < m.length; S++) { var b = e.findAncestor(m[S], "ladi-form"); if (!e.isEmpty(b)) { var T = b.querySelector('input[name="quantity"]'); e.isEmpty(T) || e.fireEvent(T, "input") } } r() } } } } } } } }; n(!0) }, this.runtime.tmp.generateLadiSaleProduct(!0), this.runtime.tmp.generateCart = function () { m.forEach(function (i) { !function (i, a) { if ("cart" == a) { var r = e.runtime.eventData[i]; if (!e.isEmpty(r)) { var n = document.getElementById(i); e.isEmpty(n) || e.showParentVisibility(n, function () { var i = parseFloatLadiPage(getComputedStyle(n).height) || 0, a = parseFloatLadiPage(n.getAttribute("data-height")) || 0; n.hasAttribute("data-height") || (n.setAttribute("data-height", i), a = i); var o = e.generateHtmlCart(r["option.cart_layout"], r["option.message_no_product"], t); n.getElementsByClassName("ladi-cart")[0].innerHTML = o; var l = n.getElementsByClassName("ladi-cart")[0].scrollHeight; if (i != (l = l < a ? a : l)) { n.style.setProperty("height", l + "px"); var s = e.findAncestor(n.parentElement, "ladi-element"); e.isEmpty(s) && (s = e.findAncestor(n.parentElement, "ladi-section")), e.updateHeightElement(!0, n, s, i, l) } }) } } }(i, e.runtime.eventData[i].type) }) }, this.runtime.tmp.runOptionAction = x, this.runtime.tmp.runOptionHover = D, this.runtime.tmp.runTrackingAnalytics = I, this.runtime.tmp.runLadiSaleProductKey = z, this.runtime.tmp.eventClickGalleryControlItem = q, this.runtime.tmp.runGallery = V, this.runtime.tmp.setGalleryStart = H, this.runtime.tmp.updateImageGalleryProduct = W, this.runtime.tmp.runOptionCountdown = B, this.runtime.tmp.runOptionCountdownItem = R, this.runtime.shopping && this.createCartData(), this.loadDataset(null, null, null, null, null, !0, t), m.forEach(function (i) { var a, r = e.runtime.eventData[i], n = LadiPageApp[r.type + e.const.APP_RUNTIME_PREFIX]; e.isEmpty(n) ? (!function (t, i, a, r, n, o) { if ("section" == i && !e.isEmpty(n) && !e.isEmpty(o)) { var l = document.getElementById(t); if (!e.isEmpty(l)) { var s = l.getElementsByClassName("ladi-section-background")[0]; e.isEmpty(s) || (e.runtime.list_scroll_func[t] = function () { if ((!e.runtime.isDesktop || a == e.const.BACKGROUND_STYLE.video) && (e.runtime.isDesktop || r == e.const.BACKGROUND_STYLE.video)) { var i = "", l = t + "_background_video"; n == e.const.VIDEO_TYPE.youtube && (i = '<iframe id="' + l + '" class="ladi-section-background-video" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>', s.innerHTML += i, e.runEventPlayVideo(l, n, o, !0, !0, !1)), n == e.const.VIDEO_TYPE.direct && (i = '<video id="' + l + '" class="ladi-section-background-video" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;"></video>', s.innerHTML += i, e.runEventPlayVideo(l, n, o, !0, !0, !1)) } }) } } }(i, r.type, r[e.const.DESKTOP + ".option.background-style"], r[e.const.MOBILE + ".option.background-style"], r["option.background_video.video_type"], r["option.background_video.video_value"]), x(null, i, r.type, r), a = r["option.data_action"], e.isEmpty(a) || a.type != LadiPageScript.const.DATA_ACTION_TYPE.collapse || e.isEmpty(a.action) || !e.isNull(a.collapse_start_is_show) && a.collapse_start_is_show || window.ladi(a.action).collapse(!1), D(null, i, r.type, r["option.data_hover"]), function (t, i, a, r, n, o, l) { if ("video" == i && !e.isEmpty(a)) { var s = document.getElementById(t); if (!e.isEmpty(s)) { var d = p && o || !p && l; if (d) { var c = function () { e.playVideo(t, r, a, n, d) }, u = e.findAncestor(s, "ladi-popup"); e.isEmpty(u) ? e.runtime.list_scroll_func[t] = c : (u = e.findAncestor(u, "ladi-element"), e.isArray(e.runtime.list_show_popup_func[u.id]) || (e.runtime.list_show_popup_func[u.id] = []), e.runtime.list_show_popup_func[u.id].push(c)) } else { var m = document.querySelectorAll("#" + t + ".preload").length > 0; m && e.playVideo(t, r, a, n, !1, m) } s.addEventListener("click", function (i) { i.stopPropagation(), r == e.const.VIDEO_TYPE.direct && "VIDEO" == i.target.tagName || r == e.const.VIDEO_TYPE.youtube && "IFRAME" == i.target.tagName || e.playVideo(t, r, a, n) }) } } }(i, r.type, r["option.video_value"], r["option.video_type"], r["option.video_control"], r[e.const.DESKTOP + ".option.video_autoplay"], r[e.const.MOBILE + ".option.video_autoplay"]), function (t, i, a, r) { "popup" == i && a && ((e.isEmpty(r) || r < 0) && (r = 0), e.runTimeout(function () { window.ladi(t).show() }, 1e3 * r)) }(i, r.type, r["option.show_popup_welcome_page"], r["option.delay_popup_welcome_page"]), B(i, null, r.type, r["option.countdown_type"], r["option.countdown_minute"], r["option.countdown_daily_start"], r["option.countdown_daily_end"], r["option.countdown_endtime"]), R(i, null, r.type, r["option.countdown_item_type"]), function (t, i, a, r) { if ("section" == i) { var n = document.getElementById(t); if (!e.isEmpty(n)) { var o = n.getElementsByClassName("ladi-section-arrow-down")[0]; N.push(function () { if (e.isEmpty(o)) { if (p) { if (e.isEmpty(a)) return void n.removeAttribute("data-opacity"); var t = (parseFloatLadiPage(a) || 0) + 50; if (t > n.clientHeight) return void n.removeAttribute("data-opacity"); n.setAttribute("data-height", n.clientHeight), n.style.setProperty("height", t + "px"), n.classList.add("overflow-hidden") } else { if (e.isEmpty(r)) return void n.removeAttribute("data-opacity"); var i = (parseFloatLadiPage(r) || 0) + 50; if (i > n.clientHeight) return void n.removeAttribute("data-opacity"); n.setAttribute("data-height", n.clientHeight), n.style.setProperty("height", i + "px"), n.classList.add("overflow-hidden") } (o = document.createElement("div")).className = "ladi-section-arrow-down", n.appendChild(o), n.removeAttribute("data-opacity"), o.addEventListener("click", function (t) { t.stopPropagation(), n.classList.add("ladi-section-readmore"), n.style.removeProperty("height"), n.clientHeight != n.getAttribute("data-height") && n.style.setProperty("height", n.getAttribute("data-height") + "px"), n.removeAttribute("data-height"), n.classList.remove("overflow-hidden"), o.parentElement.removeChild(o), e.runTimeout(function () { n.classList.remove("ladi-section-readmore"), e.runTimeout(e.removeSticky, 100) }, 1e3 * parseFloatLadiPage(getComputedStyle(n).transitionDuration)) }) } }) } } }(i, r.type, r[e.const.DESKTOP + ".option.readmore_range"], r[e.const.MOBILE + ".option.readmore_range"]), function (t, i, a) { if ("form_item" == i) { var r = null; if (a == e.const.INPUT_TYPE.select || a == e.const.INPUT_TYPE.select_multiple) for (var n = document.getElementById(t).getElementsByClassName("ladi-form-control"), o = 0; o < n.length; o++)n[o].addEventListener("change", function (t) { t.target.setAttribute("data-selected", t.target.value) }); if (a == e.const.INPUT_TYPE.checkbox) { r = document.getElementById(t).getElementsByClassName("ladi-form-checkbox-item"); for (var l = function (t) { t.stopPropagation(); var i = e.findAncestor(t.target, "ladi-form-checkbox-item"); e.isEmpty(i) || i.getElementsByTagName("span")[0].setAttribute("data-checked", t.target.checked) }, s = function (t) { t.stopPropagation(); var i = e.findAncestor(t.target, "ladi-form-checkbox-item"); e.isEmpty(i) || i.getElementsByTagName("input")[0].click() }, d = 0; d < r.length; d++) { var c = r[d].getElementsByTagName("input")[0]; r[d].getElementsByTagName("span")[0].addEventListener("click", s), c.addEventListener("change", l) } } if (a == e.const.INPUT_TYPE.radio) { r = document.getElementById(t).getElementsByClassName("ladi-form-checkbox-item"); for (var u = function (t) { var i = e.findAncestor(t.target, "ladi-form-checkbox-item"), a = e.findAncestor(i, "ladi-form-checkbox"); if (!e.isEmpty(a)) { for (var r = a.querySelectorAll(".ladi-form-checkbox-item span"), n = 0; n < r.length; n++)r[n].setAttribute("data-checked", !1); e.isEmpty(i) || i.getElementsByTagName("span")[0].setAttribute("data-checked", t.target.checked) } }, p = function (t) { t.stopPropagation(); var i = e.findAncestor(t.target, "ladi-form-checkbox-item"); e.isEmpty(i) || i.getElementsByTagName("input")[0].click() }, m = 0; m < r.length; m++) { var g = r[m].getElementsByTagName("input")[0]; r[m].getElementsByTagName("span")[0].addEventListener("click", p), g.addEventListener("change", u) } } } }(i, r.type, r["option.input_type"]), V(i, null, !1, r.type), e.startAutoScroll(i, r.type, r[e.const.DESKTOP + ".option.auto_scroll"], r[e.const.MOBILE + ".option.auto_scroll"]), G(i, r.type, !1), function (t, i) { if ("form" == i) { var a = document.getElementById(t); if (!e.isEmpty(a)) { var r = a.querySelector('input[name="quantity"]'); if (!e.isEmpty(r)) { var n = function (i) { if (!e.isEmpty(i.target.value)) { var a = e.runtime.eventData[t]; if (!e.isEmpty(a) && a["option.is_add_to_cart"]) { var r = e.generateVariantProduct(a, !1, null, null, null, null, !0, !0, function () { n(i) }); if (!(e.isEmpty(r) || e.isEmpty(r.store_info) || e.isEmpty(r.product))) { var o = e.getProductVariantIndex(t, a); if (-1 != o) { var l = r.product.variants[o].quantity, s = parseInt(i.target.value) || 0; s <= 0 && (s = 0, (0 == r.product.variants[o].inventory_checked || l > 0) && (s = 1)), 1 == r.product.variants[o].inventory_checked && (s > l || 0 == l) && (s = l), s <= 0 && (s = 1), i.target.value = s } } } } }; r.addEventListener("input", n); var o = a.querySelectorAll("button")[0], l = a.querySelectorAll("button")[1]; e.isEmpty(o) || e.isEmpty(l) || (o.addEventListener("click", function (t) { r.value = (parseFloatLadiPage(r.value) || 0) - 1, e.fireEvent(r, "input") }), l.addEventListener("click", function (t) { r.value = (parseFloatLadiPage(r.value) || 0) + 1, e.fireEvent(r, "input") })) } } } }(i, r.type), function (t, i) { if ("collection" == i) { var a = document.getElementById(t); if (!e.isEmpty(a)) { var r = e.runtime.eventData[t]; if (!e.isEmpty(r)) { var n = r["option.collection_setting.type"], o = a.getElementsByClassName("ladi-collection")[0]; if (n == e.const.COLLECTION_TYPE.carousel && o.classList.add("carousel"), n == e.const.COLLECTION_TYPE.carousel) { var l = document.createElement("div"); l.className = "ladi-collection-arrow ladi-collection-arrow-left opacity-0"; var s = document.createElement("div"); s.className = "ladi-collection-arrow ladi-collection-arrow-right opacity-0", o.appendChild(l), o.appendChild(s), l.addEventListener("click", function (i) { i.stopPropagation(); var n = parseFloatLadiPage(a.getAttribute("data-page")) || 1; n = (n -= 1) < 1 ? 1 : n, e.loadCollectionData(t, r, n, !1) }), s.addEventListener("click", function (i) { i.stopPropagation(); var n = parseFloatLadiPage(a.getAttribute("data-page")) || 1; if (n += 1, a.hasAttribute("data-max-page")) { var o = parseFloatLadiPage(a.getAttribute("data-max-page")) || 1; n = n > o ? o : n } e.loadCollectionData(t, r, n, !1) }) } if (n == e.const.COLLECTION_TYPE.readmore) { var d = document.createElement("div"); d.className = "ladi-collection-button-next opacity-0", o.appendChild(d), d.addEventListener("click", function (i) { i.stopPropagation(); var n = parseFloatLadiPage(a.getAttribute("data-page")) || 1; if (n += 1, a.hasAttribute("data-max-page")) { var o = parseFloatLadiPage(a.getAttribute("data-max-page")) || 1; n = n > o ? o : n } e.loadCollectionData(t, r, n, !1, !0) }) } e.loadCollectionData(t, r, 1, !0) } } } }(i, r.type)) : n(r, t).run(i, p) }), j(Date.now() + 1e3), function () { var i, a = document.getElementsByClassName("ladi-form"), r = null, l = null, s = null, d = null, c = null, u = null, p = null, m = null, g = null, y = null, _ = null, f = ["utm_source", "utm_medium", "utm_campaign", "utm_term", "utm_content"], h = ["name", "email", "phone", "address", "ward", "district", "state", "country"], v = ["email", "phone"], L = e.copy(e.runtime.list_set_value_name_country).reverse(), P = function (t, i) { var a = window.ladi("_capture_" + t).get_cookie(); return e.isEmpty(a) && (a = i + "|" + e.runtime.ladipage_id + "|" + Date.now() + "|" + e.randomId(), window.ladi("_capture_" + t).set_cookie(a, 3e5 / 864e5, window.location.pathname)), a }, A = function (t, i, a) { if (i && e.isEmpty(r[a])) return !1; var n = []; if (g.forEach(function (t) { e.isEmpty(r[t]) && n.push(t) }), i && (n = n.only([a])), n.length > 0) return i || e.showMessage(e.const.LANG.FORM_INPUT_REQUIRED_ERROR, null, function () { var i = t.querySelector('[name="' + n[0] + '"]'); e.isEmpty(i) || i.focus() }), !1; var o = !0, l = 0, s = function () { var i = t.querySelector('[name="' + y[l].name + '"]'); e.isEmpty(i) || i.focus() }; for (l = 0; l < y.length; l++)if (!i || y[l].name == a) { var d = r[y[l].name]; if (!e.isEmpty(d)) try { if (!new RegExp("^" + y[l].pattern + "$", y[l].pattern_flag).test(d)) { i || e.showMessage(y[l].title, null, s), o = !1; break } } catch (t) { } } return o }, w = function (t, i) { r = {}, l = {}; for (var a = t.querySelectorAll(".ladi-element .ladi-form-item-container [name]"), o = {}, c = null, u = 0; u < a.length; u++)c = a[u].getAttribute("name"), o[c] = parseInt(a[u].getAttribute("tabindex")) || 0; var p = Object.keys(o).sort(function (t, e) { return o[t] - o[e] }); if (p.only(e.runtime.list_set_value_name_country).length == e.runtime.list_set_value_name_country.length) for (var m = 0; m < p.length; m++) { var _ = e.runtime.list_set_value_name_country.indexOf(p[m]); -1 != _ && (p[m] = L[_]) } for (var f = 0; f < p.length; f++)r[p[f]] = ""; d = Object.keys(r); for (var v = 0; v < a.length; v++) { c = a[v].getAttribute("name"), a[v].required && -1 == g.indexOf(c) && g.push(c); var E = null; if ("INPUT" == a[v].tagName) { E = a[v].getAttribute("type").trim().toLowerCase(); var P = a[v].getAttribute("pattern"), A = a[v].getAttribute("title"); if ("email" == E ? y.push({ name: c, pattern: '(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))', pattern_flag: "gi", title: e.const.LANG.FORM_INPUT_EMAIL_REGEX }) : e.isEmpty(P) || y.push({ name: c, pattern: P, title: e.isEmpty(A) ? e.const.LANG.FORM_INPUT_TEXT_REGEX : A }), "checkbox" == E) { e.isArray(r[c]) || (r[c] = []), a[v].checked && r[c].push(a[v].value); continue } if ("radio" == E) { a[v].checked && (r[c] = a[v].value); continue } } r[c] = a[v].value, a[v].hasAttribute("data-path-file") && (r[c] = JSON.parse(a[v].getAttribute("data-path-file")), l[c] = !0), "coupon" == c && "INPUT" == a[v].tagName && "text" == E && "true" == a[v].getAttribute("data-replace-coupon") && (r[c] = e.runtime.tmp.current_use_coupon || "") } i || h.forEach(function (t) { e.isNull(r[t]) || (window.ladi("_ladipage_" + t).set_cookie(r[t], 365, null, window.location.host), e.isArray(e.runtime.DOMAIN_SET_COOKIE) && e.runtime.DOMAIN_SET_COOKIE.forEach(function (e) { e != window.location.host && window.ladi("_ladipage_" + t).set_cookie(r[t], 365, null, e) })) }), s = n(r) }, S = function (t, i, a) { var n = { form_config_id: c, ladipage_id: e.runtime.ladipage_id, tracking_form: [], form_data: [], data_key: i }; if (t) n.status_send = 1; else if (n.status_send = 2, e.runtime.shopping) { var o = window.ladi("_checkout_token").get_cookie(); e.isEmpty(o) || (n.checkout_token = o) } e.isEmpty(m) || (n.captcha_token = m), e.isEmpty(u) || (n.total_revenue = u), e.isEmpty(e.runtime.time_zone) || (n.time_zone = e.runtime.time_zone); var s = Object.keys(LadiFormApi); if (d.forEach(function (t) { var i = r[t]; e.isArray(i) && 0 == i.length && (i = ""); var a = { name: t, value: i = -1 != s.indexOf(t) ? LadiFormApi[t] : i }; l[t] && (a.is_file = !0), n.form_data.push(a) }), (s = s.except(d)).forEach(function (t) { n.form_data.push({ name: t, value: LadiFormApi[t] }) }), e.runtime.shopping) { if (!e.isNull(p)) { n.form_data.push({ name: "cart_products", value: p, is_ladipage: !0 }), e.isEmpty(e.runtime.tmp.add_to_cart_shipping_method_id) || n.form_data.push({ name: "cart_shipping", value: e.runtime.tmp.add_to_cart_shipping_method_id + "|" + (e.runtime.tmp.add_to_cart_fee_shipping || 0), is_ladipage: !0 }); var g = n.form_data.findIndex(function (t) { return "coupon" == t.name }); -1 != g && (n.form_data[g].is_ladipage = !0) } e.isEmpty(u) || n.form_data.push({ name: "cart_revenue", value: u, is_ladipage: !0 }) } n.tracking_form.push({ name: "url_page", value: window.location.href }), f.forEach(function (t) { var i = _[t]; i = e.isNull(i) ? "" : i, n.tracking_form.push({ name: t, value: i }) }), n.tracking_form.push({ name: "variant_url", value: E }), n.tracking_form.push({ name: "variant_content", value: e.generateVariantContentString(C, !0) }), e.isFunction(a) && a(n) }, b = function (t) { t.reset(); for (var i = t.querySelectorAll(".ladi-element .ladi-form-item-container .ladi-form-checkbox-item input"), a = 0; a < i.length; a++) { var r = e.findAncestor(i[a], "ladi-form-checkbox-item").querySelector("span"); e.isEmpty(r) || r.setAttribute("data-checked", i[a].checked) } }, T = function (t, i) { w(t, !1), A(t, !1, null) && (S(!1, i, function (t) { e.sendRequest("POST", e.const.API_FORM_DATA, JSON.stringify(t), !0, { "Content-Type": "application/json" }) }), e.showMessage(e.const.LANG.FORM_SEND_DATA_NO_CONFIG), b(t)) }, N = function () { e.showMessage(e.const.LANG.FORM_CAPTCHA_ERROR) }, k = function (i, a, n, o, h) { _ = e.getURLSearchParams(null, null, !1), r = {}, l = {}, s = {}, d = [], c = null, u = null, p = null, m = a.captcha_token, g = [], y = []; var v = i.getElementsByClassName("ladi-form")[0]; if (!e.isEmpty(v)) { var E = e.runtime.eventData[i.id]; if (!e.isEmpty(E)) { if (E["option.is_add_to_cart"]) return; c = E["option.form_config_id"], u = parseFloatLadiPage(E["option.form_purchase_value"]) || 0, e.runtime.shopping && (u = e.getCartCheckoutPrice(u), p = e.getCartProducts()) } if (n) { if (e.isEmpty(o)) return; if (w(v, n), !A(v, n, h)) return; return a.captcha && !e.isEmpty(E) && E["option.form_captcha"] && e.isObject(e.runtime.tmp.google_captcha) ? void (window.grecaptcha && window.grecaptcha.ready(function () { try { window.grecaptcha.execute(e.runtime.tmp.google_captcha.api_key, { action: "submit" }).then(function (t) { k(i, { captcha_token: t }, n, o, h) }) } catch (t) { } })) : void S(n, o, function (t) { var i = t.form_data.findIndex(function (t) { return t.name == h }), a = -1 != i ? t.form_data[i].value : null; !e.isEmpty(e.runtime.tmp.capture_form_data_last[o + "_" + h]) && e.equals(e.runtime.tmp.capture_form_data_last[o + "_" + h], a) || (e.runtime.tmp.capture_form_data_last[o + "_" + h] = a, e.sendRequest("POST", e.const.API_FORM_DATA, JSON.stringify(t), !0, { "Content-Type": "application/json" })) }) } if (e.isEmpty(E)) T(v, o); else if (e.isNull(e.runtime.tmp.form_sending) && (e.runtime.tmp.form_sending = {}), e.isNull(e.runtime.tmp.form_button_headline) && (e.runtime.tmp.form_button_headline = {}), !e.runtime.tmp.form_sending[i.id]) { var L = function () { e.runtime.tmp.form_sending[i.id] = !0; var t = v.querySelector(".ladi-button > .ladi-element > .ladi-headline"); e.isNull(e.runtime.tmp.form_button_headline[i.id]) && (e.runtime.tmp.form_button_headline[i.id] = t.innerHTML), t.innerHTML = "● ● ●" }, P = function () { delete e.runtime.tmp.form_sending[i.id], v.querySelector(".ladi-button > .ladi-element > .ladi-headline").innerHTML = e.runtime.tmp.form_button_headline[i.id] }; if (a.captcha && !e.isEmpty(E) && E["option.form_captcha"] && e.isObject(e.runtime.tmp.google_captcha)) window.grecaptcha ? (L(), window.grecaptcha.ready(function () { try { window.grecaptcha.execute(e.runtime.tmp.google_captcha.api_key, { action: "submit" }).then(function (t) { P(), k(i, { captcha_token: t }, n, o, h) }).catch(function () { N(), P() }) } catch (t) { N(), P() } })) : e.showMessage(e.const.LANG.FORM_CAPTCHA_LOADING); else { var C = E["option.form_send_ladipage"], x = E["option.form_api_data"], D = E["option.thankyou_type"], B = E["option.thankyou_value"], R = E["option.deeplink_value"], M = E["option.form_auto_funnel"], F = E["option.form_thankyou_funnel"]; if (e.isEmpty(c)) T(v, o); else if (w(v, n), A(v, n, h)) { var V = 0, q = 0, Y = [], H = !1, U = !1, j = !0, G = function (t) { t && b(v), P() }, W = function (a, n, o, l) { if (o.readyState == XMLHttpRequest.DONE) { if (l == e.const.API_FORM_DATA) { var d = {}; try { d = JSON.parse(a) } catch (t) { } 200 == d.code ? V++ : (q++, j = !1) } else 200 == n || 201 == n ? V++ : e.getElementAHref(l).host == e.const.DOMAIN_GOOGLE_DOCS ? V++ : q++; V + q == Y.length && (j && !H && V >= 1 ? (H = !0, function (t, i) { var a = null, r = !1, n = function (t, n) { r || (e.isFunction(i) && i(t, n), e.removeTimeout(a), r = !0) }; a = e.runTimeout(n, 3e3), I("FormSubmit", { total_revenue: t }, n) }(u, function (a, n) { e.runEventTracking(i.id, !0), window.ladi("_capture_" + i.id).delete_cookie(), window.ladi("_cart_token").delete_cookie(), window.ladi("_checkout_token").delete_cookie(), e.runtime.tmp.current_use_coupon = null, e.createCartData(), G(!0); var o = e.findAncestor(i, "ladi-popup"); e.isEmpty(o) || (o = e.findAncestor(o, "ladi-element"), e.runRemovePopup(o.id, t)), function () { var t = 0; if (!e.runtime.isDesktop && !e.isEmpty(R)) { t = 1e3; var i = e.convertDataReplaceStr(R, !0, null, !1, s); window.ladi(i).open_url() } if (!F || e.isEmpty(O)) { if (D == e.const.FORM_THANKYOU_TYPE.default && (e.isEmpty(B) || e.showMessage(B, s)), D == e.const.FORM_THANKYOU_TYPE.popup && (M && e.setDataReplaceElement(!1, !1, s, B), window.ladi(B).show()), D == e.const.FORM_THANKYOU_TYPE.url && !e.isEmpty(B)) { var a = window.ladi(B).get_url(r, M, !0); e.runTimeout(function () { window.ladi(a).open_url() }, t) } } else { var n = window.ladi(O).get_url(r, M, !1); e.runTimeout(function () { window.ladi(n).open_url() }, t) } }() })) : !U && q >= 1 && (U = !0, e.showMessage(e.const.LANG.FORM_SEND_DATA_ERROR), G(!1))) } }, z = function (t) { Y.push({ url: e.const.API_FORM_DATA, data: JSON.stringify(t), async: !0, headers: { "Content-Type": "application/json" }, callback: W }) }; C && S(n, o, z), e.isArray(x) && x.forEach(function (t) { if (!e.isEmpty(t.api_url) && e.isArray(t.custom_fields)) { var i = e.getElementAHref(t.api_url).host == e.const.DOMAIN_GOOGLE_DOCS, a = {}, r = null, n = null, o = null; t.custom_fields.forEach(function (t) { if (e.runtime.shopping && ("cart_products" == t.ladi_name && (r = t.name), "cart_revenue" == t.ladi_name && (n = t.name), "cart_shipping" == t.ladi_name && (o = t.name)), !l[t.ladi_name]) { var i = s[t.ladi_name]; e.isNull(i) || (e.isArray(i) ? 0 == i.length ? a[t.name] = "" : a[t.name] = JSON.stringify(i) : a[t.name] = i) } }), e.isEmpty(r) || e.isNull(p) || (a[r] = JSON.stringify(p)), e.isEmpty(n) || e.isNull(u) || (a[n] = u), e.isEmpty(o) || e.isNull(e.runtime.tmp.add_to_cart_shipping_method_id) || (a[o] = e.runtime.tmp.add_to_cart_shipping_method_id + "|" + (e.runtime.tmp.add_to_cart_fee_shipping || 0)); var d = {}; if (!e.isEmpty(t.api_request_header)) try { var c = JSON.parse(t.api_request_header); Object.keys(c).forEach(function (t) { d[t] = c[t] }) } catch (t) { } i || (a.link = window.location.href, Object.keys(LadiFormApi).forEach(function (t) { a[t] = LadiFormApi[t] }), f.forEach(function (t) { var i = _[t]; e.isNull(i) || (a[t] = i) })); var m = null, g = t.content_type || e.const.CONTENT_TYPE.form_urlencoded; g == e.const.CONTENT_TYPE.form_urlencoded && (d["Content-Type"] = "application/x-www-form-urlencoded", m = Object.keys(a).reduce(function (t, e) { return t.push(e + "=" + encodeURIComponent(a[e])), t }, []).join("&")), g == e.const.CONTENT_TYPE.json && (d["Content-Type"] = "application/json", m = JSON.stringify(a)), g == e.const.CONTENT_TYPE.form_data && (m = new FormData, Object.keys(a).forEach(function (t) { m.append(t, a[t]) })), Y.push({ url: t.api_url, data: m, async: !0, headers: d, callback: W }) } }), Y.length > 0 ? L() : C ? T(v, o) : (L(), S(n, o, z)), Y.forEach(function (t) { e.sendRequest("POST", t.url, t.data, t.async, t.headers, t.callback) }) } } } } }, x = function (t) { var i = e.findAncestor(t.target, "ladi-element"); if (!e.isEmpty(i)) for (var a = i.querySelectorAll('[type="checkbox"]'), r = 0; r < a.length; r++)a[r].removeAttribute("required") }, D = function (t) { var i = e.findAncestor(t.target, "ladi-element"); if (!e.isEmpty(i)) { for (var a = i.querySelectorAll('[ladi-checkbox-required="true"]'), r = -1, n = 0; n < a.length; n++)if (0 == a[n].querySelectorAll('[type="checkbox"]:checked').length) { r = n; break } if (-1 == r) { var o = null, l = e.runtime.eventData[i.id]; e.isEmpty(l) || !l["option.form_auto_capture"] || e.isEmpty(l["option.form_config_id"]) || (o = P(i.id, l["option.form_config_id"])), k(i, { captcha: !0 }, !1, o) } else { var s = a[r].querySelectorAll('[type="checkbox"]'); if (s.length > 0) { s[0].setAttribute("required", "required"); for (var d = 0; d < s.length; d++)s[d].removeEventListener("change", x), s[d].addEventListener("change", x); i.querySelector(".ladi-form").reportValidity() } } } return !1 }, B = function (t, i, a, r) { var n = e.findAncestor(t.target, "ladi-form"); if (!e.isEmpty(n)) { var o = e.findAncestor(n, "ladi-element"); if (!(e.isEmpty(o) || (a = i ? a : e.runtime.eventData[o.id], e.isEmpty(a) || !a["option.is_buy_now"] && !a["option.is_add_to_cart"] || e.isEmpty(a["option.product_type"]) || e.isEmpty(a["option.product_id"])))) { var l = function () { var n = e.generateVariantProduct(a, !1, null, null, null, null, !0, !0, l); if (e.isEmpty(n) || e.isEmpty(n.store_info) || e.isEmpty(n.product)) e.isEmpty(e.runtime.tmp.timeout_product_info[a["option.product_type"]][a["option.product_id"]]) && e.showMessage(e.const.LANG.ADD_TO_CART_NO_PRODUCT); else { var s = -1, d = null; if (i) { var c = o.querySelector('[data-variant="true"]'); d = e.getProductVariantId(c, n.product), e.isEmpty(d) || (s = n.product.variants.findIndex(function (t) { return t.product_variant_id == d })) } else s = e.getProductVariantIndex(o.id, a); if (-1 != s) { var u = n.product.variants[s].product_id; d = n.product.variants[s].product_variant_id; var p = n.product.name, m = n.product.variants[s].title, g = n.product.variants[s].price, y = n.product.variants[s].quantity, _ = e.isEmpty(n.product.variants[s].src) ? "" : n.product.variants[s].src; _ = e.isEmpty(_) && e.isObject(n.product.image) ? n.product.image.src : _, e.isEmpty(_) || (_ = "https://" + e.const.STATIC_W_DOMAIN + "/" + _); var f = e.runtime.tmp.cart.findIndex(function (t) { return t.product_variant_id == d }), h = !1; -1 == f && (h = !0, e.runtime.tmp.cart.push({ store_id: n.store_info.id, product_id: u, product_variant_id: d, name: p, title: m, price: g, image: _, quantity: 0, inventory_checked: n.product.variants[s].inventory_checked, available_quantity: y, currency: n.store_info.currency }), f = e.runtime.tmp.cart.length - 1); var v = o.querySelector('input[name="quantity"]'); if (e.isEmpty(v) || e.isEmpty(v.value)) e.showMessage(e.const.LANG.ADD_TO_CART_QUANTITY_REQUIRED); else { var E = parseInt(v.value) || 0; if (0 == E) e.showMessage(e.const.LANG.ADD_TO_CART_QUANTITY_REQUIRED); else { var L = !1; if (1 == n.product.variants[s].inventory_checked && e.runtime.tmp.cart[f].quantity + E > y && (E = y - e.runtime.tmp.cart[f].quantity, y > 0 && (L = !0)), L || E <= 0 && y > 0) e.showMessage(e.const.LANG.ADD_TO_CART_MAX_QUANTITY, { max: y }, function () { var i = t.target; i = e.findAncestor(i, "ladi-button"), e.isEmpty(i) || (i = e.findAncestor(i, "ladi-element")); var a = e.runtime.eventData[i.id]; e.isEmpty(a) || !e.isObject(a["option.data_action"]) || e.isEmpty(a["option.data_action"].type) || (a["option.data_action"].type == e.const.DATA_ACTION_TYPE.popup_cart && window.ladi("POPUP_CART").show(), a["option.data_action"].type == e.const.DATA_ACTION_TYPE.popup_checkout && window.ladi("POPUP_CHECKOUT").show()) }); else if (E > 0) { var P = function () { e.runtime.tmp.cart[f].quantity += E, e.addCartCookie(n.store_info.id, { type: "LP", product_variant_id: d, quantity: E }, function () { e.isFunction(r) && r(); var t = document.getElementsByClassName("ladi-form-remove-coupon")[0]; e.isEmpty(t) || t.click(), e.updateCartPromotion() }, function (t) { e.runtime.tmp.cart[f].quantity -= E, h && e.runtime.tmp.cart.splice(f, 1), e.showMessage(t.message) }, function () { e.runtime.tmp.generateCart(), e.changeTotalPriceCart(), e.runtime.tmp.is_click_add_to_cart = !1, 0 == e.runtime.tmp.cart.length && (window.ladi("_cart_token").delete_cookie(), window.ladi("_checkout_token").delete_cookie()), e.runResizeAll() }) }; if (e.isEmpty(window.ladi("_cart_token").get_cookie())) if (e.runtime.tmp.is_click_add_to_cart) { var A = function () { e.runTimeout(function () { if (e.runtime.tmp.is_click_add_to_cart) return A(); l() }, 100) }; A() } else e.runtime.tmp.is_click_add_to_cart = !0, P(); else P() } else y <= 0 && e.showMessage(e.const.LANG.ADD_TO_CART_NO_QUANTITY) } } } else e.showMessage(e.const.LANG.ADD_TO_CART_PRODUCT_REQUIRED) } }; l() } } }, R = function (t) { B(t, !1, null, function () { var i = e.findAncestor(t.target, "ladi-button"); i = e.findAncestor(i || t.target, "ladi-element"); var a = e.runtime.eventData[i.id]; if (!e.isEmpty(a) && e.isObject(a["option.data_action"])) { var r = null; a["option.data_action"].type == e.const.DATA_ACTION_TYPE.popup_cart && (r = document.getElementById("POPUP_CART")), a["option.data_action"].type == e.const.DATA_ACTION_TYPE.popup_checkout && (r = document.getElementById("POPUP_CHECKOUT")), e.isEmpty(r) || window.ladi(r.id).show(), e.runEventTracking(i.id, !1) } }) }, M = function (t) { var i = e.findAncestor(t.target, "ladi-form"); e.isEmpty(i) || (i = e.findAncestor(i, "ladi-element"), e.isEmpty(i) || window.ladi(i.id).submit()) }, F = function (t) { var i = e.findAncestor(t.target, "ladi-form"); if (!e.isEmpty(i)) { var a = e.findAncestor(i, "ladi-element"); if (!e.isEmpty(a)) { var r = e.runtime.eventData[a.id]; if (!e.isEmpty(r) && r["option.form_auto_capture"] && !e.isEmpty(r["option.form_config_id"])) { var n = P(a.id, r["option.form_config_id"]); k(a, { captcha: !0 }, !0, n, t.target.getAttribute("name")) } } } }, V = {}; h.forEach(function (t) { V[t] = window.ladi("_ladipage_" + t).get_cookie(), e.isEmpty(o[t]) || (V[t] = o[t]) }), i = n(V); var q = 0, Y = !1, H = function (t) { for (var r = a[q].querySelectorAll('.ladi-element .ladi-form-item-container [name="' + t + '"]'), n = 0; n < r.length; n++) { var o = V[t]; if (!e.isEmpty(o)) if ("true" != r[n].getAttribute("data-is-select-country") && (o = i[t]), "SELECT" == r[n].tagName) r[n].querySelectorAll('option[value="' + o + '"]').length > 0 && (r[n].value = o, Y && e.fireEvent(r[n], "change")); else { if ("country" == t && "true" == r[n].getAttribute("data-is-select-country")) continue; r[n].value = o, Y && e.fireEvent(r[n], "change") } } }; for (q = 0; q < a.length; q++) { a[q].onsubmit = D; for (var U = e.findAncestor(a[q], "ladi-element"), j = a[q].getElementsByClassName("ladi-button"), G = 0; G < j.length; G++) { var W = a[q].getElementsByClassName("ladi-button")[G]; if (!e.isEmpty(W)) { var z = e.findAncestor(W, "ladi-element"); e.isEmpty(U) || e.isEmpty(e.runtime.eventData[U.id]) || !e.runtime.eventData[U.id]["option.is_add_to_cart"] ? z.addEventListener("click", M) : (z.setAttribute("data-click", !1), z.addEventListener("click", R)) } } var X = a[q].querySelector('[data-is-select-country="true"][name="country"]'); if (!e.isEmpty(X) && -1 != ["TH", "MY"].indexOf(X.value.split(":")[0])) { var K = a[q].querySelector('select[data-is-select-country="true"][name="ward"]'); e.isEmpty(K) || K.removeAttribute("required") } for (var J = a[q].querySelectorAll("[tabindex]"), Z = 0, $ = 0; $ < J.length; $++) { var Q = parseInt(J[$].getAttribute("tabindex")) || 0; Q > Z && (Z = Q), J[$].setAttribute("tabindex", e.runtime.tabindexForm + Q) } e.runtime.tabindexForm += Z; for (var tt = 0; tt < v.length; tt++) { var et = a[q].querySelector('.ladi-element .ladi-form-item-container input[name="' + v[tt] + '"]'); e.isEmpty(et) || et.addEventListener("focusout", F) } } var it = function (t, i) { for (Y = i, q = 0; q < a.length; q++) { var r = e.findAncestor(a[q], "ladi-element"); !e.isEmpty(e.runtime.eventData[r.id]) && e.runtime.eventData[r.id]["option.form_auto_complete"] && t.forEach(H) } }; it(e.copy(h).except(e.runtime.list_set_value_name_country)); e.runtime.tmp.runAfterLocation.push(function () { var t = "", i = "", r = "", n = "", o = function (e) { var a = window.LadiLocation[i].data[e]; t += '<option value="' + a.id + ":" + a.name + '">' + a.name + "</option>" }, l = function (t) { var i = window.LadiLocation[t.target.getAttribute("data-country")].data[t.target.value.split(":")[0]]; r = "", e.isEmpty(i) || Object.keys(i.data).forEach(function (t) { var e = i.data[t]; r += '<option value="' + e.id + ":" + e.name + '">' + e.name + "</option>" }); var a = e.findAncestor(t.target, "ladi-element"); if (!e.isEmpty(a)) { var n = a.querySelector('select[name="district"]'); e.isEmpty(n) || (n.setAttribute("data-selected", ""), n.innerHTML = n.querySelector("option").outerHTML + r); var o = a.querySelector('select[name="ward"]'); e.isEmpty(o) || (o.setAttribute("data-selected", ""), o.innerHTML = o.querySelector("option").outerHTML), e.reloadFeeShipping({ target: o }) } }, s = function (t) { var i = e.findAncestor(t.target, "ladi-element"); if (!e.isEmpty(i)) { var a = i.querySelector('select[name="ward"]'); if (!e.isEmpty(a)) { a.setAttribute("data-selected", ""), n = ""; var r = i.querySelector('select[name="state"]'); if (!e.isEmpty(r)) { var o = r.getAttribute("data-selected"); if (!e.isEmpty(o)) { o = o.split(":")[0]; var l = window.LadiLocation[r.getAttribute("data-country")].data[o]; if (!e.isEmpty(l)) { var s = l.data[t.target.value.split(":")[0]]; e.isEmpty(s) || Object.keys(s.data).forEach(function (t) { var e = s.data[t]; n += '<option value="' + e.id + ":" + e.name + '">' + e.name + "</option>" }) } } } a.innerHTML = a.querySelector("option").outerHTML + n } e.reloadFeeShipping({ target: a }) } }; for (q = 0; q < a.length; q++) { var d = a[q].querySelectorAll('.ladi-element .ladi-form-item-container [name="state"]'), c = 0, u = null; for (c = 0; c < d.length; c++)if (u = e.findAncestor(d[c], "ladi-element"), !e.isEmpty(u) && (i = e.runtime.eventData[u.id]["option.input_country"], !e.isEmpty(i) && (t = "", i = i.split(":")[0], !e.isEmpty(window.LadiLocation[i])))) { var p = window.LadiLocation[i].data; Object.keys(p).forEach(o), d[c].innerHTML = d[c].querySelector("option").outerHTML + t, d[c].setAttribute("data-country", i), d[c].addEventListener("change", l) } var m = a[q].querySelectorAll('.ladi-element .ladi-form-item-container [name="district"]'); for (c = 0; c < m.length; c++)m[c].addEventListener("change", s) } }), e.runtime.tmp.runAfterLocation.push(function () { it(L, !0) }), e.runtime.tmp.buttonAddToCartClick = B }(), function () { for (var t = document.querySelectorAll(".ladi-form .ladi-element .ladi-form-control-file"), i = function (t) { var i = t.target, a = document.getElementById("input-file-tmp"); e.isEmpty(a) && ((a = document.createElement("input")).id = "input-file-tmp", a.multiple = !0, a.type = "file", a.className = "ladi-hidden", r.setAttribute("accept", ".jpg, .jpeg, .png, .gif, .svg, .ico, .mp3, .mp4, .ttf, .otf, .woff2, .txt, .doc, .docx, .xls, .xlsx, .pdf"), document.body.appendChild(a), a.addEventListener("change", function (t) { !function (t, i, a) { if (i.length > e.const.FORM_UPLOAD_FILE_LENGTH) e.showMessage(e.const.LANG.FORM_UPLOAD_FILE_MAX_LENGTH_ERROR, { max_length: e.const.FORM_UPLOAD_FILE_LENGTH }); else { for (var r = new FormData, n = 0, o = 0; o < i.length; o++)n += i[o].size, r.append("file[]", i[o]); if (n > 1024 * e.const.FORM_UPLOAD_FILE_SIZE * 1024) e.showMessage(e.const.LANG.FORM_UPLOAD_FILE_MAX_SIZE_ERROR, { max_size: e.const.FORM_UPLOAD_FILE_SIZE }); else { var l = { ladipage_id: e.runtime.ladipage_id, lang: e.runtime.lang }; r.append("json_data", JSON.stringify(l)), e.showLoadingBlur(), e.sendRequest("POST", e.const.API_FILE_UPLOAD, r, !0, null, function (i, a, r) { if (r.readyState == XMLHttpRequest.DONE) { if (e.hideLoadingBlur(), 200 == a) try { var n = JSON.parse(i); if (200 == n.code) { var o = [], l = []; return n.data.success.forEach(function (t) { o.push(t.name), l.push({ id: t._id, path: t.path }) }), t.value = o.length > 0 ? "[" + o.join(", ") + "]" : "", void t.setAttribute("data-path-file", JSON.stringify(l)) } if (!e.isEmpty(n.message)) return void e.showMessage(n.message) } catch (t) { } e.showMessage(e.const.LANG.FORM_SEND_DATA_ERROR) } }), e.isFunction(a) && a() } } }(i, t.target.files, function () { t.target.parentElement.removeChild(t.target) }) })), a.click() }, a = 0; a < t.length; a++) { var r = t[a], n = e.findAncestor(r, "ladi-form"); n = e.findAncestor(n, "ladi-element"); var o = e.runtime.eventData[n.id]; !e.isEmpty(o) && o["option.form_send_ladipage"] && (r.readOnly = !0, r.style.setProperty("cursor", "pointer"), r.addEventListener("click", i)) } }(), (u = function () { m.forEach(function (t) { if ("countdown" == e.runtime.eventData[t].type) for (var i = document.querySelectorAll("#" + t), a = 0; a < i.length; a++) { var r = i[a], n = r.getAttribute("data-type"), o = 0, l = 0, s = Date.now(); if (r.hasAttribute("data-date-start") || r.hasAttribute("data-date-end")) o = parseFloatLadiPage(r.getAttribute("data-date-start")) || 0, l = parseFloatLadiPage(r.getAttribute("data-date-end")) || 0; else { if (n == e.const.COUNTDOWN_TYPE.countdown) { var d = parseInt(r.getAttribute("data-minute")) || 0; if (d <= 0) return; for (l = e.runtime.timenow; l <= s;)l += 60 * d * 1e3 } if (n == e.const.COUNTDOWN_TYPE.endtime && (l = parseInt(r.getAttribute("data-endtime")) || 0), n == e.const.COUNTDOWN_TYPE.daily) { var c = r.getAttribute("data-daily-start"), u = r.getAttribute("data-daily-end"); if (!e.isEmpty(c) && !e.isEmpty(u)) { var p = (new Date).toDateString(); o = new Date(p + " " + c).getTime(), l = new Date(p + " " + u).getTime() } } r.setAttribute("data-date-start", o), r.setAttribute("data-date-end", l) } if (o > s) return; var m = l - s; m < 0 && (m = 0); for (var g = e.getCountdownTime(m), y = r.querySelectorAll("[data-item-type]"), _ = 0; _ < y.length; _++)y[_].querySelectorAll(".ladi-countdown-text span")[0].textContent = g[y[_].getAttribute("data-item-type")] } }) })(), e.runtime.interval_countdown = e.runInterval(u, 1e3), m.forEach(function (t) { var i = document.getElementById(t); e.isEmpty(i) || H(t, i) }), e.runtime.interval_gallery = e.runInterval(Y, 1e3), m.forEach(function (t) { var i = e.runtime.eventData[t]; if ("carousel" == i.type) { var a = document.getElementById(t); if (!e.isEmpty(a)) { a.hasAttribute("data-scrolled") || (a.setAttribute("data-scrolled", !1), e.runtime.list_scroll_func[t] = function () { a.setAttribute("data-scrolled", !0) }); var r = i[e.runtime.device + ".option.carousel_setting.autoplay"], n = i[e.runtime.device + ".option.carousel_setting.autoplay_time"], o = 0; r && !e.isEmpty(n) && (o = n); var l = function (i) { i.stopPropagation(), i = e.getEventCursorData(i), !e.isEmpty(e.runtime.timenext_carousel[t]) && e.runtime.timenext_carousel[t] > Date.now() || (e.runtime.timenext_carousel[t] = Date.now() + 864e5, e.runtime.current_element_mouse_down_carousel = t, e.runtime.current_element_mouse_down_carousel_position_x = i.pageX, a.getElementsByClassName("ladi-carousel-content")[0].style.setProperty("transition-duration", "0ms"), a.getElementsByClassName("ladi-carousel-content")[0].setAttribute("data-left", getComputedStyle(a.getElementsByClassName("ladi-carousel-content")[0]).left)) }; a.getElementsByClassName("ladi-carousel-arrow-left")[0].addEventListener("click", function (e) { e.stopPropagation(), a.getElementsByClassName("ladi-carousel-content")[0].style.removeProperty("transition-duration"), a.setAttribute("data-is-next", !1), a.setAttribute("data-next-time", Date.now() + 1e3 * o), U(t, !1) }), -((parseFloatLadiPage(i[e.runtime.device + ".option.carousel_crop.width"]) || 0) - a.clientWidth) < 0 && a.getElementsByClassName("ladi-carousel-arrow-right")[0].classList.remove("opacity-0"), a.getElementsByClassName("ladi-carousel-arrow-right")[0].addEventListener("click", function (e) { e.stopPropagation(), a.getElementsByClassName("ladi-carousel-content")[0].style.removeProperty("transition-duration"), a.setAttribute("data-is-next", !0), a.setAttribute("data-next-time", Date.now() + 1e3 * o), U(t, !1) }), a.getElementsByClassName("ladi-carousel")[0].addEventListener("mousedown", l), a.getElementsByClassName("ladi-carousel")[0].addEventListener("touchstart", l) } } }), e.runtime.interval_carousel = e.runInterval(function () { m.forEach(function (t) { var i = e.runtime.eventData[t]; if ("carousel" == i.type) { var a = document.getElementById(t); if (!e.isEmpty(a) && "true" == a.getAttribute("data-scrolled") && "true" != a.getAttribute("data-stop")) { var r = i[e.runtime.device + ".option.carousel_setting.autoplay"], n = i[e.runtime.device + ".option.carousel_setting.autoplay_time"], o = 0; if (r && !e.isEmpty(n) && (o = n), o > 0) { var l = a.getAttribute("data-next-time"), s = Date.now(); e.isEmpty(l) && (l = s + 1e3 * (o - 1), a.setAttribute("data-next-time", l)), s >= l && (U(t, !0), a.setAttribute("data-next-time", s + 1e3 * o)) } } } }) }, 1e3), function () { var t = ["phone", "email", "coupon"], i = document.querySelectorAll(".ladi-form .ladi-button"); e.runtime.tmp.list_form_checkout = []; for (var a = function (t, i) { var a = e.findAncestor(t.target, "ladi-form"); if (!e.isEmpty(a) && (a = a.querySelector("[data-submit-form-id]"), !e.isEmpty(a))) { var r = a.getAttribute("data-submit-form-id"); if (!e.isEmpty(r)) { var n = document.querySelector("#" + r + ' .ladi-form-item input[name="coupon"]'); e.isEmpty(n) || (n.value = t.target.value, e.fireEvent(n, i)) } } }, r = function (t) { a(t, "change") }, n = function (t) { a(t, "input") }, o = 0; o < i.length; o++) { var l = e.findAncestor(i[o], "ladi-element"); if (!e.isEmpty(l)) { var s = e.findAncestor(i[o], "ladi-form"); if (!e.isEmpty(s)) { var d = e.findAncestor(s, "ladi-element"); if (!e.isEmpty(d)) { var c = e.runtime.eventData[l.id]; if (!e.isEmpty(c) && !e.isEmpty(c["option.data_submit_form_id"])) { var u = e.runtime.eventData[d.id]; if (!e.isEmpty(u) && u["option.is_form_coupon"]) { l.setAttribute("data-submit-form-id", c["option.data_submit_form_id"]), l.addEventListener("click", e.reloadPriceDiscount), s.onsubmit = function () { return !1 }; var p = s.querySelector('.ladi-form-item input[name="coupon"]'); if (!e.isEmpty(p)) { p.addEventListener("change", r), p.addEventListener("input", n); var m = document.querySelector("#" + c["option.data_submit_form_id"] + ' .ladi-form-item input[name="coupon"]'); e.isEmpty(m) || m.setAttribute("data-replace-coupon", !0) } e.runtime.tmp.list_form_checkout.push(c["option.data_submit_form_id"]) } } } } } } e.runtime.tmp.list_form_checkout = e.runtime.tmp.list_form_checkout.unique(); for (var g = function (t) { e.reloadPriceDiscount() }, y = 0; y < e.runtime.tmp.list_form_checkout.length; y++)for (var _ = document.querySelectorAll("#" + e.runtime.tmp.list_form_checkout[y] + " .ladi-form-item input.ladi-form-control"), f = 0; f < _.length; f++)-1 != t.indexOf(_[f].getAttribute("name")) && (_[f].addEventListener("change", g), _[f].addEventListener("input", g)) }(), function () { m.forEach(function (t) { var i = e.runtime.eventData[t]; if (!e.isEmpty(i["option.data_action"])) { var a = document.getElementById(t); if (!e.isEmpty(a) && "true" != a.getAttribute("data-action") && i["option.data_action"].type == e.const.DATA_ACTION_TYPE.link) { var r = e.getLinkUTMRedirect(a.href, null); a.setAttribute("data-replace-href", r), a.href = e.convertDataReplaceStr(r, !0) } } }); for (var t = document.querySelectorAll(".ladi-headline a[href], .ladi-paragraph a[href], .ladi-list-paragraph a[href]"), i = 0; i < t.length; i++) { var a = e.getLinkUTMRedirect(t[i].href, null); t[i].setAttribute("data-replace-href", a), t[i].href = e.convertDataReplaceStr(a, !0) } }(), t && e.const.TIME_ONPAGE_TRACKING.forEach(function (t) { e.runTimeout(function () { e.isFunction(window.gtag) && window.gtag("event", "TimeOnPage_" + t + "_seconds", { event_category: "LadiPageTimeOnPage", event_label: window.location.host + window.location.pathname, non_interaction: !0 }), e.isFunction(window.fbq) && window.fbq("trackCustom", "TimeOnPage_" + t + "_seconds") }, 1e3 * t) }), m.forEach(function (t) { var i = document.getElementById(t); if (!e.isEmpty(i)) { var a = e.runtime.eventData[t], r = a["option.data_tooltip.text"]; if (!e.isEmpty(r)) { var n = a["option.data_tooltip.type"] || e.const.TOOLTIP_TYPE.default, o = a["option.data_tooltip.position"] || e.const.TOOLTIP_POSITION.top_middle, l = a["option.data_tooltip.size"] || e.const.TOOLTIP_SIZE.medium; i.setAttribute("data-hint", r); var s = "hint"; o == e.const.TOOLTIP_POSITION.top_middle && (s += "-top-middle"), o == e.const.TOOLTIP_POSITION.top_left && (s += "-top-left"), o == e.const.TOOLTIP_POSITION.top_right && (s += "-top-right"), o == e.const.TOOLTIP_POSITION.bottom_middle && (s += "-bottom-middle"), o == e.const.TOOLTIP_POSITION.bottom_left && (s += "-bottom-left"), o == e.const.TOOLTIP_POSITION.bottom_right && (s += "-bottom-right"), o == e.const.TOOLTIP_POSITION.left_middle && (s += "-left-middle"), o == e.const.TOOLTIP_POSITION.left_top && (s += "-left-top"), o == e.const.TOOLTIP_POSITION.left_bottom && (s += "-left-bottom"), o == e.const.TOOLTIP_POSITION.right_middle && (s += "-right-middle"), o == e.const.TOOLTIP_POSITION.right_top && (s += "-right-top"), o == e.const.TOOLTIP_POSITION.right_bottom && (s += "-right-bottom"), n == e.const.TOOLTIP_TYPE.info && (s += "-t-info"), n == e.const.TOOLTIP_TYPE.success && (s += "-t-success"), n == e.const.TOOLTIP_TYPE.error && (s += "-t-error"), n == e.const.TOOLTIP_TYPE.notice && (s += "-t-notice"), l == e.const.TOOLTIP_SIZE.small && (s += "-s-small"), l == e.const.TOOLTIP_SIZE.medium && (s += "-s-med"), l == e.const.TOOLTIP_SIZE.big && (s += "-s-big"), s += "-hint-anim-d-short", i.classList.add(s) } } }), function () { for (var t = 2500, i = 3800, a = 800, r = 50, n = 150, o = 500, l = 1300, s = 600, d = 1500, c = t, u = function (i, a, r, n) { e.isEmpty(i) || (i.classList.remove("in"), i.classList.add("out")); var o = e.isEmpty(i) ? null : i.nextSibling; if (e.isEmpty(o) ? r && e.runTimeout(function () { _(m(a)) }, t) : e.runTimeout(function () { u(o, a, r, n) }, n), e.isEmpty(o) && document.querySelectorAll("html")[0].classList.contains("no-csstransitions")) { var l = m(a); g(a, l) } }, p = function (i, a, r, n) { var o = a.parentElement, l = o.parentElement; l.classList.contains("ladipage-animated-headline") || (l = l.parentElement), e.isEmpty(i) || (i.classList.add("in"), i.classList.remove("out")); var s = e.isEmpty(i) ? null : i.nextSibling; e.isEmpty(s) ? ((l.classList.contains("rotate-2") || l.classList.contains("rotate-3") || l.classList.contains("scale")) && o.style.setProperty("width", a.clientWidth + "px"), e.isEmpty(e.findAncestor(a, "type")) || e.runTimeout(function () { var t = e.findAncestor(a, "ladipage-animated-words-wrapper"); e.isEmpty(t) || t.classList.add("waiting") }, 200), r || e.runTimeout(function () { _(a) }, t)) : e.runTimeout(function () { p(s, a, r, n) }, n) }, m = function (t) { var i = t.nextSibling; return e.isEmpty(i) || i.classList.contains("after") ? t.parentElement.firstChild : i }, g = function (t, e) { t.classList.remove("is-visible"), t.classList.add("is-hidden"), e.classList.remove("is-hidden"), e.classList.add("is-visible") }, y = function (t, i) { e.isEmpty(e.findAncestor(t, "type")) ? e.isEmpty(e.findAncestor(t, "clip")) || (e.findAncestor(t, "ladipage-animated-words-wrapper").style.setProperty("width", t.clientWidth + 5 + "px"), e.runTimeout(function () { _(t) }, s + d)) : (p(t.querySelectorAll("i")[0], t, !1, i), t.classList.add("is-visible"), t.classList.remove("is-hidden")) }, _ = function (d) { if (!e.isEmpty(d)) { var c = m(d); if (e.isEmpty(e.findAncestor(d, "type"))) if (e.isEmpty(e.findAncestor(d, "letters"))) e.isEmpty(e.findAncestor(d, "clip")) ? e.isEmpty(e.findAncestor(d, "loading-bar")) ? (g(d, c), e.runTimeout(function () { _(c) }, t)) : (e.findAncestor(d, "ladipage-animated-words-wrapper").classList.remove("is-loading"), g(d, c), e.runTimeout(function () { _(c) }, i), e.runTimeout(function () { e.findAncestor(d, "ladipage-animated-words-wrapper").classList.add("is-loading") }, a)) : (e.findAncestor(d, "ladipage-animated-words-wrapper").style.setProperty("width", "2px"), e.runTimeout(function () { g(d, c), y(c) }, s)); else { var f = d.querySelectorAll("i").length >= c.querySelectorAll("i").length; u(d.querySelectorAll("i")[0], d, f, r), p(c.querySelectorAll("i")[0], c, f, r) } else { var h = e.findAncestor(d, "ladipage-animated-words-wrapper"); h.classList.add("selected"), h.classList.remove("waiting"), e.runTimeout(function () { h.classList.remove("selected"), d.classList.remove("is-visible"), d.classList.add("is-hidden"); for (var t = d.querySelectorAll("i"), e = 0; e < t.length; e++)t[e].classList.remove("in"), t[e].classList.add("out") }, o), e.runTimeout(function () { y(c, n) }, l) } } }, f = function (t) { var r = !1; if (e.const.ANIMATED_LIST.forEach(function (e) { t.classList.contains(e) && (r = !0) }), r) { var n = t.getElementsByClassName("ladipage-animated-words-wrapper")[0]; if (!e.isEmpty(n)) { var o = e.isEmpty(n.getAttribute("data-word")) ? [] : JSON.parse(n.getAttribute("data-word")); if (0 != o.length) { var l = n.textContent.trim(); if (n.textContent = "", n.innerHTML = n.innerHTML + '<b class="is-visible">' + l + "</b>", o.forEach(function (t) { e.isEmpty(t) ? n.innerHTML = n.innerHTML + "<b>" + l + "</b>" : n.innerHTML = n.innerHTML + "<b>" + t.trim() + "</b>" }), !e.isEmpty(e.findAncestor(n, "type")) || !e.isEmpty(e.findAncestor(n, "loading-bar")) || !e.isEmpty(e.findAncestor(n, "clip"))) { n.innerHTML = n.innerHTML + '<div class="after"></div>'; for (var s = getComputedStyle(n).color, d = n.getElementsByClassName("after"), u = 0; u < d.length; u++)d[u].style.setProperty("background-color", s) } if (t.classList.contains("type") && n.classList.add("waiting"), (t.classList.contains("type") || t.classList.contains("rotate-2") || t.classList.contains("rotate-3") || t.classList.contains("scale")) && t.classList.add("letters"), function (t) { for (var i = 0; i < t.length; i++) { var a = t[i], r = a.textContent.trim().split(""), n = a.classList.contains("is-visible"); for (var o in r) { " " == r[o] && (r[o] = "&nbsp;"); var l = e.findAncestor(a, "rotate-2"); e.isEmpty(l) || (r[o] = "<em>" + r[o] + "</em>"), r[o] = n ? '<i class="in">' + r[o] + "</i>" : "<i>" + r[o] + "</i>" } var s = r.join(""); a.innerHTML = s, a.style.setProperty("opacity", 1) } }(document.querySelectorAll(".letters b")), t.classList.contains("loading-bar")) c = i, e.runTimeout(function () { n.classList.add("is-loading") }, a); else if (t.classList.contains("clip")) { var p = n.clientWidth + 5; n.style.setProperty("width", p + "px") } e.runTimeout(function () { _(t.getElementsByClassName("is-visible")[0]) }, c) } } } }, h = document.getElementsByClassName("ladipage-animated-headline"), v = 0; v < h.length; v++)f(h[v]) }(), function () { for (var t = document.querySelectorAll(".ladi-button-group > .ladi-element"), i = function (t) { var i = e.findAncestor(t.target, "ladi-button"); (i = e.isEmpty(i) ? t.target : e.findAncestor(i, "ladi-element")).classList.add("selected"); var a = e.findAncestor(t.target, "ladi-button-group"); if (!e.isEmpty(a)) for (var r = (a = e.findAncestor(a, "ladi-element")).querySelectorAll(".ladi-button-group > .ladi-element"), n = 0; n < r.length; n++)r[n].id != i.id && r[n].classList.remove("selected") }, a = 0; a < t.length; a++)t[a].addEventListener("click", i) }(), function () { document.addEventListener("mouseleave", e.runEventMouseLeave), document.addEventListener("mousemove", e.runEventMouseMove), document.addEventListener("touchmove", e.runEventMouseMove), document.addEventListener("mouseup", e.runEventMouseUp), document.addEventListener("touchend", e.runEventMouseUp); var t = window; e.isObject(e.runtime.story_page) && (t = document.getElementsByClassName("ladi-wraper")[0]), t.addEventListener("scroll", e.runEventScroll), window.addEventListener("resize", e.runEventResize), window.addEventListener("orientationchange", e.runEventOrientationChange), document.getElementById(e.runtime.backdrop_popup_id).addEventListener("click", e.runEventBackdropClick) }(), e.reloadLazyload(!0), function () { if (t) { var i = function () { if (e.runtime.ladipage_powered_by_classname = e.randomString(e.randomInt(6, 32)), e.runtime.isClient) { var t = document.createElement(e.randomString(6)); document.body.insertBefore(t, document.body.childNodes[e.randomInt(0, document.body.childNodes.length)]), t.className = e.runtime.ladipage_powered_by_classname; var i = "." + e.runtime.ladipage_powered_by_classname + ' {width: 90px; height: 40px; position: fixed; bottom: -40px; right: 10px; z-index: 10000000000; background: url("' + e.const.POWERED_BY_IMAGE + '") no-repeat center #fafafa; background-size: 70px; border-radius: 4px 4px 0 0; display: block; animation: ' + e.runtime.ladipage_powered_by_classname + " 5s;} @keyframes " + e.runtime.ladipage_powered_by_classname + " {0% {bottom: -40px;} 20% {bottom: 0;} 80% {bottom: 0;} 100% {bottom: -40px;}}", a = document.createElement("style"); a.type = "text/css", document.head.insertBefore(a, document.head.childNodes[e.randomInt(0, document.head.childNodes.length)]), a.innerHTML = i, e.runTimeout(function () { e.isEmpty(t) || t.parentElement.removeChild(t), e.isEmpty(a) || a.parentElement.removeChild(a) }, 5e3) } }, a = !1, r = e.isArray(e.runtime.DOMAIN_FREE) ? e.runtime.DOMAIN_FREE : [], n = window.location.href;["/", ".", "/"].forEach(function (t) { for (; n.endsWith(t);)n = n.substr(0, n.length - t.length) }); var o = e.getElementAHref(n).host.toLowerCase(); r.forEach(function (t) { a || (a = o.endsWith(t.toLowerCase())) }), a && e.runTimeout(i, 3e3), I("PageView", {}, function (t, r) { if (-1 != t || a || e.runTimeout(i, 3e3), 200 == t) { var n = JSON.parse(r), o = !1, l = null; e.isObject(n.data) ? (o = 1 == n.data.verified_domain, l = n.data.google_captcha) : o = 1 == n.data, a || o || e.runTimeout(i, 3e3), e.isObject(l) && (s = l.site_key, e.isEmpty(s) || (e.runtime.tmp.google_captcha = { api_key: s }, e.loadScript("//www.google.com/recaptcha/api.js?render=" + s))) } var s }) } }(), e.setDataReplaceStart(), e.resetViewport(), e.runConversionApi(), e.runStoryPage(), t || e.runAfterLocation(); for (; N.length > 0;)N.shift()(); "complete" === document.readyState || "loading" !== document.readyState && !document.documentElement.doScroll ? e.documentLoaded() : document.addEventListener("DOMContentLoaded", e.documentLoaded) }, LadiPageScriptV2.prototype.equals = function (t, e) { return typeof t == typeof e && JSON.stringify(t) == JSON.stringify(e) }, LadiPageScriptV2.prototype.copy = function (t) { return this.isNull(t) ? t : JSON.parse(JSON.stringify(t)) }, LadiPageScriptV2.prototype.showLoadingBlur = function () { var t = document.getElementsByClassName("ladi-loading")[0]; this.isEmpty(t) && ((t = document.createElement("div")).className = "ladi-loading", t.innerHTML = "<div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>", document.body.appendChild(t)) }, LadiPageScriptV2.prototype.hideLoadingBlur = function () { var t = document.getElementsByClassName("ladi-loading")[0]; this.isEmpty(t) || t.parentElement.removeChild(t) }, LadiPageScriptV2.prototype.loadDataset = function () { }, LadiPageScriptV2.prototype.updateHeightElement = function (t, e, i, a, r, n) { for (var o = this, l = [], s = [], d = e.parentElement.children, c = 0; c < d.length; c++)d[c].id != e.id && d[c].classList.contains("ladi-element") && s.push(d[c]); var u = "style_update_height_element"; if (t) { var p = "#" + o.runtime.builder_section_popup_id + " > .ladi-container > .ladi-element{ max-height: none !important;}"; LadiPageScript.createStyleElement(u, p) } for (var m = function (t) { var e = !o.isArray(n) || -1 != n.indexOf(t.id); if ((e = e ? t.id != o.runtime.builder_section_popup_id : e) && "fixed" == getComputedStyle(t).position && (!t.classList.contains("ladi-element") || 0 == t.getElementsByClassName("ladi-popup").length) && (e = !1, t.classList.contains("ladi-section"))) { var i = o.runtime.eventData[t.id], a = o.runtime.isDesktop ? o.const.DESKTOP : o.const.MOBILE; o.isEmpty(i) || i[a + ".option.sticky_position"] != o.const.POSITION_TYPE.top || (e = !0) } return e }, g = r - a, y = parseFloatLadiPage(getComputedStyle(e).top) || 0, _ = 0; _ < s.length; _++)if (m(s[_])) { var f = parseFloatLadiPage(getComputedStyle(s[_]).top) || 0; f >= y + a && (s[_].style.setProperty("top", (parseFloatLadiPage(f + g) || 0) + "px"), l.push(s[_].id)) } var h = 0, v = 0; if (!this.isEmpty(i) && 0 != g && m(i) && (h = parseFloatLadiPage(getComputedStyle(i).height) || 0, v = parseFloatLadiPage(h + g) || 0, i.style.setProperty("height", v + "px"), l.push(i.id)), h != v) { var E = this.findAncestor(i.parentElement, "ladi-element"); this.isEmpty(E) && (E = this.findAncestor(i.parentElement, "ladi-section")), l = l.concat(this.updateHeightElement(!1, i, E, h, v, n)) } if (t) { var L = document.getElementById(u); this.isEmpty(L) || L.parentElement.removeChild(L) } return l.unique() }, LadiPageScriptV2.prototype.showParentVisibility = function (t, e) { var i = this.findAncestor(t, "ladi-popup"); if (!this.isEmpty(i) && (i = this.findAncestor(i, "ladi-element"), !this.isEmpty(i))) return "none" == getComputedStyle(i).display && i.classList.add("hide-visibility"), this.isFunction(e) && e(), void i.classList.remove("hide-visibility"); this.isFunction(e) && e() }, LadiPageScriptV2.prototype.pauseAllVideo = function (t) { var e = document.getElementById(this.runtime.lightbox_screen_id).getElementsByClassName("lightbox-close")[0]; if (!this.isEmpty(e)) return e.click(), this.pauseAllVideo(t); delete this.runtime.tmp.gallery_playing_video; for (var i = (t = t || document).querySelectorAll(".iframe-video-preload:not(.no-pause)"), a = 0; a < i.length; a++)this.runEventReplayVideo(i[a].id, i[a].getAttribute("data-video-type"), !1) }, LadiPageScriptV2.prototype.runEventReplayVideo = function (t, e, i) { var a = document.getElementById(t); if (!this.isEmpty(a)) { if (e == this.const.VIDEO_TYPE.youtube) { var r = i ? "playVideo" : "pauseVideo", n = !1; if (this.runtime.isYouTubeIframeAPIReady) { var o = window.YT.get(t); this.isEmpty(o) || (i && o.unMute(), o[r](), n = !0) } n || (i && a.contentWindow.postMessage(JSON.stringify({ event: "command", func: "unMute", args: [] }), "*"), a.contentWindow.postMessage(JSON.stringify({ event: "command", func: r, args: [] }), "*")) } e == this.const.VIDEO_TYPE.direct && (i ? (a.muted = !1, a.play()) : a.pause()), i ? a.classList.remove("ladi-hidden") : a.classList.add("ladi-hidden") } }, LadiPageScriptV2.prototype.runEventPlayVideo = function (t, e, i, a, r, n, o, l, s) { var d = this, c = document.getElementById(t); if (!d.isEmpty(c)) { var u = d.findAncestor(c, "ladi-video"); d.isEmpty(u) || (u = d.findAncestor(u, "ladi-element")), !a || n || d.isEmpty(u) || (u.classList.add("pointer-events-none"), c.classList.add("no-pause")), o && c.classList.add("ladi-hidden"); var p = ""; if (!d.isEmpty(u)) { var m = u.getElementsByClassName("ladi-video-background")[0]; if (!d.isEmpty(m)) { var g = getComputedStyle(m).backgroundImage; g.toLowerCase().startsWith('url("') && g.toLowerCase().endsWith('")') && (g = (g = g.substr('url("'.length)).substr(0, g.length - '")'.length), d.isEmpty(g) || (p = g)) } } var y = !0; if (e == d.const.VIDEO_TYPE.youtube) { var _ = d.getVideoId(e, i), f = function () { try { if (d.runtime.isLoadYouTubeIframeAPI && d.runtime.isYouTubeIframeAPIReady || !d.isObject(window.YT) || !d.isFunction(window.YT.Player) || (d.runtime.isLoadYouTubeIframeAPI = !0, d.runtime.isYouTubeIframeAPIReady = !0), d.runtime.isLoadYouTubeIframeAPI || (d.runtime.isLoadYouTubeIframeAPI = !0, window.onYouTubeIframeAPIReady = function () { d.runtime.isYouTubeIframeAPIReady = !0; for (; d.runtime.list_youtube_ready_exec.length > 0;)d.runtime.list_youtube_ready_exec.shift()() }, d.loadScript("//www.youtube.com/iframe_api")), !d.runtime.isYouTubeIframeAPIReady) return void d.runtime.list_youtube_ready_exec.push(f); c.outerHTML = c.outerHTML.replaceAll("<iframe", "<div").replaceAll("</iframe>", "</div>"), c = document.getElementById(t), r && c.classList.add("opacity-0"); var e = function () { (c = document.getElementById(t)).classList.remove("opacity-0") }, i = e, u = function (e) { c = document.getElementById(t); var i = window.YT.get(t); d.isEmpty(i) || d.isEmpty(c) ? d.runTimeout(u, 100) : (d.runResizeAll(), a ? i.mute() : i.unMute(), o || l || i.playVideo(), d.isFunction(s) && s()) }; new window.YT.Player(t, { videoId: _, playerVars: { rel: 0, modestbranding: 0, playsinline: r || a ? 1 : 0, controls: !r && n ? 1 : 0 }, events: { onReady: u, onStateChange: function (i) { if (y && i.data == window.YT.PlayerState.PLAYING) { y = !1; var a = function () { window.YT.get(t).getCurrentTime() >= .1 ? e() : d.runTimeout(a, 100) }; r && a() } i.data == window.YT.PlayerState.ENDED && window.YT.get(t).playVideo() }, onError: i } }) } catch (t) { } }; f() } e == d.const.VIDEO_TYPE.direct && (d.isEmpty(p) || c.setAttribute("poster", p), c.setAttribute("preload", "auto"), c.setAttribute("controlslist", "nodownload"), c.setAttribute("loop", ""), o || l || c.setAttribute("autoplay", ""), (r || a) && (c.setAttribute("playsinline", ""), c.setAttribute("webkit-playsinline", "")), !r && n && c.setAttribute("controls", ""), a ? c.setAttribute("muted", "") : c.removeAttribute("muted"), c.removeAttribute("src"), c.setAttribute("data-src", i), c.outerHTML = c.outerHTML.replaceAll("data-src=", "src="), c = document.getElementById(t), d.isFunction(s) && s(c)) } }, LadiPageScriptV2.prototype.playVideo = function (t, e, i, a, r, n) { var o = document.getElementById(t); if (!this.isEmpty(o)) { var l = document.getElementById(t + "_player"); if (n || r || this.pauseAllVideo(), this.isEmpty(l)) { var s = o.getElementsByClassName("ladi-video")[0], d = t + "_player"; e == this.const.VIDEO_TYPE.youtube && (s.innerHTML = s.innerHTML + '<iframe id="' + d + '" class="iframe-video-preload" data-video-type="' + e + '" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>', this.runEventPlayVideo(d, e, i, r, !1, a, n)), e == this.const.VIDEO_TYPE.direct && (s.innerHTML = s.innerHTML + '<video id="' + d + '" class="iframe-video-preload" data-video-type="' + e + '" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; object-fit: cover;"></video>', this.runEventPlayVideo(d, e, i, r, !1, a, n)) } else this.runEventReplayVideo(l.id, e, !0) } }, LadiPageScriptV2.prototype.checkResizeImage = function (t) { var e = [".jpg", ".jpeg", ".png"], i = function (t) { for (var i = !1, a = 0; a < e.length; a++)if (t.endsWith(e[a])) { i = !0; break } return i }; if (!i(t.toLowerCase())) { var a = this.getElementAHref(t, !0); return a.search = "", i(a.href) } return !0 }, LadiPageScriptV2.prototype.getOptimizeImage = function (t, e, i, a, r, n, o) { if (this.isEmpty(t) || !this.isString(t)) return t; var l = t.split("/"), s = l.indexOf(""); if (-1 != s && l.length > s + 1 && (l[s + 1] = l[s + 1].toLowerCase()), s = l.indexOf(this.const.STATIC_W_DOMAIN.toLowerCase()), this.checkResizeImage(t) && -1 != s && (l.length == s + 3 || l.length == s + 6 && "ls" == l[3] && "product" == l[5] || l.length == s + 4 && "luid" == l[3] && "avatar" == l[4] || l.length == s + 4 && "rbg" == l[4])) { var d = l[s + 1].toLowerCase(), c = !0; if (d.startsWith("s")) { var u = d.split("x"); 2 == u.length && parseFloatLadiPage(u[1]) == u[1] && (c = !1) } if (c) { if (o || r) { if (e = parseInt(e) || 0, i = parseInt(i) || 0, a) { var p = this.const.RESIZE_RANGE + (n ? this.const.RESIZE_ADD_PIXEL_THUMB : this.const.RESIZE_ADD_PIXEL); e = e - e % this.const.RESIZE_RANGE + p, i = i - i % this.const.RESIZE_RANGE + p } } else e = this.const.WIDTH_SECTION_RESIZE[LadiPage.data.device_screen], i = this.const.WIDTH_SECTION_RESIZE[LadiPage.data.device_screen]; l.insert(s + 1, "s" + e + "x" + i) } } return t = l.join("/") }, LadiPageScriptV2.prototype.historyReplaceState = function (t) { try { window.history.replaceState(null, null, t) } catch (t) { } }, LadiPageScriptV2.prototype.resetViewport = function () { this.isEmpty(this.runtime.tmp.timeoutViewport) || this.removeTimeout(this.runtime.tmp.timeoutViewport), this.isFunction(window.ladi_viewport) && (this.runtime.tmp.timeoutViewport = this.runTimeout(window.ladi_viewport, 10)) }, LadiPageScriptV2.prototype.runStoryPage = function () { var t = this, e = t.runtime.story_page; if (this.isObject(e)) { var i = document.getElementsByClassName("ladi-wraper")[0]; if (!this.isEmpty(i)) { var a = document.getElementsByClassName("ladi-story-page-progress-bar")[0]; this.isEmpty(a) || a.parentElement.removeChild(a); var r = document.querySelectorAll('.ladi-section:not([id="' + this.runtime.builder_section_popup_id + '"])'); if (0 != r.length) { (a = document.createElement("div")).className = "ladi-story-page-progress-bar"; for (var n = null, o = (r[0], function (e, i) { e.addEventListener("click", function (e) { e.stopPropagation(), t.removeTimeout(t.runtime.tmp.story_page_next_timeout_id), window.ladi(i.id, i).scroll() }) }), l = 0; l < r.length; l++) { var s = document.createElement("div"); s.className = "ladi-story-page-progress-bar-item", s.style.setProperty("width", "calc(100% / " + r.length + " - 10px)"), o(s, r[l]), a.appendChild(s), 0 == l && (n = s) } i.appendChild(a), t.runtime.tmp.story_page_mouse_down = !1, t.runtime.tmp.story_page_current_page = 1; var d = function (i, a) { if (!t.isEmpty(i)) { a && i.click(); for (var r = i; !t.isEmpty(r.previousElementSibling);)(r = r.previousElementSibling).classList.add("active"); for (var n = i; !t.isEmpty(n.nextElementSibling);)(n = n.nextElementSibling).classList.remove("active"); i.classList.remove("active"); var o = i.parentElement.getElementsByTagName("span")[0]; t.isEmpty(o) || o.parentElement.removeChild(o), o = document.createElement("span"), i.appendChild(o), e.is_autoplay || o.style.setProperty("width", "100%") } }, c = function () { if (e.is_autoplay) { var i = 300, a = null; if (t.isEmpty(t.runtime.tmp.current_default_popup_id) && !t.runtime.tmp.story_page_mouse_down && !t.runtime.tmp.story_page_scroll && (a = document.querySelector(".ladi-story-page-progress-bar-item span"), !t.isEmpty(a))) { var r = parseFloatLadiPage(a.style.getPropertyValue("width")) || 0; r = (r = ((r = 1e3 * e.autoplay_time / (100 / r)) + i) / (1e3 * e.autoplay_time) * 100) > 100 ? 100 : r, a.style.setProperty("width", r + "%"), r >= 100 && (t.runtime.tmp.story_page_next_timeout_id = t.runTimeout(function () { t.isEmpty(a.parentElement) || d(a.parentElement.nextElementSibling, !0) }, i), i *= 2) } t.runtime.tmp.story_page_timeout_id = t.runTimeout(c, i) } }; d(n, !1), t.runtime.tmp.story_page_timeout_id = t.runTimeout(c, 300), document.addEventListener("mousedown", function (e) { t.runtime.tmp.story_page_mouse_down = !0 }), document.addEventListener("touchstart", function (e) { t.runtime.tmp.story_page_mouse_down = !0 }), document.addEventListener("mouseup", function (e) { t.runtime.tmp.story_page_mouse_down = !1 }), document.addEventListener("touchend", function (e) { t.runtime.tmp.story_page_mouse_down = !1 }), i.addEventListener("scroll", function (a) { t.isEmpty(t.runtime.tmp.current_default_popup_id) && (t.runtime.tmp.story_page_scroll = !0, t.removeTimeout(t.runtime.tmp.story_page_scroll_timeout_id), t.removeTimeout(t.runtime.tmp.story_page_timeout_id), t.runtime.tmp.story_page_scroll_timeout_id = t.runTimeout(function () { var a = 0, r = e.type == t.const.STORY_PAGE.horizontal ? i.scrollLeft / i.clientWidth : i.scrollTop / i.clientHeight; if ((r = Math.floor(r + 1.5)) != t.runtime.tmp.story_page_current_page) { t.runtime.tmp.story_page_current_page = r; var n = document.querySelector(".ladi-story-page-progress-bar-item:nth-child(" + r + ")"); t.removeTimeout(t.runtime.tmp.story_page_next_timeout_id), d(n, !1), a = 100 } t.runtime.tmp.story_page_scroll = !1, delete t.runtime.tmp.story_page_scroll_timeout_id, t.runtime.tmp.story_page_timeout_id = t.runTimeout(c, a) }, 300)) }) } } } }, LadiPageScriptV2.prototype.runResizeSectionBackground = function () { var t = this; t instanceof LadiPageScriptV2 || (t = LadiPageScript); try { for (var e = document.querySelectorAll(".ladi-section .ladi-section-background iframe.ladi-section-background-video"), i = 0; i < e.length; i++) { var a = e[i], r = parseFloatLadiPage(a.getAttribute("width")) || 0, n = parseFloatLadiPage(a.getAttribute("height")) || 0; if (!(r <= 0 || n <= 0)) { var o = t.findAncestor(a, "ladi-section-background"), l = o.clientWidth, s = n / r * l; s < o.clientHeight && (l = o.clientHeight / s * l, s = o.clientHeight); var d = (o.clientHeight - s) / 2, c = (o.clientWidth - l) / 2; a.style.setProperty("top", (parseFloatLadiPage(d) || 0) + "px"), a.style.setProperty("left", (parseFloatLadiPage(c) || 0) + "px"), a.style.setProperty("width", (parseFloatLadiPage(l) || 0) + "px"), a.style.setProperty("height", (parseFloatLadiPage(s) || 0) + "px") } } } catch (t) { } }, LadiPageScriptV2.prototype.runResizeAll = function () { var t = this; t instanceof LadiPageScriptV2 || (t = LadiPageScript); try { t.isFunction(window.ladi_viewport) && window.ladi_viewport(), t.runtime.tmp.generateCart(); for (var e = document.querySelectorAll("#" + t.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"), i = 0; i < e.length; i++)"block" == getComputedStyle(e[i]).display && window.ladi(e[i].id).show(); t.runResizeSectionBackground() } catch (t) { } }, LadiPageScriptV2.prototype.runEventResize = function (t) { var e = this; e instanceof LadiPageScriptV2 || (e = LadiPageScript), e.isEmpty(e.runtime.tmp.timeoutResizeAll) || e.removeTimeout(e.runtime.tmp.timeoutResizeAll), e.runtime.tmp.timeoutResizeAll = e.runTimeout(e.runResizeAll, 10) }, LadiPageScriptV2.prototype.runEventOrientationChange = function (t) { var e = this; e instanceof LadiPageScriptV2 || (e = LadiPageScript), e.runEventResize(t) }, LadiPageScriptV2.prototype.runAfterLocation = function () { var t = this; for (t instanceof LadiPageScriptV2 || (t = LadiPageScript); t.runtime.tmp.runAfterLocation.length > 0;) { t.runtime.tmp.runAfterLocation.shift()() } t.reloadFeeShipping() }, LadiPageScriptV2.prototype.randomId = function () { var t = Date.now(), e = window.performance && window.performance.now && 1e3 * window.performance.now() || 0; return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (i) { var a = 16 * Math.random(); return t > 0 ? (a = (t + a) % 16 | 0, t = Math.floor(t / 16)) : (a = (e + a) % 16 | 0, e = Math.floor(e / 16)), ("x" === i ? a : 3 & a | 8).toString(16) }) }, LadiPageScriptV2.prototype.removeLazyloadPopup = function (t) { var e = document.getElementById(t); if (!this.isEmpty(e)) for (var i = e.getElementsByClassName("ladi-lazyload"); i.length > 0;)i[0].classList.remove("ladi-lazyload") }, LadiPageScriptV2.prototype.reloadLazyload = function (t) { var e = this; if (e instanceof LadiPageScriptV2 || (e = LadiPageScript), !t || !e.isObject(e.runtime.story_page)) { for (var i = document.getElementsByClassName("ladi-lazyload"), a = [], r = 0; r < i.length; r++) { var n = e.getElementBoundingClientRect(i[r]).y + window.scrollY; window.scrollY + e.getHeightDevice() > n && n + i[r].offsetHeight > window.scrollY && a.push(i[r]) } a.forEach(function (t) { t.classList.remove("ladi-lazyload") }); for (var o = document.querySelectorAll(".ladi-gallery .ladi-gallery-view-item.selected:not(.ladi-lazyload)"), l = 0; l < o.length; l++)if (e.isEmpty(o[l].getAttribute("data-lazyload"))) { o[l].setAttribute("data-lazyload", !0); for (var s = o[l].parentElement.getElementsByClassName("ladi-lazyload"); s.length > 0;)s[0].classList.remove("ladi-lazyload") } } }, LadiPageScriptV2.prototype.documentLoaded = function () { var t = this; t instanceof LadiPageScriptV2 || (t = LadiPageScript); var e = t.getURLSearchParams(null, null, !0), i = e.ladishow, a = e.ladihide, r = e.laditop, n = window.location.hash; t.isEmpty(i) ? i = [] : t.isArray(i) || (i = i.split(",").removeSpace()), t.isEmpty(a) ? a = [] : t.isArray(a) || (a = a.split(",").removeSpace()), t.isEmpty(r) ? r = [] : t.isArray(r) || (r = r.split(",").removeSpace().reverse()); try { var o = window.ladi("LADI_CAMP_END_DATE").get_cookie(), l = window.ladi("LADI_CAMP_CONFIG").get_cookie(); if (!t.isEmpty(o) && !t.isEmpty(l)) { l = JSON.parse(Base64.decode(l)); var s = ((o = parseInt(o) || 0) - Date.now()) / 24 / 60 / 60 / 1e3; if (s > 0 && t.isArray(l.dynamic_content.cookie)) { var d = []; l.dynamic_content.cookie.forEach(function (e) { var i = e.split("="); 2 != (i = i.removeSpace()).length || t.isEmpty(i[0]) || t.isEmpty(i[1]) || d.push({ name: i[0], value: i[1] }) }), d.forEach(function (t) { window.ladi(t.name).set_cookie(t.value, s, window.location.pathname) }) } a = l.dynamic_content.hide || [], i = l.dynamic_content.show || [], r = l.dynamic_content.top || [], t.isArray(l.dynamic_content.scroll) && l.dynamic_content.scroll.length > 0 && (n = "#" + l.dynamic_content.scroll.pop()) } } catch (t) { } if (a.forEach(function (t) { window.ladi(t).hide() }), i.forEach(function (t) { window.ladi(t).show() }), r.forEach(function (t) { window.ladi(t).top() }), !t.isEmpty(n)) try { var c = document.querySelector(n); t.isEmpty(c) || t.isEmpty(c.id) || t.runTimeout(function () { window.ladi(c.id).scroll() }, 300) } catch (t) { } if (t.resetViewport(), t.runEventScroll(), !t.isEmpty(t.runtime.tracking_global_url)) { var u = !1, p = window; t.isObject(t.runtime.story_page) && (p = document.getElementsByClassName("ladi-wraper")[0]); var m = function () { u || (u = !0, t.loadScript(t.runtime.tracking_global_url + "?v=" + Date.now()), p.removeEventListener("scroll", m), document.removeEventListener("mousemove", m), document.removeEventListener("touchstart", m)) }; p.addEventListener("scroll", m), document.addEventListener("mousemove", m), document.addEventListener("touchstart", m), t.runTimeout(m, t.runtime.tracking_global_delay) } }, LadiPageScriptV2.prototype.runConversionApi = function (t, e, i) { !this.isEmpty(t) && !this.isEmpty(e) && this.isObject(window.ladi_conversion_api) && this.isObject(window.ladi_conversion_api[t]) && (window.ladi_conversion_api[t][e] = i); if (this.isObject(window.ladi_conversion_api) && this.isObject(window.ladi_conversion_api.facebook) && this.isArray(window.ladi_conversion_api.facebook.pixels) && this.isArray(window.ladi_conversion_api.facebook.events)) { window.ladi_conversion_api.facebook.pixels = window.ladi_conversion_api.facebook.pixels.unique(), window.ladi_conversion_api.facebook.fbc = window.ladi("_fbc").get_cookie(), window.ladi_conversion_api.facebook.fbp = window.ladi("_fbp").get_cookie(); for (var a = 0; a < window.ladi_conversion_api.facebook.events.length; a++) { var r = window.ladi_conversion_api.facebook.events[a].data; r.event_id = r.eventID, delete r.eventID, window.ladi_conversion_api.facebook.events[a].data = r } this.runtime.tmp.runTrackingAnalytics("ConversionApi", { data: window.ladi_conversion_api }), delete window.ladi_conversion_api.facebook.fbc, delete window.ladi_conversion_api.facebook.fbp, delete window.ladi_conversion_api.facebook.events } }, LadiPageScriptV2.prototype.getWidthDevice = function () { if (this.runtime.isMobileOnly) { var t = document.getElementsByClassName("ladi-wraper")[0]; if (!this.isEmpty(t)) return t.clientWidth } return window.outerWidth > 0 ? window.outerWidth : window.screen.width }, LadiPageScriptV2.prototype.getHeightDevice = function (t) { return window.outerHeight > 0 && !this.runtime.isDesktop && (t && window.outerHeight > window.innerHeight || !t && window.innerHeight > window.outerHeight) ? window.outerHeight : window.innerHeight }, LadiPageScriptV2.prototype.startAutoScroll = function (t, e, i, a) { if (this.runtime.isDesktop ? i : a) { var r = document.getElementById(t); if (!this.isEmpty(r) && !r.classList.contains("ladi-auto-scroll")) { var n = 0; if ("section" != e) { if (r.clientWidth <= this.getWidthDevice()) return; n = (n = parseFloatLadiPage(getComputedStyle(r).left) || 0) > 0 ? 0 : -1 * n } else { for (var o = r.querySelectorAll(".ladi-container > .ladi-element"), l = 0; l < o.length; l++) { var s = parseFloatLadiPage(getComputedStyle(o[l]).left) || 0; s < n && (n = s) } n = n > 0 ? 0 : -1 * n, r.querySelector(".ladi-container").style.setProperty("margin-left", n + "px") } r.classList.add("ladi-auto-scroll"), r.scrollLeft = n } } }, LadiPageScriptV2.prototype.getLinkUTMRedirect = function (t, e) { var i = this.createTmpElement("a", "", { href: t }), a = this.getURLSearchParams(e, null, !1), r = a.utm_source; if (!this.isEmpty(r)) { r = "utm_source=" + encodeURIComponent(r); var n = a.utm_medium, o = a.utm_campaign, l = a.utm_term, s = a.utm_content; this.isEmpty(n) || (r += "&utm_medium=" + encodeURIComponent(n)), this.isEmpty(o) || (r += "&utm_campaign=" + encodeURIComponent(o)), this.isEmpty(l) || (r += "&utm_term=" + encodeURIComponent(l)), this.isEmpty(s) || (r += "&utm_content=" + encodeURIComponent(s)), this.isEmpty(i.href) || this.isEmpty(i.host) || !this.isEmpty(this.getURLSearchParams(i.search, "utm_source", !1)) || (i.search = i.search + (this.isEmpty(i.search) ? "?" : "&") + r) } return i.href }, LadiPageScriptV2.prototype.randomInt = function (t, e) { return t = Math.ceil(t), e = Math.floor(e), Math.floor(Math.random() * (e - t + 1)) + t }, LadiPageScriptV2.prototype.randomString = function (t) { for (var e = "", i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz", a = i.length, r = 0; r < t; r++)e += i.charAt(Math.floor(Math.random() * a)); return e }, LadiPageScriptV2.prototype.runCallback = function (t, e) { if (this.isFunction(e)) { var i = this; if (t) { var a = i.runInterval(function () { i.removeInterval(a), i.runCallback(!1, e) }, 0); return } e() } }, LadiPageScriptV2.prototype.runTimeout = function (t, e) { if (this.isFunction(t)) { if (!this.isEmpty(e) && e > 0) return setTimeout(t, e); t() } }, LadiPageScriptV2.prototype.removeTimeout = function (t) { return clearTimeout(t) }, LadiPageScriptV2.prototype.removeInterval = function (t) { return clearInterval(t) }, LadiPageScriptV2.prototype.runInterval = function (t, e) { if (this.isFunction(t)) return setInterval(t, e) }, LadiPageScriptV2.prototype.getURLSearchParams = function (t, e, i) { var a = this, r = {}, n = this.isNull(t); if (t = n ? window.location.search : t, !this.isEmpty(t)) for (var o = t.substr(1).split("&"), l = 0; l < o.length; ++l) { var s = o[l].split("=", 2); this.isNull(r[s[0]]) ? 1 == s.length ? r[s[0]] = "" : r[s[0]] = decodeURIComponentLadiPage(s[1].replace(/\+/g, " ")) : i && (this.isArray(r[s[0]]) || (r[s[0]] = [r[s[0]]]), 1 == s.length ? r[s[0]].push("") : r[s[0]].push(decodeURIComponentLadiPage(s[1].replace(/\+/g, " ")))) } return n && ["email", "phone"].forEach(function (t) { try { var e = r[t]; if (!a.isEmpty(e)) { var i = Base64.decode(e); e == Base64.encode(i) && (r[t] = i) } } catch (t) { } }), this.isEmpty(e) ? r : r[e] }, LadiPageScriptV2.prototype.getVideoId = function (t, e) { if (this.isEmpty(e)) return e; if (t == this.const.VIDEO_TYPE.youtube) { var i = this.createTmpElement("a", "", { href: e }); -1 != e.toLowerCase().indexOf("watch") ? e = this.getURLSearchParams(i.search, "v", !1) : -1 != e.toLowerCase().indexOf("embed/") ? e = i.pathname.substring("/embed/".length) : -1 != e.toLowerCase().indexOf("youtu.be") && (e = i.pathname.substring("/".length)) } return e }, LadiPageScriptV2.prototype.sendRequest = function (t, e, i, a, r, n) { this.sendRequestWithOption(t, e, i, a, r, null, n) }, LadiPageScriptV2.prototype.sendRequestWithOption = function (t, e, i, a, r, n, o) { var l = new XMLHttpRequest; try { this.isFunction(o) && (l.onreadystatechange = function () { var t = null; try { t = l.responseText } catch (t) { } o(t, l.status, l, e) }), l.open(t, e, a); this.isObject(r) && Object.keys(r).forEach(function (t) { l.setRequestHeader(t, r[t]) }), this.isObject(n) && Object.keys(n).forEach(function (t) { l[t] = n[t] }), l.send(i) } catch (t) { this.isFunction(o) && o(t, 0, l, e) } }, LadiPageScriptV2.prototype.deleteCookie = function (t) { return window.ladi(t).delete_cookie() }, LadiPageScriptV2.prototype.setCookie = function (t, e, i, a, r, n) { return window.ladi(e).set_cookie(i, a, n, t, r) }, LadiPageScriptV2.prototype.getCookie = function (t) { return window.ladi(t).get_cookie() }, LadiPageScriptV2.prototype.removeSticky = function () { var t = this; t instanceof LadiPageScriptV2 || (t = LadiPageScript); for (var e = document.querySelectorAll('[data-sticky="true"]'), i = 0; i < e.length; i++)e[i].removeAttribute("data-top"), e[i].removeAttribute("data-left"), e[i].style.removeProperty("top"), e[i].style.removeProperty("left"), e[i].style.removeProperty("width"), e[i].style.removeProperty("position"), e[i].style.removeProperty("z-index"); t.runEventScroll() }, LadiPageScriptV2.prototype.runEventBackdropClick = function (t) { t.stopPropagation(); var e = this; e instanceof LadiPageScriptV2 || (e = LadiPageScript); for (var i = null, a = document.querySelectorAll('[data-popup-backdrop="true"]'), r = 0; r < a.length; r++)"none" != getComputedStyle(a[r]).display && (i = a[r].id); e.runRemovePopup(i, e.runtime.isClient) }, LadiPageScriptV2.prototype.runEventMouseMove = function (t) { t.stopPropagation(); var e = this; e instanceof LadiPageScriptV2 || (e = LadiPageScript), t = e.getEventCursorData(t); var i = null, a = 0, r = 0, n = 0; e.isEmpty(e.runtime.current_element_mouse_down_carousel) || (i = document.getElementById(e.runtime.current_element_mouse_down_carousel), a = t.pageX - e.runtime.current_element_mouse_down_carousel_position_x, r = parseFloatLadiPage(i.getElementsByClassName("ladi-carousel-content")[0].getAttribute("data-left")) || 0, (r += a) < (n = -((parseFloatLadiPage(e.runtime.eventData[e.runtime.current_element_mouse_down_carousel][e.runtime.device + ".option.carousel_crop.width"]) || 0) - i.clientWidth)) && (r = n), r > 0 && (r = 0), i.getElementsByClassName("ladi-carousel-content")[0].style.setProperty("left", r + "px")); if (!e.isEmpty(e.runtime.current_element_mouse_down_gallery_view)) { i = document.querySelector('[data-runtime-id="' + e.runtime.current_element_mouse_down_gallery_view + '"]'), a = t.pageX - e.runtime.current_element_mouse_down_gallery_view_position_x; var o = parseFloatLadiPage(i.getAttribute("data-current")) || 0; o == (parseFloatLadiPage(i.getAttribute("data-max-item")) || 0) - 1 && a < 0 && (a = 0), a > 0 && 0 == o && (a = 0), a >= e.runtime.current_element_mouse_down_gallery_view_diff ? (e.runtime.current_element_mouse_down_gallery_view = null, e.runtime.current_element_mouse_down_gallery_view_position_x = 0, i.getElementsByClassName("ladi-gallery-view-arrow-left")[0].click()) : a <= -e.runtime.current_element_mouse_down_gallery_view_diff ? (e.runtime.current_element_mouse_down_gallery_view = null, e.runtime.current_element_mouse_down_gallery_view_position_x = 0, i.getElementsByClassName("ladi-gallery-view-arrow-right")[0].click()) : i.querySelectorAll(".ladi-gallery-view-item.selected").length > 0 && i.querySelectorAll(".ladi-gallery-view-item.selected")[0].style.setProperty("left", a + "px") } e.isEmpty(e.runtime.current_element_mouse_down_gallery_control) || (i = document.querySelector('[data-runtime-id="' + e.runtime.current_element_mouse_down_gallery_control + '"]'), a = t.pageX - e.runtime.current_element_mouse_down_gallery_control_position_x, r = parseFloatLadiPage(i.getElementsByClassName("ladi-gallery-control-box")[0].getAttribute("data-left")) || 0, (r += a) < (n = (parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control")[0]).width) || 0) - (parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control-box")[0]).width) || 0)) && (r = n), r > 0 && (r = 0), i.getElementsByClassName("ladi-gallery-control-box")[0].style.setProperty("left", r + "px")) }, LadiPageScriptV2.prototype.runEventMouseUp = function (t) { t.stopPropagation(); var e = this; e instanceof LadiPageScriptV2 || (e = LadiPageScript), t = e.getEventCursorData(t); var i = null, a = 0; if (!e.isEmpty(e.runtime.current_element_mouse_down_carousel)) { delete e.runtime.timenext_carousel[e.runtime.current_element_mouse_down_carousel], a = t.pageX - e.runtime.current_element_mouse_down_carousel_position_x; var r = (i = document.getElementById(e.runtime.current_element_mouse_down_carousel)).getElementsByClassName("ladi-carousel-content")[0].getAttribute("data-left"); i.getElementsByClassName("ladi-carousel-content")[0].removeAttribute("data-left"), i.getElementsByClassName("ladi-carousel-content")[0].style.removeProperty("transition-duration"), e.runtime.current_element_mouse_down_carousel = null, a >= e.runtime.current_element_mouse_down_carousel_diff ? i.getElementsByClassName("ladi-carousel-arrow-left")[0].click() : a <= -e.runtime.current_element_mouse_down_carousel_diff ? i.getElementsByClassName("ladi-carousel-arrow-right")[0].click() : i.getElementsByClassName("ladi-carousel-content").length > 0 && (i.getElementsByClassName("ladi-carousel-content")[0].style.setProperty("transition-duration", "100ms"), i.getElementsByClassName("ladi-carousel-content")[0].style.setProperty("left", r), e.runTimeout(function () { i.getElementsByClassName("ladi-carousel-content")[0].style.removeProperty("transition-duration") }, 1)) } if (e.isEmpty(e.runtime.current_element_mouse_down_gallery_view) || (i = document.querySelector('[data-runtime-id="' + e.runtime.current_element_mouse_down_gallery_view + '"]')).querySelectorAll(".ladi-gallery-view-item.selected").length > 0 && i.querySelectorAll(".ladi-gallery-view-item.selected")[0].style.removeProperty("left"), !e.isEmpty(e.runtime.current_element_mouse_down_gallery_control)) if ((i = document.querySelector('[data-runtime-id="' + e.runtime.current_element_mouse_down_gallery_control + '"]')).getElementsByClassName("ladi-gallery-control-box")[0].removeAttribute("data-left"), i.getElementsByClassName("ladi-gallery-control-box")[0].style.removeProperty("transition-duration"), i.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.remove("opacity-0"), i.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.remove("opacity-0"), i.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-top") || i.getElementsByClassName("ladi-gallery")[0].classList.contains("ladi-gallery-bottom")) { var n = parseFloatLadiPage(i.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("left")) || 0, o = parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control-box")[0]).width) || 0; o = (o = -(o -= parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control")[0]).width) || 0)) > 0 ? 0 : o, n > 0 && (n = 0), n >= 0 && i.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.add("opacity-0"), n <= o && i.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.add("opacity-0") } else { var l = parseFloatLadiPage(i.getElementsByClassName("ladi-gallery-control-box")[0].style.getPropertyValue("top")) || 0, s = parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control-box")[0]).height) || 0; s = (s = -(s -= parseFloatLadiPage(getComputedStyle(i.getElementsByClassName("ladi-gallery-control")[0]).height) || 0)) > 0 ? 0 : s, l > 0 && (l = 0), l >= 0 && i.getElementsByClassName("ladi-gallery-control-arrow-left")[0].classList.add("opacity-0"), l <= s && i.getElementsByClassName("ladi-gallery-control-arrow-right")[0].classList.add("opacity-0") } e.runtime.current_element_mouse_down_carousel_position_x = 0, e.runtime.current_element_mouse_down_gallery_view = null, e.runtime.current_element_mouse_down_gallery_view_position_x = 0; var d = 0; e.runtime.current_element_mouse_down_gallery_control_time + e.runtime.current_element_mouse_down_gallery_control_time_click < Date.now() && (d = 5), e.runTimeout(function () { e.runtime.current_element_mouse_down_gallery_control = null, e.runtime.current_element_mouse_down_gallery_control_time = 0, e.runtime.current_element_mouse_down_gallery_control_position_x = 0 }, d) }, LadiPageScriptV2.prototype.runEventMouseLeave = function (t) { var e = this; e instanceof LadiPageScriptV2 || (e = LadiPageScript), Object.keys(e.runtime.eventData).forEach(function (t) { var i = e.runtime.eventData[t]; "popup" == i.type && i["option.show_popup_exit_page"] && window.ladi(t).show() }) }, LadiPageScriptV2.prototype.runEventScroll = function (t) { var e = this; if (e instanceof LadiPageScriptV2 || (e = LadiPageScript), !e.isEmpty(e.runtime.eventData) && !e.runtime.tmp.is_run_show_popup) { for (var i = null, a = document.querySelectorAll('[data-popup-backdrop="true"]'), r = 0; r < a.length; r++)"none" != getComputedStyle(a[r]).display && (i = a[r].id); var n = []; if (!e.isEmpty(i)) for (var o = document.querySelectorAll("#" + i + " .ladi-element"), l = 0; l < o.length; l++)n.push(o[l].id); var s = e.runtime.isDesktop; if (Object.keys(e.runtime.eventData).forEach(function (t) { var a = e.runtime.eventData[t], r = null, o = null, l = null, d = Object.keys(e.runtime.list_scroll_func), c = []; c = "gallery" == a.type ? document.querySelectorAll("#" + t) : [l = document.getElementById(t)]; for (var u = 0; u < c.length; u++)if (l = c[u], !e.isEmpty(l)) { var p = "gallery" == a.type ? l.getAttribute("data-runtime-id") : l.getAttribute("id"); if (-1 != d.indexOf(p)) { var m = !1; "section" == a.type ? (r = l.offsetTop, (window.scrollY >= r && window.scrollY <= r + l.offsetHeight || window.scrollY + e.getHeightDevice() >= r && window.scrollY + e.getHeightDevice() <= r + l.offsetHeight || r >= window.scrollY && window.scrollY + e.getHeightDevice() >= r) && (m = !0)) : (r = e.getElementBoundingClientRect(l).y + window.scrollY, (window.scrollY >= r && window.scrollY <= r + l.offsetHeight || window.scrollY + e.getHeightDevice(!0) >= r && window.scrollY + e.getHeightDevice(!0) <= r + l.offsetHeight || r >= window.scrollY && window.scrollY + e.getHeightDevice(!0) >= r) && (m = !0)), m && (o = e.runtime.list_scroll_func[p], delete e.runtime.list_scroll_func[p], o()) } } var g = a[e.runtime.device + ".style.animation-name"]; if (!e.isEmpty(g) && (l = document.getElementById(t), !e.isEmpty(l) && !l.classList.contains("ladi-animation"))) { var y = parseFloatLadiPage(a[e.runtime.device + ".style.animation-delay"]) || 0; r = e.getElementBoundingClientRect(l).y + window.scrollY; var _ = window.scrollY >= r && window.scrollY <= r + l.offsetHeight || window.scrollY + e.getHeightDevice(!0) >= r && window.scrollY + e.getHeightDevice(!0) <= r + l.offsetHeight || r >= window.scrollY && window.scrollY + e.getHeightDevice(!0) >= r; e.runtime.tmp.isFirstScroll && y > 0 && !_ && l.classList.add("ladi-animation-hidden"), _ && (l.classList.add("ladi-animation"), e.runTimeout(function () { l.classList.remove("ladi-animation-hidden") }, 1e3 * y)) } if (e.isEmpty(i) || -1 != n.indexOf(t)) { var f = null, h = null, v = null; if (a[e.runtime.device + ".option.sticky"] && (f = a[e.runtime.device + ".option.sticky_position"], h = parseFloatLadiPage(a[e.runtime.device + ".option.sticky_position_top"]), v = parseFloatLadiPage(a[e.runtime.device + ".option.sticky_position_bottom"])), !e.isEmpty(f)) { var E = document.getElementById(t); if (!e.isEmpty(E) && -1 != ["default", "top", "bottom"].indexOf(f)) { var L = e.getElementBoundingClientRect(E), P = E.getAttribute("data-top"), A = E.getAttribute("data-left"); e.isEmpty(P) ? (E.setAttribute("data-top", L.y + window.scrollY), P = L.y) : P = parseFloatLadiPage(P), e.isEmpty(A) ? (E.setAttribute("data-left", L.x + window.scrollX), A = L.x) : A = parseFloatLadiPage(A); var w = null, S = null; if ("default" == f && (h > P - window.scrollY ? (w = h + "px", S = A + "px") : e.getHeightDevice() - v - E.clientHeight < P - window.scrollY && (w = "calc(100% - " + (v + E.clientHeight) + "px)", S = A + "px")), "top" == f && (h > P - window.scrollY || e.getHeightDevice() - 0 < P - window.scrollY) && (w = h + "px", S = A + "px"), "bottom" == f && (e.getHeightDevice() - v - E.clientHeight < P - window.scrollY || 0 > P + E.clientHeight - window.scrollY) && (w = "calc(100% - " + (v + E.clientHeight) + "px)", S = A + "px"), e.isEmpty(w) || e.isEmpty(S)) E.style.removeProperty("top"), E.style.removeProperty("left"), E.style.removeProperty("width"), E.style.removeProperty("position"), E.style.removeProperty("z-index"); else if (E.style.setProperty("top", w), E.style.setProperty("left", S), "section" == a.type && (e.runtime.isMobileOnly ? E.style.setProperty("width", document.getElementsByClassName("ladi-wraper")[0].clientWidth + "px") : s && E.style.setProperty("width", "100%")), E.style.setProperty("position", "fixed"), E.style.setProperty("z-index", "90000050"), !E.hasAttribute("data-sticky")) { E.setAttribute("data-sticky", !0), E.classList.contains("ladi-animation-hidden") && (E.classList.remove("ladi-animation-hidden"), E.classList.add("ladi-animation")); for (var b = E.getElementsByClassName("ladi-animation-hidden"); b.length > 0;)b[0].classList.add("ladi-animation"), b[0].classList.remove("ladi-animation-hidden"); E.classList.remove("ladi-lazyload"); for (var T = E.getElementsByClassName("ladi-lazyload"); T.length > 0;)T[0].classList.remove("ladi-lazyload") } } } } if ("popup" == a.type) { if (!e.isEmpty(e.runtime.scroll_show_popup[t])) return; e.isEmpty(a["option.popup_welcome_page_scroll_to"]) || (l = document.getElementById(a["option.popup_welcome_page_scroll_to"]), !e.isEmpty(l) && l.offsetHeight > 0 && (r = l.offsetTop, (window.scrollY >= r && window.scrollY <= r + l.offsetHeight || window.scrollY + e.getHeightDevice() >= r && window.scrollY + e.getHeightDevice() <= r + l.offsetHeight || r >= window.scrollY && window.scrollY + e.getHeightDevice() >= r) && (e.runtime.scroll_show_popup[t] = !0, window.ladi(t).show()))) } if ("section" == a.type) { if (!e.isEmpty(e.runtime.scroll_to_section[t])) return; l = document.getElementById(t), e.isEmpty(l) || (r = l.offsetTop, (window.scrollY >= r && window.scrollY <= r + l.offsetHeight || window.scrollY + e.getHeightDevice() >= r && window.scrollY + e.getHeightDevice() <= r + l.offsetHeight || r >= window.scrollY && window.scrollY + e.getHeightDevice() >= r) && (e.runtime.scroll_to_section[t] = !0, e.runEventTracking(t, !1))) } }), e.runtime.isClient) for (var d = Math.round((window.scrollY + e.getHeightDevice()) / document.body.clientHeight * 100), c = 1; c < e.const.PERCENT_TRACKING_SCROLL.length; c++)d > e.const.PERCENT_TRACKING_SCROLL[c - 1] && d <= e.const.PERCENT_TRACKING_SCROLL[c] && -1 == e.runtime.scroll_depth.indexOf(e.const.PERCENT_TRACKING_SCROLL[c]) && (e.runtime.scroll_depth.push(e.const.PERCENT_TRACKING_SCROLL[c]), e.isFunction(window.gtag) && window.gtag("event", "ScrollDepth_" + e.const.PERCENT_TRACKING_SCROLL[c] + "_percent", { event_category: "LadiPageScrollDepth", event_label: window.location.host + window.location.pathname, non_interaction: !0 }), e.isFunction(window.fbq) && window.fbq("trackCustom", "ScrollDepth_" + e.const.PERCENT_TRACKING_SCROLL[c] + "_percent")); e.runtime.tmp.isFirstScroll = !1 } }, LadiPageScriptV2.prototype.runRemovePopup = function (t, e, i, a) { var r = this, n = document.querySelectorAll("#" + this.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"), o = !1; e || (LadiPagePlugin.getPlugin("popup").removeStyleShowPopupBuilder(), LadiPagePlugin.getPlugin("popup").removeStyleShowPopupBuilderScroll()); var l = function () { var t = document.getElementById("style_popup"); r.isEmpty(t) || t.parentElement.removeChild(t) }, s = []; if (this.isEmpty(t)) for (var d = 0; d < n.length; d++)s.push(n[d].id); else s.push(t); s.forEach(function (t) { var i = document.getElementById(t); if (!r.isEmpty(i)) { r.pauseAllVideo(i), r.isEmpty(i.style.getPropertyValue("display")) || (o = !0), i.style.removeProperty("display"), i.style.removeProperty("z-index"); var a = i.getElementsByClassName("popup-close")[0]; if (r.isEmpty(a) || a.style.removeProperty("display"), i.hasAttribute("data-popup-backdrop")) { l(), e && (r.isEmpty(r.runtime.tmp.bodyScrollY) || window.scrollTo(0, r.runtime.tmp.bodyScrollY)), r.runtime.tmp.bodyScrollY = null; for (var s = 0; s < n.length; s++)n[s].style.removeProperty("z-index") } i.removeAttribute("data-scroll"), i.style.removeProperty("overflow-y"), i.style.removeProperty("overflow-x"), i.getElementsByClassName("ladi-popup")[0].style.removeProperty("height"), i.style.removeProperty("max-height") } }), o && this.isFunction(i) && i(), a && l(), delete this.runtime.tmp.current_default_popup_id }, LadiPageScriptV2.prototype.runShowPopup = function (t, e, i, a, r, n) { var o = this, l = ""; if (!o.isEmpty(e)) { var s = document.getElementById(e), d = null; if (!r || !o.isEmpty(s) && o.isObject(o.runtime.eventData) && !o.isEmpty(o.runtime.eventData[e])) { o.runtime.tmp.is_run_show_popup = !0; var c = 0; r || LadiPagePlugin.getPlugin("popup").showStyleShowPopupBuilder(e), r && (i = o.runtime.eventData[e][o.runtime.device + ".option.popup_position"], a = o.runtime.eventData[e][o.runtime.device + ".option.popup_backdrop"]); var u = function () { if (r) { var t = window.scrollY; if (!o.isEmpty(o.runtime.tmp.bodyScrollY)) { var i = getComputedStyle(document.body); "fixed" == i.position && (parseFloatLadiPage(i.top) || 0) == -1 * o.runtime.tmp.bodyScrollY && (t = o.runtime.tmp.bodyScrollY) } "block" != s.style.getPropertyValue("display") || o.isEmpty(o.runtime.tmp.bodyScrollY) || (t = o.runtime.tmp.bodyScrollY), l += "body {", l += "", l += "width: 100% !important;", l += "top: -" + t + "px", l += "}", o.runtime.tmp.bodyScrollY = t, d = function () { o.runtime.tmp.bodyScrollY = t } } for (var a = document.querySelectorAll("#" + o.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"), n = 0; n < a.length; n++)a[n].id != e && a[n].style.setProperty("z-index", "1", "important"); c = 500 }; i == o.const.POSITION_TYPE.default ? (l += "#" + o.runtime.backdrop_popup_id + " { display: block !important; " + a + "}", s.setAttribute("data-popup-backdrop", !0), u(), this.runtime.tmp.current_default_popup_id = e) : r || (l += "#" + o.runtime.backdrop_popup_id + " { display: block !important;}", s.setAttribute("data-popup-backdrop", !0), u()); var p = "block" == s.style.getPropertyValue("display"); if (o.isFunction(n) && !p && (n(), o.isFunction(d) && d()), o.isArray(o.runtime.list_show_popup_func[e])) for (; o.runtime.list_show_popup_func[e].length > 0;) { o.runtime.list_show_popup_func[e].shift()() } s.style.setProperty("display", "block", "important"); var m = s.hasAttribute("data-scroll"), g = !1; if (t && (!m && s.clientHeight > .9 * o.getHeightDevice() && (r ? (s.setAttribute("data-scroll", !0), s.style.setProperty("overflow-y", "auto", "important"), s.style.setProperty("overflow-x", "hidden", "important"), m = !0) : g = !0), m && r && (s.getElementsByClassName("ladi-popup")[0].style.removeProperty("height"), s.style.removeProperty("max-height"), s.getElementsByClassName("ladi-popup")[0].style.setProperty("height", s.clientHeight + "px", "important"), s.style.setProperty("max-height", .9 * o.getHeightDevice() + "px"))), !r && g && LadiPagePlugin.getPlugin("popup").styleShowPopupBuilderScroll(e), o.isEmpty(l) || o.createStyleElement("style_popup", l), r && !o.isEmpty(s)) { var y = s.getElementsByClassName("popup-close")[0]; o.isEmpty(y) && ((y = document.createElement("div")).className = "popup-close", s.appendChild(y), y.addEventListener("click", function (t) { t.stopPropagation(), o.runRemovePopup(e, r) })), s.getElementsByClassName("popup-close")[0].style.setProperty("display", "block", "important"); var _ = function () { var t = s.getElementsByClassName("popup-close")[0]; if (!o.isEmpty(t)) { var e = o.getElementBoundingClientRect(s), i = e.y, a = window.innerWidth - e.x - e.width; m && (a += o.runtime.widthScrollBar), t.style.setProperty("right", a + "px"), t.style.setProperty("top", i + "px"), t.style.setProperty("position", "fixed") } }; _(), m && (s.hasAttribute("data-resize-scroll") || (s.setAttribute("data-resize-scroll", !0), window.addEventListener("resize", _))) } r && !p && o.runEventTracking(e, !1); var f = function () { o.runTimeout(function () { delete o.runtime.tmp.is_run_show_popup, o.runEventScroll() }, c) }; if (t) f(); else { o.runTimeout(function () { "none" == getComputedStyle(s).display ? (c -= 100, f()) : o.runShowPopup(!0, e, i, a, r, n) }, 100) } } } }, LadiPageScriptV2.prototype.runEventTracking = function (t, e) { if (this.runtime.isClient && !this.isEmpty(t)) { var i = this.runtime.eventData[t], a = i.type, r = null, n = null, o = null, l = null, s = null, d = this.runtime.currency; if (e && "form" == a ? (r = i["option.form_conversion_name"], n = i["option.form_google_ads_conversion"], o = i["option.form_google_ads_label"], l = i["option.form_event_custom_script"], s = this.isEmpty(i["option.form_purchase_value"]) ? null : parseFloatLadiPage(i["option.form_purchase_value"]) || 0, this.runtime.shopping && (s = this.getCartCheckoutPrice(s))) : (r = i["option.conversion_name"], n = i["option.google_ads_conversion"], o = i["option.google_ads_label"], l = i["option.event_custom_script"]), this.isFunction(window.fbq) && !this.isEmpty(r)) { var c = "trackCustom"; -1 != ["AddPaymentInfo", "AddToCart", "AddToWishlist", "CompleteRegistration", "Contact", "CustomizeProduct", "Donate", "FindLocation", "InitiateCheckout", "Lead", "PageView", "Purchase", "Schedule", "Search", "StartTrial", "SubmitApplication", "Subscribe", "ViewContent"].indexOf(r) && (c = "track"); var u = null, p = null; if (this.isEmpty(s) || this.isEmpty(d) || ((u = {}).value = s, u.currency = d), this.isObject(window.ladi_conversion_api) && this.isObject(window.ladi_conversion_api.facebook) && this.isArray(window.ladi_conversion_api.facebook.pixels)) { p = { eventID: "ladi." + Date.now() + "." + (Math.floor(9e10 * Math.random()) + 1e10) } } if (window.fbq(c, r, u, p), this.runtime.shopping && e) { var m = this.getCartProducts(); this.isNull(m) || (this.isObject(p) || (p = {}), p.cart_products = m) } this.runConversionApi("facebook", "events", [{ key: c, name: r, custom_data: u, data: p }]) } if (this.isFunction(window.gtag) && (this.isEmpty(n) || this.isEmpty(o) || window.gtag("event", "conversion", { send_to: "AW-" + n + "/" + o }), !this.isEmpty(r))) { var g = ""; g = "section" == a ? "LadiPageSection" : "popup" == a ? "LadiPagePopup" : "form" == a ? "LadiPageConversion" : "LadiPageClick"; var y = LadiPageApp[i.type + this.const.APP_RUNTIME_PREFIX]; if (!this.isEmpty(y)) { var _ = y(i, this.runtime.isClient); this.isFunction(_.getEventTrackingCategory) && (g = y(i, this.runtime.isClient).getEventTrackingCategory()) } var f = { event_category: g, event_label: window.location.host + window.location.pathname }; this.isEmpty(s) || this.isEmpty(d) || (f.value = s, f.currency = d), window.gtag("event", r, f) } this.isEmpty(l) || this.runFunctionString(l) } }, LadiPageScriptV2.prototype.runFunctionString = function (t) { try { new Function(t)() } catch (t) { } }, LadiPageScriptV2.prototype.loadCollectionData = function (t, e, i, a, r) { var n = this, o = e["option.product_type"], l = e["option.ladisale_store_id"], s = e["option.product_tag_id"], d = e["option.collection_setting.type"], c = n.runtime.eventData[t]; if (!n.isEmpty(c) && "collection" == c.type) { var u = this.runtime.isDesktop ? this.const.DESKTOP : this.const.MOBILE, p = c[u + ".option.collection_setting.row"], m = c[u + ".option.collection_setting.column"], g = function (t, e, i, a, r, o) { if (i = n.copy(i), Object.keys(a).forEach(function (t) { i[t] = a[t] }), a["option.input_type"] == n.const.INPUT_TYPE.product_variant) { var l = n.generateVariantProduct(i, !0, a["option.product_variant_type"], a["option.product_variant_title"], a["option.product_variant_price"], a["option.input_tabindex"], n.runtime.isClient, !0, function (n) { g(t, e, i, a, r, o) }); if (n.isEmpty(l)) return; var s = function (e) { n.updateProductVariantSelectOption(e, i, a, !1, function () { var i = n.getProductVariantId(e.target, r), a = r.variants.findIndex(function (t) { return t.product_variant_id == i }), l = n.findAncestor(e.target, "ladi-element"); if (!n.isEmpty(l)) { var s = n.findAncestor(l, "ladi-collection-item"); if (!n.isEmpty(s)) for (var d = s.querySelectorAll('[data-variant="true"]'), c = 0; c < d.length; c++)if (d[c].id != l.id) { var u = n.runtime.eventData[d[c].id], p = null; if (u["option.product_variant_type"] == n.const.PRODUCT_VARIANT_TYPE.combobox) { var m = r.variants[a]; if (n.isObject(m) && n.isString(m.option_ids)) for (var g = m.option_ids.split("/"), y = 0; y < g.length; y++)p = d[c].querySelector('select[data-product-option-id="' + g[y] + '"]'), n.isEmpty(p) || (p.value = m["option" + (y + 1)]) } if (u["option.product_variant_type"] == n.const.PRODUCT_VARIANT_TYPE.combined) { if (p = d[c].querySelector("select.ladi-form-control"), !n.isEmpty(i)) { var _ = p.querySelector('option[data-product-variant-id="' + i + '"]'); n.isEmpty(_) || (a = _.getAttribute("value")) } p.value = (-1 == a ? "" : a) + "" } } } o(t, r, !1, i, !0, !0) }) }; n.showParentVisibility(e, function () { for (var t = e.clientHeight, r = t, o = e.querySelectorAll("select.ladi-form-control"), d = {}, c = 0; c < o.length; c++)d[o[c].getAttribute("data-store-id") + "_" + o[c].getAttribute("data-product-id") + "_" + o[c].getAttribute("data-product-option-id")] = o[c].value; e.innerHTML = l; for (var u = e.querySelectorAll("select.ladi-form-control"), p = 0; p < u.length; p++) { u[p].removeEventListener("change", s), u[p].addEventListener("change", s); var m = d[u[p].getAttribute("data-store-id") + "_" + u[p].getAttribute("data-product-id") + "_" + u[p].getAttribute("data-product-option-id")]; if (n.isNull(m)) { var g = u[p].querySelector("option"); n.isEmpty(g) || (m = g.getAttribute("value")) } u[p].value = m } if (n.updateProductVariantSelectOptionFirst(i, a, e), a["option.product_variant_type"] != n.const.PRODUCT_VARIANT_TYPE.combined && (e.style.setProperty("height", "auto"), r = e.clientHeight, e.style.removeProperty("height"), t != r)) { e.style.setProperty("height", r + "px"); var y = n.findAncestor(e, "ladi-form"); n.isEmpty(y) || (y = n.findAncestor(y, "ladi-element"), n.updateHeightElement(!0, e, y, t, r)) } }) } if (a["option.input_type"] == n.const.INPUT_TYPE.number) { var d = e.querySelector('input[name="quantity"]'), c = function (t) { if (!n.isEmpty(t.target.value)) { var e = n.generateVariantProduct(i, !1, null, null, null, null, !0, !0, function () { c(t) }); if (!(n.isEmpty(e) || n.isEmpty(e.store_info) || n.isEmpty(e.product))) { var a = t.target; a = (a = n.findAncestor(a, "ladi-form")).querySelector('[data-variant="true"]'); var r = n.getProductVariantId(a, e.product), o = e.product.variants.findIndex(function (t) { return t.product_variant_id == r }); if (-1 != o) { var l = e.product.variants[o].quantity, s = parseInt(t.target.value) || 0; s <= 0 && (s = 0, (0 == e.product.variants[o].inventory_checked || l > 0) && (s = 1)), 1 == e.product.variants[o].inventory_checked && (s > l || 0 == l) && (s = l), s <= 0 && (s = 1), t.target.value = s } } } }; d.addEventListener("input", c); var u = e.querySelectorAll("button")[0], p = e.querySelectorAll("button")[1]; if (n.isEmpty(u) || n.isEmpty(p)) return; u.addEventListener("click", function (t) { d.value = (parseFloatLadiPage(d.value) || 0) - 1, n.fireEvent(d, "input") }), p.addEventListener("click", function (t) { d.value = (parseFloatLadiPage(d.value) || 0) + 1, n.fireEvent(d, "input") }) } if ("button" == a.type && (a["option.is_buy_now"] || a["option.is_add_to_cart"])) { var m = function () { if (n.isObject(i["option.data_action"])) { var t = null; i["option.data_action"].type == n.const.DATA_ACTION_TYPE.popup_cart && (t = document.getElementById("POPUP_CART"), n.isEmpty(t) || window.ladi(t.id).show(), n.runEventTracking(e.id, !1)), i["option.data_action"].type == n.const.DATA_ACTION_TYPE.popup_checkout && (t = document.getElementById("POPUP_CHECKOUT"), n.isEmpty(t) || window.ladi(t.id).show(), n.runEventTracking(e.id, !1)) } }; e.setAttribute("data-click", !1), e.addEventListener("click", function (t) { n.runtime.tmp.buttonAddToCartClick(t, !0, i, m) }) } }, y = function (t, e, i, a, r, o) { var l = !n.isEmpty(e["option.product_mapping_name"]), s = JSON.stringify(e), d = null; if (l) if (a && n.isEmpty(i)) d = ""; else if (!n.isEmpty(e["option.product_id"]) && s === (d = n.generateProductKey(s, !0, e, !0, i, null, function (n) { y(t, e, i, a, r, o) }))) return; var c = e.type, u = null, p = null; if (l && "headline" == c && (p = t.getElementsByClassName("ladi-headline")[0], n.isEmpty(p) || (p.innerHTML = d)), l && "paragraph" == c && (p = t.getElementsByClassName("ladi-paragraph")[0], n.isEmpty(p) || (p.innerHTML = d)), l && "image" == c) { u = n.getOptimizeImage(d, t.clientWidth, t.clientHeight, !0, !1, !1, !0); var m = t.getElementsByClassName("ladi-image-background")[0]; n.isEmpty(m) || (n.isEmpty(u) ? m.style.setProperty("background-image", "none") : (m.style.setProperty("background-image", 'url("' + u + '")'), o && n.runtime.tmp.updateImageGalleryProduct(t, d, e))) } if ("gallery" == c) { if (l && !n.isArray(d)) return; if (!r && "true" == t.getAttribute("data-collection")) return; t.setAttribute("data-collection", !0), t.removeAttribute("data-stop"), t.removeAttribute("data-loaded"), t.removeAttribute("data-scrolled"), t.removeAttribute("data-current"), t.removeAttribute("data-is-next"), t.removeAttribute("data-runtime-id"), t.removeAttribute("data-next-time"); var g = t.querySelector(".ladi-gallery-view-item.selected"); n.isEmpty(g) || g.classList.remove("selected"); var _ = t.querySelector(".ladi-gallery-control-item.selected"); n.isEmpty(_) || _.classList.remove("selected"); var f = t.getElementsByClassName("ladi-gallery-view")[0]; _ = t.getElementsByClassName("ladi-gallery-control-item")[0], g = t.getElementsByClassName("ladi-gallery-view-item")[0], n.isEmpty(g) || g.classList.add("selected"), n.isEmpty(_) || _.classList.add("selected"); var h = t.getElementsByClassName("ladi-gallery-control-box")[0]; if (n.isEmpty(h) || h.style.removeProperty("left"), l) { for (var v = t.getElementsByClassName("ladi-gallery-view-item"); v.length < d.length;) { var E = n.createTmpElement("div", '<div class="ladi-gallery-view-item" data-index="' + v.length + '"></div>', null, !0); t.getElementsByClassName("ladi-gallery-view")[0].appendChild(E) } for (; v.length > d.length;)v[v.length - 1].parentElement.removeChild(v[v.length - 1]); for (var L = t.getElementsByClassName("ladi-gallery-control-item"), P = function (e) { n.runtime.tmp.eventClickGalleryControlItem(e, t) }; L.length < d.length;) { var A = n.createTmpElement("div", '<div class="ladi-gallery-control-item" data-index="' + L.length + '"></div>', null, !0); A.addEventListener("click", P), t.getElementsByClassName("ladi-gallery-control-box")[0].appendChild(A) } for (; L.length > d.length;)L[L.length - 1].parentElement.removeChild(L[L.length - 1]); for (var w = t.querySelectorAll(".ladi-gallery .ladi-gallery-view .ladi-gallery-view-arrow"), S = 0; S < w.length; S++)d.length <= 1 ? w[S].style.setProperty("display", "none") : w[S].style.removeProperty("display"); for (w = t.querySelectorAll(".ladi-gallery > .ladi-gallery-control"), S = 0; S < w.length; S++)d.length <= 1 ? w[S].style.setProperty("display", "none") : w[S].style.removeProperty("display"); for (w = t.querySelectorAll(".ladi-gallery > .ladi-gallery-view"), S = 0; S < w.length; S++)d.length <= 1 ? w[S].style.setProperty("height", "100%") : w[S].style.removeProperty("height"); d.forEach(function (e, i) { u = e.src, n.isEmpty(f) || (u = n.getOptimizeImage(e.src, f.clientWidth, f.clientHeight, !0, !1, !1, n.runtime.isClient)); var a = t.querySelector('.ladi-gallery .ladi-gallery-view-item[data-index="' + i + '"]'); n.isEmpty(a) || a.style.setProperty("background-image", 'url("' + u + '")'), n.isEmpty(_) || (u = n.getOptimizeImage(e.src, _.clientWidth, _.clientHeight, !0, !1, !1, n.runtime.isClient)), a = t.querySelector('.ladi-gallery .ladi-gallery-control-item[data-index="' + i + '"]'), n.isEmpty(a) || a.style.setProperty("background-image", 'url("' + u + '")') }), n.runTimeout(function () { t.setAttribute("data-loaded", !0) }, 300) } n.runtime.tmp.runGallery(t.id, t, !0, c), n.runtime.tmp.setGalleryStart(t.id, t) } "countdown_item" == c && n.runtime.tmp.runOptionCountdownItem(t.id, t, c, e["option.countdown_item_type"]), "countdown" == c && n.runtime.tmp.runOptionCountdown(t.id, t, c, e["option.countdown_type"], e["option.countdown_minute"], e["option.countdown_daily_start"], e["option.countdown_daily_end"], e["option.countdown_endtime"]) }, _ = function (t, e) { var c = p * m, u = n.getListProductByTagId(e, c, i, !0, function () { _(t, e) }); if (n.isObject(u) && n.isArray(u.products)) { var f = document.getElementById(t); if (n.isEmpty(f)) return; if (f.getAttribute("data-page") == i) return; var h = i, v = !1; if (!n.isEmpty(u.total_record) && i * c >= u.total_record) { if (d == n.const.COLLECTION_TYPE.readmore) { var E = f.getElementsByClassName("ladi-collection-button-next")[0]; n.isEmpty(E) || E.setAttribute("data-opacity", "0") } f.setAttribute("data-max-page", h), v = !0 } f.setAttribute("data-page", i > h ? h : i); var L = f.getElementsByClassName("ladi-collection-arrow-left")[0], P = f.getElementsByClassName("ladi-collection-arrow-right")[0], A = f.getElementsByClassName("ladi-collection-button-next")[0]; if (n.isEmpty(L) || L.classList.remove("opacity-0"), n.isEmpty(P) || P.classList.remove("opacity-0"), n.isEmpty(A) || A.classList.remove("opacity-0"), 1 == f.getAttribute("data-page") && d == n.const.COLLECTION_TYPE.carousel && (n.isEmpty(L) || L.classList.add("opacity-0")), f.getAttribute("data-page") == f.getAttribute("data-max-page") && (d == n.const.COLLECTION_TYPE.readmore && (n.isEmpty(A) || A.classList.add("opacity-0")), d == n.const.COLLECTION_TYPE.carousel && (n.isEmpty(P) || P.classList.add("opacity-0"))), h < i) return; var w = f.getElementsByClassName("ladi-collection-item"); if (0 == w.length) return; var S = 0, b = 0; if (f.hasAttribute("data-max-option-length")) S = parseFloatLadiPage(f.getAttribute("data-max-option-length")); else { var T = f.querySelectorAll('.ladi-form [data-variant="true"]'); for (b = 0; b < T.length; b++) { var C = T[b].getElementsByClassName("ladi-form-item-box"); C.length > S && (S = C.length) } } var O = f.getElementsByClassName("ladi-collection-content")[0], N = { className: w[0].className, innerHTML: w[0].innerHTML }; a && w[0].parentElement.removeChild(w[0]); for (var I = O.getElementsByClassName("ladi-collection-page"); I.length < i;) { var k = document.createElement("div"); k.className = "ladi-collection-page", O.appendChild(k) } var x = I[i - 1], D = x.getElementsByClassName("ladi-collection-item"); if (D.length != u.products.length) for (; D.length > 0;)D[0].parentElement.removeChild(D[0]); var B = function (t, i, a, r, d, c) { o == n.const.FORM_CONFIG_TYPE.ladisales && (i.id = i.product_id); for (var u = 0; u < t.length; u++) { var p = n.copy(n.runtime.eventData[t[u].id]); n.isEmpty(p) || (p["option.product_type"] = o, p["option.ladisale_store_id"] = l, p["option.product_tag_id"] = s, p["option.product_id"] = i.id, a && (n.isFunction(n.runtime.tmp.runOptionAction) && n.runtime.tmp.runOptionAction(t[u], t[u].id, p.type, p), n.isFunction(n.runtime.tmp.runOptionHover) && n.runtime.tmp.runOptionHover(t[u], t[u].id, p.type, p["option.data_hover"]), g(t, t[u], e, p, i, B)), y(t[u], p, r, d, a, c)) } }; for (b = 0; b < u.products.length; b++)n.isArray(u.products[b].options) && u.products[b].options.length > S && (S = u.products[b].options.length); for (f.setAttribute("data-max-option-length", S), b = 0; b < u.products.length; b++)if (!(D.length > b)) { var R = document.createElement("div"); R.className = N.className, x.appendChild(R), R.innerHTML = N.innerHTML; for (var M = R.getElementsByClassName("ladi-element"); n.isArray(u.products[b].options) && u.products[b].options.length < S;)u.products[b].options.push({ is_tmp: !0 }); B(M, u.products[b], !0, null, !1, !1) } v && x.classList.add("last"), d == n.const.COLLECTION_TYPE.carousel && function (t) { var e = document.getElementById(t); if (!n.isEmpty(e) && e.hasAttribute("data-page")) { var i = "0", a = "100%", r = parseFloatLadiPage(e.getAttribute("data-page")) || 1, o = e.getElementsByClassName("ladi-collection-content")[0].getElementsByClassName("ladi-collection-page"), l = o[o.length - 1].getElementsByClassName("ladi-collection-item"), s = m - l.length, d = ""; s > 0 ? (r != o.length ? r > 1 && (i = -(r - 1) + "00%") : i = "calc(-" + (r - 1) + "00% + (100% / " + m + " * " + s + "))", a = "calc(" + o.length + "00% - (100% / " + m + " * " + s + "))", d += "#" + t + " .ladi-collection-content .ladi-collection-page.last {", d += "width: calc(" + getComputedStyle(e).width + " / " + m + " * " + s + ");", d += "}") : (r > 1 && (i = -(r - 1) + "00%"), a = o.length + "00%"); var c = "style_collection_" + t, u = document.getElementById(c); n.isEmpty(u) || u.parentElement.removeChild(u); var p = "#" + t + " .ladi-collection-content {"; p += "width: " + a + ";", p += "left: " + i + ";", p += "}", p += d, n.createStyleElement(c, p) } }(t), r && d == n.const.COLLECTION_TYPE.readmore && function (t) { var e = document.getElementById(t); if (!n.isEmpty(e)) { var i = e.getElementsByClassName("ladi-collection-content")[0]; if (e.hasAttribute("data-max-page")) { var a = i.querySelector(".ladi-collection-page.last"), r = a.getElementsByClassName("ladi-collection-item"), o = Math.ceil(r.length / m); a.style.setProperty("height", (parseFloatLadiPage((parseFloatLadiPage(getComputedStyle(a).height) || 0) / p * o) || 0) + "px") } var l = parseFloatLadiPage(getComputedStyle(e).height) || 0, s = i.scrollHeight; if (l != s) { e.style.setProperty("height", s + "px"); var d = n.findAncestor(e.parentElement, "ladi-element"); n.isEmpty(d) && (d = n.findAncestor(e.parentElement, "ladi-section")), n.updateHeightElement(!0, e, d, l, s) } } }(t), n.runEventScroll(), n.runResizeAll() } }, f = c["option.product_tag_id"], h = c["option.data_setting.value"]; !n.isArray(f) && n.isEmpty(h) || _(t, c) } }, LadiPageScriptV2.prototype.formatCurrency = function (t, e, i, a) { var r = { VND: "{0}đ", USD: "${0}", EUR: "€{0}", GBP: "₤{0}", CNY: "¥{0}", MYR: "RM{0}", THB: "฿{0}", IDR: "Rp {0}" }; if (a) return this.isEmpty(r[e]) ? e : r[e].format("").trim(); var n = this.formatNumber(t, 3, null, { VND: 0, USD: 2, EUR: 2, GBP: 2, CNY: 0, MYR: 0, THB: 0, IDR: 0 }[e] || 0); return i && (n = this.isEmpty(r[e]) ? n + " " + e : r[e].format(n)), n }, LadiPageScriptV2.prototype.formatNumber = function (t, e, i, a) { if (void 0 != t) { void 0 == i && (i = 0), void 0 == a && (a = 0); var r = "\\d(?=(\\d{" + (e || 3) + "})+" + (a > 0 ? "\\." : "$") + ")"; t = t.toFixed(Math.max(0, ~~a)).replace(new RegExp(r, "g"), "$&,"); var n = null, o = null; i >= 1 && (o = (n = t.split("."))[0], t = o = new Array(i - o.length + 1).join("0") + o, 2 == n.length && (t += "." + n[1])), a >= 1 && 2 == (n = t.split(".")).length && (o = n[1], o = new Array(a - o.length + 1).join("0") + o, t = n[0] + "." + o) } return t }, LadiPageScriptV2.prototype.setDataReplaceStr = function (t, e) { this.runtime.replaceStr[t] = e }, LadiPageScriptV2.prototype.getDataReplaceStr = function (t, e) { var i = null; return this.isNull(e) || (i = e[t]), this.isNull(i) && (i = this.runtime.replaceStr[t]), i }, LadiPageScriptV2.prototype.highlightText = function (t, e, i, a) { if (!this.isEmpty(t) && 0 != e.length) { var r = i ? "gi" : "g", n = []; e.forEach(function (t) { n.push(t.replaceAll("|", "\\|")) }), n.sort(function (t, e) { return e.length - t.length }); var o = this; Array.from(t.childNodes).forEach(function (t) { var l = new RegExp(n.join("|"), r); if (3 !== t.nodeType) o.highlightText(t, e, i, a); else if (l.test(t.textContent)) { var s = document.createDocumentFragment(), d = 0; t.textContent.replace(l, function (e, i) { var r = document.createTextNode(t.textContent.slice(d, i)), n = null; o.isFunction(a) ? n = a(e) : (n = document.createElement("span")).textContent = e, s.appendChild(r), s.appendChild(n), d = i + e.length }); var c = document.createTextNode(t.textContent.slice(d)); s.appendChild(c), t.parentNode.replaceChild(s, t) } }) } }, LadiPageScriptV2.prototype.convertDataReplaceStr = function (t, e, i, a, r) { for (var n = this, o = t, l = new RegExp(n.runtime.replacePrefixStart + "[^" + n.runtime.replacePrefixStart + "$" + n.runtime.replacePrefixEnd + "]*" + n.runtime.replacePrefixEnd, "gi"), s = null, d = [], c = function (t) { if (a) d.push(t); else { var i = t, l = i.split("|"); i = l[0].substr(n.runtime.replacePrefixStart.length), 1 == l.length && (i = i.substr(0, i.length - n.runtime.replacePrefixEnd.length)); var s = n.getDataReplaceStr(i, r); if (n.isEmpty(s)) if (l.length > 1) { var c = n.randomInt(1, l.length - 1); s = l[c], c == l.length - 1 && (s = s.substr(0, s.length - n.runtime.replacePrefixEnd.length)) } else s = ""; e && (s = encodeURIComponent(s)), o = o.replaceAll(t, s) } }; null !== (s = l.exec(t));)s.index === l.lastIndex && l.lastIndex++, s.forEach(c); return d = d.unique(), n.highlightText(i, d, !0, function (t) { var e = document.createElement("span"); return e.setAttribute("data-replace-str", t), e }), o }, LadiPageScriptV2.prototype.setDataReplaceElement = function (t, e, i, a, r) { for (var n = this.isEmpty(a) ? document : document.getElementById(a), o = n.querySelectorAll("span[data-replace-str]"), l = 0; l < o.length; l++) { var s = o[l].getAttribute("data-replace-str"); o[l].innerHTML = this.convertDataReplaceStr(s, !1, null, !1, i) } for (var d = n.querySelectorAll("a[data-replace-href]"), c = 0; c < d.length; c++) { var u = d[c].getAttribute("data-replace-href"); u = this.convertDataReplaceStr(u, !0, null, !1, i), d[c].href = u } for (var p = n.querySelectorAll(".ladi-element .ladi-form-item-container [name]"), m = 0; m < p.length; m++) { var g = null, y = null, _ = !1, f = null; if (t) { var h = p[m].getAttribute("name").trim(); (_ = !0) && -1 == r.indexOf(h) && (_ = !1), _ && "country" == h && "true" == p[m].getAttribute("data-is-select-country") && (_ = !1), _ && (g = this.getDataReplaceStr(h, i)) } if (!_) { var v = this.findAncestor(p[m], "ladi-element"); if (this.isEmpty(v)) continue; var E = this.runtime.eventData[v.id]; if (this.isEmpty(E)) continue; var L = E["option.input_default_value"]; if (this.isEmpty(L)) continue; g = this.convertDataReplaceStr(L, !1, null, !1, i) } if (!this.isNull(g)) { if (y = this.isArray(g) ? g[0] : g, y = this.isNull(y) ? "" : y, y += "", "INPUT" == p[m].tagName) if ("checkbox" == (f = p[m].getAttribute("type").trim()) || "radio" == f) { var P = !1; if ("checkbox" == f) { var A = g; this.isArray(A) || (A = [A]), P = -1 != A.indexOf(p[m].getAttribute("value")) } "radio" == f && (P = p[m].getAttribute("value") == y.trim()), P ? (p[m].checked = !0, e && p[m].setAttribute("checked", "checked")) : (p[m].checked = !1, e && p[m].removeAttribute("checked")); var w = this.findAncestor(p[m], "ladi-form-checkbox-item"); if (!this.isEmpty(w)) { var S = w.querySelector("span"); this.isEmpty(S) || S.setAttribute("data-checked", p[m].checked) } } else p[m].value = y.trim(), e && p[m].setAttribute("value", p[m].value); if ("TEXTAREA" == p[m].tagName && (p[m].value = y.trim(), e && (p[m].innerHTML = p[m].value)), "SELECT" == p[m].tagName) { var b = p[m].querySelector('option[value="' + y.trim() + '"]'); if (!this.isEmpty(b) && (p[m].value = b.getAttribute("value"), e && !b.hasAttribute("selected"))) { for (var T = p[m].querySelectorAll("option"), C = 0; C < T.length; C++)T[C].removeAttribute("selected"); b.setAttribute("selected", "selected") } } } } }, LadiPageScriptV2.prototype.setDataReplaceStart = function () { for (var t = document.querySelectorAll(".ladi-headline, .ladi-paragraph, .ladi-list-paragraph ul"), e = 0; e < t.length; e++)this.convertDataReplaceStr(t[e].innerHTML, !1, t[e], !0); this.setDataReplaceElement(!0, !0, null, null, Object.keys(this.runtime.replaceStr)) }, LadiPageScriptV2.prototype.generateVariantContentString = function (t, e, i, a) { var r = []; i = this.isEmpty(i) ? " | " : i; try { this.isEmpty(t) || (e && (t = Base64.decode(t)), t = JSON.parse(t), this.isArray(t.dynamic_content.hide) && t.dynamic_content.hide.length > 0 && r.push(this.const.LANG.HIDE_ELEMENT + " " + t.dynamic_content.hide.join(", ")), this.isArray(t.dynamic_content.show) && t.dynamic_content.show.length > 0 && r.push(this.const.LANG.SHOW_ELEMENT + " " + t.dynamic_content.show.join(", ")), this.isArray(t.dynamic_content.top) && t.dynamic_content.top.length > 0 && r.push(this.const.LANG.TOP_ELEMENT + " " + t.dynamic_content.top.join(", ")), this.isArray(t.dynamic_content.scroll) && t.dynamic_content.scroll.length > 0 && r.push(this.const.LANG.SCROLL_ELEMENT + " " + t.dynamic_content.scroll.join(", ")), this.isArray(t.dynamic_content.cookie) && t.dynamic_content.cookie.length > 0 && r.push(this.const.LANG.SET_COOKIE + " " + t.dynamic_content.cookie.join("; "))) } catch (t) { } return a ? r : r.join(i) }, LadiPageScriptV2.prototype.reloadFeeShipping = function (t) { var e = this; e instanceof LadiPageScriptV2 || (e = LadiPageScript), e.isEmpty(e.runtime.tmp.timeout_reload_fee_shipping) || e.removeTimeout(e.runtime.tmp.timeout_reload_fee_shipping); var i = function (t, i) { e.runtime.tmp.add_to_cart_fee_shipping = t, e.changeTotalPriceCart(), e.isNull(i) && (e.runtime.tmp.add_to_cart_shipping_method_id = null, i = []); for (var a = null, r = e.runtime.tmp.add_to_cart_shipping_method_id, n = function (t) { s.setAttribute("data-selected", t.target.value || ""), e.runtime.tmp.add_to_cart_shipping_method_id = e.isEmpty(s.getAttribute("data-selected")) ? null : parseFloatLadiPage(s.getAttribute("data-selected")) || 0, a = t.target.querySelector('option[value="' + t.target.value + '"]'), e.runtime.tmp.add_to_cart_fee_shipping = e.isEmpty(a) ? 0 : parseFloatLadiPage(a.getAttribute("data-fee")) || 0, e.changeTotalPriceCart() }, o = document.querySelectorAll('select[data-combobox-type="' + LadiPageScript.const.COMBOBOX_TYPE.delivery_method + '"]'), l = 0; l < o.length; l++) { var s = o[l], d = s.getElementsByTagName("option"); for ("true" != s.getAttribute("data-event") && (s.setAttribute("data-event", !0), s.addEventListener("change", n)), e.isNull(s.getAttribute("data-placeholder")) && s.setAttribute("data-placeholder", d[0].innerHTML); d.length > 0;)d[0].parentElement.removeChild(d[0]); i.length <= 0 && ((a = document.createElement("option")).innerHTML = s.getAttribute("data-placeholder"), s.appendChild(a)); for (var c = 0; c < i.length; c++)(a = document.createElement("option")).innerHTML = i[c].name, a.setAttribute("data-fee", i[c].fee), a.setAttribute("value", i[c].shipping_method_id), r == i[c].shipping_method_id && a.setAttribute("selected", "selected"), s.appendChild(a); s.setAttribute("data-selected", r || "") } }; e.runtime.tmp.timeout_reload_fee_shipping = e.runTimeout(function () { var a = window.ladi("_cart_token").get_cookie(), r = window.ladi("_checkout_token").get_cookie(); if (e.isEmpty(a) || e.isEmpty(r)) i(0); else if (0 != e.runtime.tmp.list_form_checkout.length) { var n = null; if (n = e.isEmpty(t) ? document.getElementById(e.runtime.tmp.list_form_checkout[0]) : e.findAncestor(t.target, "ladi-form"), e.isEmpty(n)) i(0); else { var o = { "Content-Type": "application/json", "cart-token": a }, l = null, s = n.querySelector('.ladi-form-item select[name="state"]'), d = n.querySelector('.ladi-form-item select[name="district"]'); if (e.isEmpty(s) || e.isEmpty(d)) i(0); else { var c = s.value, u = d.value; if (e.isEmpty(c) || e.isEmpty(u)) return void i(0); (l = { state_id: c.split(":")[0], district_id: u.split(":")[0] }).state_id = parseInt(l.state_id) || l.state_id, l.district_id = parseInt(l.district_id) || l.district_id; e.sendRequest("POST", e.const.API_LADISALE_GET_SHIPPING.format(r), JSON.stringify(l), !0, o, function (t, a, r) { if (r.readyState == XMLHttpRequest.DONE) { if (200 == a) try { var n = JSON.parse(t); if (200 == n.code) { var o = 0; return e.isArray(n.data.shipping_methods) && (-1 == n.data.shipping_methods.findIndex(function (t) { return t.shipping_method_id == e.runtime.tmp.add_to_cart_shipping_method_id }) && (e.runtime.tmp.add_to_cart_shipping_method_id = null), n.data.shipping_methods.forEach(function (t) { e.isEmpty(e.runtime.tmp.add_to_cart_shipping_method_id) && (e.runtime.tmp.add_to_cart_shipping_method_id = t.shipping_method_id), e.runtime.tmp.add_to_cart_shipping_method_id == t.shipping_method_id && (o = t.fee || 0) })), void i(o, n.data.shipping_methods) } } catch (t) { } i(0) } }) } } } }, 1e3) }, LadiPageScriptV2.prototype.reloadPriceDiscount = function (t) { var e = this; if (e instanceof LadiPageScriptV2 || (e = LadiPageScript), !(e.runtime.tmp.is_click_check_price_discount || e.isEmpty(t) && e.isEmpty(e.runtime.tmp.current_use_coupon))) { e.isEmpty(e.runtime.tmp.timeout_reload_price_discount) || e.removeTimeout(e.runtime.tmp.timeout_reload_price_discount); var i = function (a) { e.runtime.tmp.add_to_cart_discount = a, e.runtime.tmp.is_click_check_price_discount = !1, e.changeTotalPriceCart(); var r = null, n = document.getElementsByClassName("ladi-form-remove-coupon")[0]; e.isEmpty(n) || (r = e.findAncestor(n, "ladi-form"), n.parentElement.removeChild(n)); var o = document.querySelector('.ladi-form-item input[name="coupon"].pointer-events-none'); if (e.isEmpty(o) || o.classList.remove("pointer-events-none"), !e.isEmpty(e.runtime.tmp.current_use_coupon)) { if (e.isEmpty(r) && !e.isEmpty(t) && (r = e.findAncestor(t.target, "ladi-form")), e.isEmpty(r)) return; if (o = r.querySelector('.ladi-form-item input[name="coupon"]'), e.isEmpty(o)) return; (n = document.createElement("span")).className = "ladi-form-remove-coupon", n.innerHTML = "⌫", n.addEventListener("click", function (t) { t.stopPropagation(), o.value = "", e.fireEvent(o, "change"), e.runtime.tmp.current_use_coupon = null, i(0) }), e.findAncestor(o, "ladi-form-item").appendChild(n), o.classList.add("pointer-events-none") } }; e.runtime.tmp.timeout_reload_price_discount = e.runTimeout(function () { var a = window.ladi("_cart_token").get_cookie(), r = window.ladi("_checkout_token").get_cookie(); if (e.isEmpty(a) || e.isEmpty(r)) i(0); else if (0 != e.runtime.tmp.list_form_checkout.length) { var n = null; if (e.isEmpty(t) ? n = document.getElementById(e.runtime.tmp.list_form_checkout[0]) : (n = e.findAncestor(t.target, "ladi-form"), e.isEmpty(n) || (n = n.querySelector("[data-submit-form-id]"), e.isEmpty(n) || (n = document.getElementById(n.getAttribute("data-submit-form-id"))))), e.isEmpty(n)) i(0); else { var o = { "Content-Type": "application/json", "cart-token": a }, l = null, s = n.querySelector('.ladi-form-item input[name="email"]'), d = n.querySelector('.ladi-form-item input[name="phone"]'), c = n.querySelector('.ladi-form-item input[name="coupon"]'); if (e.isEmpty(c)) i(0); else { var u = e.runtime.tmp.current_use_coupon; e.runtime.tmp.current_use_coupon = null; var p = c.value; if (e.isEmpty(p)) return void i(0); if (e.isEmpty(t) && p != u) return void i(0); l = { discount_code: p }, e.isEmpty(s) || (l.email = s.value), e.isEmpty(d) || (l.phone = d.value), e.runtime.tmp.is_click_check_price_discount = !0, e.sendRequest("POST", e.const.API_LADISALE_VALIDATE_DISCOUNT.format(r), JSON.stringify(l), !0, o, function (a, r, n) { if (n.readyState == XMLHttpRequest.DONE) { if (200 == r) try { var o = JSON.parse(a); if (200 == o.code) return e.isEmpty(o.data.discount_error) ? e.runtime.tmp.current_use_coupon = p : e.isEmpty(t) || e.showMessage(o.data.discount_error), void i(o.data.discount_price) } catch (t) { } i(0) } }) } } } }, e.isEmpty(t) ? 1e3 : 0) } }, LadiPageScriptV2.prototype.updateCartPromotion = function () { var t = this, e = function (e) { for (var i = 0; i < t.runtime.tmp.cart.length; i++) { var a = t.runtime.tmp.cart[i]; if (a.product_id == e.product_id && a.product_variant_id == e.product_variant_id) { e.sub_total == e.total ? delete a.promotion : a.promotion = e, t.runtime.tmp.cart[i] = a; for (var r = document.querySelectorAll('.ladi-cart .ladi-cart-row[data-index="' + i + '"]'), n = 0; n < r.length; n++) { var o = r[n].querySelector(".ladi-cart-price"), l = r[n].querySelector(".ladi-cart-title"), s = o.querySelector("span.price-compare"), d = l.querySelector("span.promotion-name"); if (t.isObject(a.promotion)) { r[n].classList.add("has-promotion"), t.isEmpty(s) && ((s = document.createElement("span")).className = "price-compare", o.appendChild(s)); var c = t.formatNumber(e.total, 3); t.isObject(a.currency) && !t.isEmpty(a.currency.symbol) && (c = t.formatCurrency(e.total, a.currency.symbol, !0)), s.innerHTML = c, t.isEmpty(d) && ((d = document.createElement("span")).className = "promotion-name", l.appendChild(d)), d.innerHTML = a.promotion.discount.note } else r[n].classList.remove("has-promotion"), t.isEmpty(s) || s.parentElement.removeChild(s), t.isEmpty(d) || d.parentElement.removeChild(d) } } } }, i = []; t.isArray(t.runtime.tmp.cart) && t.runtime.tmp.cart.forEach(function (t) { i.push({ product_id: t.product_id, product_variant_id: t.product_variant_id, quantity: t.quantity }) }); var a = { variants: i }, r = JSON.stringify(a); if (t.isObject(t.runtime.tmp.timeout_update_cart_promotion) || (t.runtime.tmp.timeout_update_cart_promotion = {}), !0 !== t.runtime.tmp.timeout_update_cart_promotion[r]) { if (t.isArray(t.runtime.tmp.timeout_update_cart_promotion[r])) return t.runtime.tmp.timeout_update_cart_promotion[r].forEach(e), void t.changeTotalPriceCart(); var n = window.ladi("_cart_token").get_cookie(), o = { "Content-Type": "application/json" }; t.isEmpty(n) || (o["cart-token"] = n), t.runtime.tmp.timeout_update_cart_promotion[r] = !0, t.sendRequest("POST", t.const.API_LADISALE_PROMOTION, JSON.stringify(a), !0, o, function (i, a, n) { if (n.readyState == XMLHttpRequest.DONE) { if (200 == a) try { var o = JSON.parse(i); if (200 == o.code && t.isObject(o.data) && t.isArray(o.data.variants)) return o.data.variants.forEach(e), t.runtime.tmp.timeout_update_cart_promotion[r] = o.data.variants, void t.changeTotalPriceCart() } catch (t) { } delete t.runtime.tmp.timeout_update_cart_promotion[r] } }) } }, LadiPageScriptV2.prototype.addCartCookie = function (t, e, i, a, r) { var n = window.ladi("_cart_token").get_cookie(), o = { "Content-Type": "application/json", "store-id": t }; this.isEmpty(n) || (o["cart-token"] = n); var l = this, s = {}; this.sendRequest("POST", this.const.API_LADISALE_ADD, JSON.stringify(e), !0, o, function (t, e, n) { if (n.readyState == XMLHttpRequest.DONE) { if (200 == e) try { if (200 == (s = JSON.parse(t)).code) return window.ladi("_cart_token").set_cookie(s.data.cart_token, 30, window.location.pathname), window.ladi("_checkout_token").set_cookie(s.data.checkout_token, 30, window.location.pathname), l.isFunction(i) && i(), l.isFunction(r) && r(), l.reloadPriceDiscount(), void l.reloadFeeShipping() } catch (t) { } l.isFunction(a) && a(s), l.isFunction(r) && r() } }) }, LadiPageScriptV2.prototype.updateCartCookie = function (t, e, i, a) { var r = window.ladi("_cart_token").get_cookie(), n = { "Content-Type": "application/json" }; this.isEmpty(r) || (n["cart-token"] = r); var o = this, l = {}; this.sendRequest("POST", this.const.API_LADISALE_UPDATE, JSON.stringify(t), !0, n, function (t, r, n) { if (n.readyState == XMLHttpRequest.DONE) { if (200 == r) try { if (200 == (l = JSON.parse(t)).code) return o.isFunction(e) && e(), o.isFunction(a) && a(), o.reloadPriceDiscount(), void o.reloadFeeShipping() } catch (t) { } o.isFunction(i) && i(l), o.isFunction(a) && a() } }) }, LadiPageScriptV2.prototype.createCartData = function () { this.runtime.tmp.cart = [], this.runtime.tmp.add_to_cart_discount = 0, this.runtime.tmp.add_to_cart_fee_shipping = 0; var t = this, e = function () { t.runtime.tmp.generateCart(), t.changeTotalPriceCart(), t.runResizeAll() }, i = window.ladi("_cart_token").get_cookie(), a = { "Content-Type": "application/json" }; if (!this.isEmpty(i)) return a["cart-token"] = i, void this.sendRequest("GET", this.const.API_LADISALE_SHOW, null, !0, a, function (i, a, r) { if (r.readyState == XMLHttpRequest.DONE) { if (200 == a) try { var n = JSON.parse(i); 200 == n.code && (n.data.items.forEach(function (e) { var i = t.isEmpty(e.src) ? "" : e.src; t.isEmpty(i) || (i = "https://" + t.const.STATIC_W_DOMAIN + "/" + i), -1 == t.runtime.tmp.cart.findIndex(function (t) { return t.store_id == e.store_id && t.product_id == e.product_id && t.product_variant_id == e.product_variant_id }) && t.runtime.tmp.cart.push({ store_id: e.store_id, product_id: e.product_id, product_variant_id: e.product_variant_id, name: e.product_name, title: e.option_name, price: e.price, image: i, quantity: e.quantity, inventory_checked: e.inventory_checked, available_quantity: e.available_quantity, currency: n.data.store_info.currency }) }), t.updateCartPromotion()) } catch (t) { } e() } }); e() }, LadiPageScriptV2.prototype.changeTotalPriceCart = function (t) { var e = this, i = 0, a = 0; this.runtime.tmp.cart.forEach(function (t) { a += t.quantity, e.isObject(t.promotion) ? i += t.promotion.total : i += t.price * t.quantity }), i = i < 0 ? 0 : i; var r = this.runtime.tmp.add_to_cart_fee_shipping || 0, n = this.runtime.tmp.add_to_cart_discount || 0, o = i + r - n; if (o = o < 0 ? 0 : o, t) return { cart_price: i, cart_checkout_price: o, cart_fee_shipping: r, cart_discount: n, total_quantity: a }; var l = this.formatNumber(i, 3), s = this.formatNumber(o, 3), d = this.formatNumber(r, 3), c = this.formatNumber(n, 3); if (this.runtime.tmp.cart.length > 0 && !this.isEmpty(this.runtime.tmp.cart[0].currency) && !this.isEmpty(this.runtime.tmp.cart[0].currency.symbol)) { var u = this.runtime.tmp.cart[0].currency.symbol; l = this.formatCurrency(i, u, !0), s = this.formatCurrency(o, u, !0), d = this.formatCurrency(r, u, !0), c = this.formatCurrency(n, u, !0) } this.setDataReplaceStr("cart_price", l), this.setDataReplaceStr("cart_checkout_price", s), this.setDataReplaceStr("cart_fee_shipping", d), this.setDataReplaceStr("cart_discount", c), this.setDataReplaceStr("cart_quantity", a), this.setDataReplaceElement(!1) }, LadiPageScriptV2.prototype.removeAddToCartProduct = function (t) { var e = this.runtime.tmp.cart.findIndex(function (e) { return e.product_variant_id == t }), i = this; -1 != e && this.updateCartCookie({ type: "LP", product_variant_id: t, quantity: 0 }, function () { i.runtime.tmp.cart.splice(e, 1), i.runtime.tmp.generateCart(), i.changeTotalPriceCart(); var t = document.getElementsByClassName("ladi-form-remove-coupon")[0]; i.isEmpty(t) || t.click(), 0 == i.runtime.tmp.cart.length && (window.ladi("_cart_token").delete_cookie(), window.ladi("_checkout_token").delete_cookie()), i.runResizeAll() }, function (t) { i.showMessage(t.message) }) }, LadiPageScriptV2.prototype.buttonAddToCartProductQuantity = function (t, e) { if (this.isArray(this.runtime.tmp.cart) && 0 != this.runtime.tmp.cart.length) { var i = this.findAncestor(t, "ladi-cart-quantity"); if (!this.isEmpty(i)) { var a = i.querySelector("input"); if (!this.isEmpty(a)) { var r = parseInt(a.value) || 0; a.value = r + e < a.getAttribute("min") ? a.getAttribute("min") : r + e, a.value != r && this.fireEvent(a, "input") } } } }, LadiPageScriptV2.prototype.changeAddToCartProductQuantity = function (t, e, i) { var a = this.runtime.tmp.cart.findIndex(function (t) { return t.product_variant_id == e }), r = this, n = !1, o = -1; if (-1 != a) { var l = this.runtime.tmp.cart[a].quantity; if (this.isEmpty(t.value)) i && (t.value = 1), this.runtime.tmp.cart[a].quantity = 1; else { var s = parseInt(t.value) || 0; 1 == this.runtime.tmp.cart[a].inventory_checked ? (s > (o = this.runtime.tmp.cart[a].available_quantity) && (s = o, n = !0), s <= 0 && (s = 0, o > 0 && (s = 1))) : s = s <= 0 ? 1 : s, this.runtime.tmp.cart[a].quantity = s, t.value = s } n && this.showMessage(this.const.LANG.ADD_TO_CART_MAX_QUANTITY, { max: o }); var d = this.runtime.tmp.cart[a].quantity; if (l == d) return void (t.value = l); this.updateCartCookie({ type: "LP", product_variant_id: this.runtime.tmp.cart[a].product_variant_id, quantity: d }, function () { var t = document.getElementsByClassName("ladi-form-remove-coupon")[0]; r.isEmpty(t) || t.click(), r.updateCartPromotion() }, function (t) { r.runtime.tmp.cart[a].quantity -= d - l, r.showMessage(t.message) }, function () { r.changeTotalPriceCart(); var i = r.runtime.tmp.cart[a].price * r.runtime.tmp.cart[a].quantity, n = r.formatNumber(i, 3); r.isObject(r.runtime.tmp.cart[a].currency) && !r.isEmpty(r.runtime.tmp.cart[a].currency.symbol) && (n = r.formatCurrency(i, r.runtime.tmp.cart[a].currency.symbol, !0)); for (var o = document.querySelectorAll('.ladi-cart-price span[data-product-variant-id="' + e + '"]'), l = 0; l < o.length; l++)if (o[l].getAttribute("data-store-id") == r.runtime.tmp.cart[a].store_id && o[l].getAttribute("data-product-id") == r.runtime.tmp.cart[a].product_id) { o[l].innerHTML = n; var s = r.findAncestor(o[l], "ladi-cart-row"); if (!r.isEmpty(s)) { var d = r.findAncestor(t, "ladi-element"), c = r.findAncestor(s, "ladi-element"); if (!r.isEmpty(d) && !r.isEmpty(c) && d.id == c.id) continue; var u = s.querySelector(".ladi-cart-image-quantity"); r.isEmpty(u) || (u.innerHTML = r.runtime.tmp.cart[a].quantity); var p = s.querySelector(".ladi-cart-quantity input"); r.isEmpty(p) || (p.value = r.runtime.tmp.cart[a].quantity) } } }) } }, LadiPageScriptV2.prototype.updateProductVariantSelectOption = function (t, e, i, a, r) { var n = this, o = t.target, l = n.generateVariantProduct(e, !1, null, null, null, null, !0, !0, function (o) { n.updateProductVariantSelectOption(t, e, i, a, r) }); if (n.isObject(l)) { var s = n.getProductVariantId(o, l.product), d = n.findAncestor(o, "ladi-collection-item"), c = [], u = 0; if (n.isEmpty(d)) for (var p = document.querySelectorAll('[data-variant="true"]'), m = 0; m < p.length; m++) { var g = n.findAncestor(p[m], "ladi-form"); if (!n.isEmpty(g) && (g = n.findAncestor(g, "ladi-element"), n.isEmpty(n.findAncestor(g, "ladi-collection")))) { var y = n.runtime.eventData[g.id]; n.isEmpty(y) || y["option.product_type"] != e["option.product_type"] || y["option.product_id"] != e["option.product_id"] || c.push(p[m]) } } else c = d.querySelectorAll('[data-variant="true"]'); var _ = []; for (u = 0; u < c.length; u++) { if (a) { var f = n.findAncestor(c[u], "ladi-popup"); if (n.isEmpty(f)) continue; if ("POPUP_PRODUCT" != (f = n.findAncestor(f, "ladi-element")).id) continue } _.push(c[u]) } var h = o.getAttribute("data-product-option-id"), v = null, E = null, L = null; if (n.isArray(l.product.variants) && l.product.variants.length > 0 && n.isString(l.product.variants[0].option_ids)) { for (L = l.product.variants[0].option_ids.split("/"), u = 0; u < L.length; u++)if (L[u] == h) { E = u; break } n.isEmpty(E) || (v = {}, l.product.variants.forEach(function (t) { if (n.isEmpty(o.value) || o.value == t["option" + (E + 1)]) for (u = 0; u < L.length; u++)n.isArray(v[L[u]]) || (v[L[u]] = []), u != E && v[L[u]].push(t["option" + (u + 1)]) })) } for (var P = [], A = 0; A < _.length; A++) { var w = n.runtime.eventData[_[A].id]; if (!n.isEmpty(w) && w["option.product_variant_type"] == n.const.PRODUCT_VARIANT_TYPE.combobox) { var S = _[A].querySelectorAll("select[data-product-option-id]"), b = 0, T = 0, C = null, O = null; if (n.isObject(v)) { for (b = 0; b < S.length; b++)if ((C = S[b].getAttribute("data-product-option-id")) != h) for (n.isArray(v[C]) && -1 != v[C].indexOf(S[b].value) || (S[b].value = ""), O = S[b].getElementsByTagName("option"), T = 0; T < O.length; T++)n.isEmpty(O[T].getAttribute("value")) || O[T].removeAttribute("disabled"); for (b = 0; b < S.length; b++) { C = S[b].getAttribute("data-product-option-id"), v = {}; for (var N = 0; N < l.product.variants.length; N++) { var I = l.product.variants[N]; if (L = I.option_ids.split("/"), -1 != (E = L.indexOf(C)) && (n.isEmpty(S[b].value) || S[b].value == I["option" + (E + 1)])) for (u = 0; u < L.length; u++)n.isArray(v[L[u]]) || (v[L[u]] = []), u != E && v[L[u]].push(I["option" + (u + 1)]) } for (var k = 0; k < S.length; k++) { var x = S[k].getAttribute("data-product-option-id"); if (x != C) for (O = S[k].getElementsByTagName("option"), T = 0; T < O.length; T++)n.isEmpty(O[T].getAttribute("value")) || n.isArray(v[x]) && -1 != v[x].indexOf(O[T].getAttribute("value")) || O[T].setAttribute("disabled", "") } } } if (!n.isObject(v)) for (b = 0; b < S.length; b++)P.push(S[b]) } } !n.isEmpty(s) && n.isFunction(r) && r(); for (var D = null; P.length > 0;)D = P.shift(), n.fireEvent(D, "change") } }, LadiPageScriptV2.prototype.updateProductVariantSelectOptionFirst = function (t, e, i) { var a = this, r = a.generateVariantProduct(t, !1, null, null, null, null, !0, !0, function () { a.updateProductVariantSelectOptionFirst(t, e, i) }); if (a.isObject(r) && a.isObject(r.product)) { var n = i.querySelectorAll("select.ladi-form-control"), o = 0; if (a.isArray(r.product.variants) && 0 != r.product.variants.length) { var l = null, s = null; if (a.isEmpty(t["option.product_variant_id"]) || (l = r.product.variants.find(function (e) { return e.product_variant_id == t["option.product_variant_id"] })), a.isEmpty(l) && (l = r.product.variants[0]), e["option.product_variant_type"] == a.const.PRODUCT_VARIANT_TYPE.combined) for (o = 0; o < n.length; o++)s = n[o].querySelector('option[data-product-variant-id="' + l.product_variant_id + '"]'), a.isEmpty(s) || (n[o].value = s.getAttribute("value"), a.fireEvent(n[o], "change")); if (e["option.product_variant_type"] == a.const.PRODUCT_VARIANT_TYPE.combobox) if (a.isString(l.option_ids)) l.option_ids.split("/").forEach(function (t, e) { for (o = 0; o < n.length; o++)n[o].getAttribute("data-product-option-id") == t && (n[o].value = l["option" + (e + 1)] || "", a.fireEvent(n[o], "change")) }) } else for (o = 0; o < n.length; o++)n[o].value = "", a.fireEvent(n[o], "change") } }, LadiPageScriptV2.prototype.generateHtmlCart = function (t, e, i) { var a = this, r = []; r = i ? a.runtime.tmp.cart : [{ name: "Product Name", title: "Product Variant", price: 9999, image: LadiPage.getRootScope().logoUrlColor, quantity: 1, inventory_checked: 0, available_quantity: 999, currency: { symbol: LadiPage.getRootScope().getStoreCurrency() } }]; var n = ""; if (n += "<tbody>", 0 == r.length) n += '<tr><td class="ladi-cart-no-product">' + e + "</td></tr>"; else { r.forEach(function (e, r) { if (!(e.quantity <= 0)) { var o = a.getOptimizeImage(e.image, 60, 60, !0, !1, !0, i); n += '<tr class="ladi-cart-row' + (a.isObject(e.promotion) ? " has-promotion" : "") + '" data-index="' + r + '"><td class="ladi-cart-image"><img src="' + o + '" />', t == a.const.CART_LAYOUT.viewonly && (n += '<span class="ladi-cart-image-quantity">' + e.quantity + "</span>"), n += "</td>", n += '<td class="ladi-cart-title"><span class="ladi-cart-title-name">' + e.name + '</span><span class="ladi-cart-title-variant">' + (e.title || "") + "</span>", a.isObject(e.promotion) && (n += '<span class="promotion-name">' + e.promotion.discount.note + "</span>"), n += "</td>", t == a.const.CART_LAYOUT.editable && (n += '<td class="ladi-cart-quantity"><div class="ladi-cart-quantity-content"><button onclick="javascript: LadiPageScript.buttonAddToCartProductQuantity(this, -1);" type="button"><span>-</span></button><input' + (i ? "" : " disabled") + ' type="number" min="1" value="' + e.quantity + '" oninput="javascript: LadiPageScript.changeAddToCartProductQuantity(this, ' + e.product_variant_id + ', true);" /><button onclick="javascript: LadiPageScript.buttonAddToCartProductQuantity(this, 1);" type="button"><span>+</span></button></div></td>'), n += '<td class="ladi-cart-price"><span data-store-id="' + e.store_id + '" data-product-id="' + e.product_id + '" data-product-variant-id="' + e.product_variant_id + '">'; var l = e.price * e.quantity, s = a.formatNumber(l, 3); a.isObject(e.currency) && !a.isEmpty(e.currency.symbol) && (s = a.formatCurrency(l, e.currency.symbol, !0)), n += s + "</span>", a.isObject(e.promotion) && (l = e.promotion.total, s = a.formatNumber(l, 3), a.isObject(e.currency) && !a.isEmpty(e.currency.symbol) && (s = a.formatCurrency(l, e.currency.symbol, !0)), n += '<span class="price-compare">' + s + "</span>"), n += "</td>", t == a.const.CART_LAYOUT.editable && (n += '<td class="ladi-cart-action"><button onclick="javascript: LadiPageScript.removeAddToCartProduct(' + e.product_variant_id + ');" type="button"><span>X</span></button></td>', n += "</tr>") } }) } return n += "</tbody>" }, LadiPageScriptV2.prototype.getProductVariantId = function (t, e) { var i = null, a = this.findAncestor(t, "ladi-element"), r = this; if (!this.isEmpty(a)) { var n = this.runtime.eventData[a.id]; if (!this.isEmpty(n) && n["option.product_variant_type"] == this.const.PRODUCT_VARIANT_TYPE.combined) { var o = a.querySelector("select.ladi-form-control"); if (!this.isEmpty(o) && !this.isEmpty(o.value)) { var l = o.querySelector('option[value="' + o.value + '"]'); this.isEmpty(l) || (i = l.getAttribute("data-product-variant-id")) } } if (!this.isEmpty(n) && n["option.product_variant_type"] == this.const.PRODUCT_VARIANT_TYPE.combobox) { for (var s = a.querySelectorAll(".ladi-form-item select[data-product-option-id]"), d = {}, c = 0; c < s.length; c++)d[s[c].getAttribute("data-product-option-id")] = (s[c].value || "").trim(); this.isArray(e.variants) && e.variants.forEach(function (t) { if (r.isEmpty(i)) { var e = !0; if (r.isString(t.option_ids)) for (var a = t.option_ids.split("/"), n = 0; n < a.length; n++)if (d[a[n].trim()] != (t["option" + (n + 1)] || "").trim()) { e = !1; break } e && (i = t.product_variant_id) } }) } } return i }, LadiPageScriptV2.prototype.getProductVariantIndex = function (t, e) { var i = this, a = -1, r = e["option.product_type"], n = e["option.ladisale_store_id"] || null, o = e["option.product_id"], l = i.generateVariantProduct(e, !1, null, null, null, null, !0, !0); if (!i.isObject(l) || !i.isObject(l.store_info) || !i.isObject(l.product) || !i.isArray(l.product.variants) || l.product.variants.length <= 0) return a; this.runtime.isClient ? Object.keys(this.runtime.eventData).forEach(function (e) { if ((i.isEmpty(t) || t == e) && -1 == a) { var s = i.runtime.eventData[e]; if ("form" == s.type && s["option.is_add_to_cart"] && s["option.product_type"] == r && s["option.product_id"] == o && s["option.ladisale_store_id"] == n) { var d = document.getElementById(e); if (!i.isEmpty(d)) { var c = d.querySelector('[data-variant="true"]'); if (!i.isEmpty(c)) { var u = i.runtime.eventData[c.id]; if (!i.isEmpty(u)) { if (u["option.product_variant_type"] == i.const.PRODUCT_VARIANT_TYPE.combobox) { var p = c.querySelectorAll(".ladi-form-item select[data-product-option-id]"); a = l.product.variants.findIndex(function (t) { for (var e = !0, a = null, r = function (t) { return t == a }, n = 0; n < p.length; n++)if (p[n].getAttribute("data-store-id") == l.store_info.id && p[n].getAttribute("data-product-id") == t.product_id) { a = p[n].getAttribute("data-product-option-id"); var o = p[n].value; if (i.isString(t.option_ids)) { var s = t.option_ids.split("/").findIndex(r); if (-1 != s && t["option" + (s + 1)] != o) { e = !1; break } } } return e }) } if (u["option.product_variant_type"] == i.const.PRODUCT_VARIANT_TYPE.combined) { var m = c.querySelector(".ladi-form-control"); if (m.getAttribute("data-store-id") != l.store_info.id || m.getAttribute("data-product-id") != l.product.product_id) return; a = m.value, a = i.isEmpty(a) ? -1 : parseInt(a) } } } } } } }) : a = 0; return a }, LadiPageScriptV2.prototype.generateProductKey = function (t, e, i, a, r, n, o) { var l = this; l.isEmpty(n) || (i["option.product_id"] = n.product_id); var s = i["option.product_type"], d = i["option.product_mapping_name"], c = l.generateVariantProduct(i, !1, null, null, null, null, !0, !0, function (e) { l.generateProductKey(t, !1, i, a, r, n, o) }); function u(t) { return (t >= 10 ? "" : "0") + t } if (l.isObject(c) && l.isObject(c.product)) { var p = null, m = function () { if (s == l.const.FORM_CONFIG_TYPE.ladisales) { if (-1 != ["name", "content"].indexOf(d) && (p = c.product[d], t = p), -1 != ["description"].indexOf(d) && (p = c.product[d], t = p), -1 != ["image"].indexOf(d) && (p = c.product[d], l.isObject(p) && (t = p.src, l.isEmpty(t) || (t = "https://" + l.const.STATIC_W_DOMAIN + "/" + t))), -1 != ["images"].indexOf(d) && (p = c.product[d], l.isArray(p) && (t = [], p.forEach(function (e) { l.isEmpty(e.src) || t.push({ src: "https://" + l.const.STATIC_W_DOMAIN + "/" + e.src }) }))), l.isArray(c.product.variants) && c.product.variants.length > 0) { var n = a ? 0 : l.getProductVariantIndex(null, i); if (l.isEmpty(r) || (n = c.product.variants.findIndex(function (t) { return t.product_variant_id == r })), -1 != n) { var g = c.product.variants[n]; if (-1 != ["sku"].indexOf(d) && (p = g[d], t = p), -1 != ["title"].indexOf(d) && (p = g[d] || g.product_name, t = p), -1 != ["text_quantity"].indexOf(d) && (p = 1 == g.inventory_checked ? g[d] : "", t = p), -1 != ["weight"].indexOf(d) && (p = g[d], l.isEmpty(g.weight_unit) || (p += g.weight_unit), t = p), -1 != ["price", "price_compare"].indexOf(d) && (l.isEmpty(g[d]) ? p = "" : (p = l.formatNumber(g[d], 3), l.isObject(c.store_info) && l.isObject(c.store_info.currency) && !l.isEmpty(c.store_info.currency.symbol) && (p = l.formatCurrency(g[d], c.store_info.currency.symbol, !0))), t = p), -1 != ["src"].indexOf(d)) { if (p = g[d], l.isEmpty(p)) return d = "image", m(); p = "https://" + l.const.STATIC_W_DOMAIN + "/" + p, t = p } -1 != ["description"].indexOf(d) && (p = g[d], l.isEmpty(p) || (t = p)) } else t = p = "" } if (-1 != ["description"].indexOf(d) && l.isEmpty(t)) return d = "content", m() } else { if (p = c.product[d], l.isBoolean(p)) p = p ? l.const.LANG.OPTION_TRUE : l.const.LANG.OPTION_FALSE; else try { var y = new Date(p); y.toISOString() == p && (p = y.getFullYear() + "-" + u(y.getMonth() + 1) + "-" + u(y.getDate()) + " " + u(y.getHours()) + ":" + u(y.getMinutes()) + ":" + u(y.getSeconds())) } catch (t) { } t = p } !e && l.isFunction(o) && o(t) }; m() } return t }, LadiPageScriptV2.prototype.generateVariantProduct = function (t, e, i, a, r, n, o, l, s) { var d = e ? "" : null, c = this, u = function (t) { if (!e) return c.isObject(t) ? t : null; var l = ""; if (c.isObject(t)) { if (!c.isObject(t.product)) return l; i == c.const.PRODUCT_VARIANT_TYPE.combined && (l += '<div class="ladi-form-item-container"><div class="ladi-form-item-background"></div><div class="ladi-form-item"><select data-store-id="' + t.store_info.id + '" data-product-id="' + t.product.product_id + '" required tabindex="' + n + '" class="ladi-form-control ladi-form-control-select" data-selected=""' + (o ? "" : ' onmousedown="javascript: event.preventDefault();"') + ">", c.runtime.isClient && (l += '<option value="" data-product-variant-id="">' + c.const.LANG.OPTION_NO_SELECT + "</option>"), c.isArray(t.product.variants) && t.product.variants.forEach(function (e, i) { var a = e.title || e.product_name; if (r) { var n = c.formatNumber(e.price, 3); c.isObject(t.store_info) && c.isObject(t.store_info.currency) && !c.isEmpty(t.store_info.currency.symbol) && (n = c.formatCurrency(e.price, t.store_info.currency.symbol, !0)), a += " - " + n } l += '<option value="' + i + '" data-product-variant-id="' + e.product_variant_id + '">' + a + "</option>" }), l += "</select></div></div>"), i == c.const.PRODUCT_VARIANT_TYPE.combobox && c.isArray(t.product.options) && t.product.options.forEach(function (e) { if (e.is_tmp) l += '<div class="ladi-form-item-box"></div>'; else if (0 != e.values.length) { l += '<div class="ladi-form-item-box">', c.isEmpty(a) || (l += '<div class="ladi-form-item-title"><span>' + e.name + "</span></div>"), l += '<div class="ladi-form-item-container"><div class="ladi-form-item-background"></div><div class="ladi-form-item"><select data-store-id="' + t.store_info.id + '" data-product-id="' + e.product_id + '" data-product-option-id="' + e.product_option_id + '" required tabindex="' + n + '" class="ladi-form-control ladi-form-control-select" data-selected=""' + (o ? "" : ' onmousedown="javascript: event.preventDefault();"') + ">", c.runtime.isClient && (l += '<option value="">' + c.const.LANG.OPTION_NO_SELECT + "</option>"); var i = null; c.isArray(t.product.variants) && (i = t.product.variants[0]); var r = null; c.isEmpty(i) || c.isString(i.option_ids) && (r = i.option_ids.split("/")); e.values.forEach(function (t) { var a = function (t) { var a = ""; return c.isArray(r) && r.forEach(function (r, n) { e.product_option_id == r && t == i["option" + (n + 1)] && (a = " selected") }), a }(t.name); l += "<option" + a + ' value="' + t.name + '">' + t.name + "</option>" }), l += "</select></div></div></div>" } }) } return l }; if (!c.isNull(t.dataProduct)) return u(t.dataProduct); var p = t["option.product_type"], m = t["option.ladisale_store_id"] || null, g = t["option.product_id"], y = t["option.data_setting.value"], _ = t["option.data_setting.type_dataset"], f = t["option.data_setting.sort_name"], h = t["option.data_setting.sort_by"], v = null, E = null; if (p == c.const.FORM_CONFIG_TYPE.ladisales) { if (!c.isEmpty(g) && !c.isEmpty(m)) { if (c.isEmpty(c.runtime.tmp.product_info[m]) && (c.runtime.tmp.product_info[m] = {}), c.isEmpty(c.runtime.tmp.timeout_product_info[m]) && (c.runtime.tmp.timeout_product_info[m] = {}), g = parseInt(g) || g, v = c.runtime.tmp.product_info[m][g], E = function () { return u(v) }, c.isNull(v)) { c.runtime.tmp.product_info[m][g] = !0; var L = { product_id: g }; return c.runLimitRequest(20, function () { c.sendRequest("POST", c.const.API_SHOW_PRODUCT, JSON.stringify(L), !0, { "Content-Type": "application/json", "Store-Id": m }, function (t, e, i) { if (i.readyState == XMLHttpRequest.DONE) try { if (c.isObject(c.runtime.tmp.product_info[m][g])) v = c.runtime.tmp.product_info[m][g]; else { var a = JSON.parse(t); v = a.data } c.isObject(v) ? (c.runtime.tmp.product_info[m][g] = v, d = E(), c.isFunction(s) && s(d)) : (c.runtime.tmp.product_info[m][g] = !1, c.isEmpty(c.runtime.tmp.timeout_product_info[m][g]) || (c.removeTimeout(c.runtime.tmp.timeout_product_info[m][g]), delete c.runtime.tmp.timeout_product_info[m][g])) } catch (t) { c.runtime.tmp.product_info[m][g] = !1, c.isEmpty(c.runtime.tmp.timeout_product_info[m][g]) || (c.removeTimeout(c.runtime.tmp.timeout_product_info[m][g]), delete c.runtime.tmp.timeout_product_info[m][g]) } }) }), d } !0 === v ? c.runtime.tmp.timeout_product_info[m][g] = c.runTimeout(function () { c.generateVariantProduct(t, e, i, a, r, n, o, !1, s) }, 100) : (d = E(), !l && c.isFunction(s) && s(d)) } } else if (!c.isEmpty(g)) { if (c.isEmpty(c.runtime.tmp.product_info[m]) && (c.runtime.tmp.product_info[m] = {}), c.isEmpty(c.runtime.tmp.timeout_product_info[m]) && (c.runtime.tmp.timeout_product_info[m] = {}), g += "", v = c.runtime.tmp.product_info[m][g], E = function () { return e ? "" : c.isObject(v) ? v : null }, c.isNull(v)) return c.runtime.tmp.product_info[m][g] = !0, c.loadDataset(y, y, _, f, h, !0, c.runtime.isClient, function (t) { d = E(), c.isFunction(s) && s(d) }), d; !0 === v ? c.runtime.tmp.timeout_product_info[m][g] = c.runTimeout(function () { c.generateVariantProduct(t, e, i, a, r, n, o, !1, s) }, 100) : (d = E(), !l && c.isFunction(s) && s(d)) } return d }, LadiPageScriptV2.prototype.runLimitRequest = function (t, e) { var i = this, a = 1e3 / t; if (i.runtime.tmp.time_limit_request_next > Date.now()) return i.runTimeout(function () { i.runLimitRequest(t, e) }, a / 5); i.runtime.tmp.time_limit_request_next = Date.now() + a, i.isFunction(e) && e() }, LadiPageScriptV2.prototype.getListProductByTagId = function (t, e, i, a, r) { var n = this, o = t["option.product_type"], l = t["option.ladisale_store_id"] || null, s = t["option.product_tag_id"], d = t["option.data_setting.value"], c = t["option.data_setting.type_dataset"], u = t["option.collection_setting.type"], p = t["option.data_setting.sort_name"], m = t["option.data_setting.sort_by"], g = null, y = null, _ = null, f = null, h = null; if (n.isArray(s) && s.length > 0 && !n.isEmpty(l)) { if (n.isEmpty(n.runtime.tmp.product_tag_info[o]) && (n.runtime.tmp.product_tag_info[o] = {}), n.isEmpty(n.runtime.tmp.timeout_product_tag_info[o]) && (n.runtime.tmp.timeout_product_tag_info[o] = {}), s.sort(), _ = JSON.stringify(s) + "_page_" + i + "_limit_" + e, f = n.runtime.tmp.product_tag_info[o][_], y = function () { var t = null; return n.isObject(f) && n.isArray(f.products) && (t = { products: f.products, total_record: f.total_record }, n.isEmpty(n.runtime.tmp.product_info[l]) && (n.runtime.tmp.product_info[l] = {}), t.products.forEach(function (t) { n.runtime.tmp.product_info[l][t.product_id] = { store_info: f.store_info, product: t } })), t }, n.isNull(f)) { n.runtime.tmp.product_tag_info[o][_] = !0; var v = { product_tag_ids: s, limit: e }; n.isEmpty(u) ? v.type = "group" : v.paged = i; var E = function (t) { f = t.data, n.isObject(f) ? (n.runtime.tmp.product_tag_info[o][_] = f, g = y(), n.isFunction(r) && r(g)) : (n.runtime.tmp.product_tag_info[o][_] = !1, n.isEmpty(n.runtime.tmp.timeout_product_tag_info[o][_]) || (n.removeTimeout(n.runtime.tmp.timeout_product_tag_info[o][_]), delete n.runtime.tmp.timeout_product_tag_info[o][_])) }; if (n.runtime.isClient) n.runLimitRequest(20, function () { n.sendRequest("POST", n.const.API_COLLECTION_PRODUCT, JSON.stringify(v), !0, { "Content-Type": "application/json", "Store-Id": l }, function (t, e, i) { if (i.readyState == XMLHttpRequest.DONE) try { var a = JSON.parse(t); E(a) } catch (t) { n.runtime.tmp.product_tag_info[o][_] = !1, n.isEmpty(n.runtime.tmp.timeout_product_tag_info[o][_]) || (n.removeTimeout(n.runtime.tmp.timeout_product_tag_info[o][_]), delete n.runtime.tmp.timeout_product_tag_info[o][_]) } }) }); else { var L = function (t) { if (n.isArray(t) && t.length > 1) { var e = { products: [] }; t.forEach(function (t) { if (n.isNull(t.product) && !n.isNull(t.store_info) && !n.isNull(t.total_record)) return e.store_info = t.store_info, void (e.total_record = t.total_record); e.products.push(t.product) }), E({ data: e }) } }, P = LadiPage.mapping_attribute_option_product_id(t.element, "", s, e, i, !1, !0, function (t) { L(t) }); L(P) } return g } } else n.isEmpty(d) || (y = function () { var t = null; if (n.isArray(h)) { var a = n.copy(h); t = { products: a = a.splice((i - 1) * e, e), total_record: h.length }, n.isEmpty(n.runtime.tmp.product_info[l]) && (n.runtime.tmp.product_info[l] = {}), h.forEach(function (t) { n.runtime.tmp.product_info[l][t.id] = { store_info: {}, product: t } }) } return t }, h = n.loadDataset(d, d, c, p, m, !0, n.runtime.isClient, function (t) { h = t, g = y(), n.isFunction(r) && r(g) })); return n.isFunction(y) && (!0 === f ? n.runtime.tmp.timeout_product_tag_info[o][_] = n.runTimeout(function () { n.getListProductByTagId(t, e, i, !1, r) }, 100) : (g = y(), !a && n.isFunction(r) && r(g))), g }, LadiPageScriptV2.prototype.getCartProducts = function () { var t = null, e = this, i = window.ladi("_checkout_token").get_cookie(); return this.isArray(this.runtime.tmp.cart) && !this.isEmpty(i) && (t = [], this.runtime.tmp.cart.forEach(function (i) { if (!(i.quantity <= 0)) { var a = i.name; e.isEmpty(i.title) || a == i.title || (a += " - " + i.title); var r = [[i.product_variant_id, i.quantity, i.price, i.weight, i.weight_unit].join(":"), a]; e.isObject(i.promotion) && r.push([i.promotion.discount.discount_id, i.promotion.discount.note].join(":")), r = r.join("|"), t.push(r) } })), t }, LadiPageScriptV2.prototype.getCartCheckoutPrice = function (t) { var e = window.ladi("_checkout_token").get_cookie(); return this.isArray(this.runtime.tmp.cart) && !this.isEmpty(e) ? this.changeTotalPriceCart(!0).cart_checkout_price : t }, LadiPageScriptV2.prototype.showMessage = function (t, e, i) { if (this.isEmpty(t)) this.isFunction(i) && i(); else { var a = document.getElementsByClassName("ladipage-message")[0]; if (this.isEmpty(a)) { var r = this; t = r.convertDataReplaceStr(t, !1, null, !1, e), (a = document.createElement("div")).className = "ladipage-message", document.body.appendChild(a); var n = document.createElement("div"); n.className = "ladipage-message-box", a.appendChild(n); var o = document.createElement("h1"); n.appendChild(o), o.textContent = this.const.LANG.ALERT_TITLE; var l = document.createElement("div"); l.className = "ladipage-message-text", n.appendChild(l), l.innerHTML = t; var s = document.createElement("button"); s.className = "ladipage-message-close", n.appendChild(s), s.textContent = this.const.LANG.ALERT_BUTTON_TEXT, s.focus(), s.addEventListener("click", function (t) { t.stopPropagation(), a.parentElement.removeChild(a), r.isFunction(i) && i() }) } else this.isFunction(i) && i() } }, LadiPageScriptV2.prototype.findAncestor = function (t, e) { if (this.isNull(t) || this.isNull(t.classList) || !t.classList.contains(e)) for (; (t = t.parentElement) && !t.classList.contains(e);); return t }, LadiPageScriptV2.prototype.createStyleElement = function (t, e) { var i = document.getElementById(t); return this.isEmpty(i) && ((i = document.createElement("style")).id = t, i.type = "text/css", document.head.appendChild(i)), i.innerHTML != e && (i.innerHTML = e), i }, LadiPageScriptV2.prototype.createTmpElement = function (t, e, i, a, r) { var n = document.createElement(t); this.isEmpty(i) || Object.keys(i).forEach(function (t) { n.setAttribute(t, i[t]) }); var o = document.createElement("div"); return o.appendChild(n), a ? n.outerHTML = e : n.innerHTML = e, r ? o : o.firstChild }, LadiPageScriptV2.prototype.getCountdownTime = function (t, e) { var i = Math.floor(t / 1e3), a = i % 86400, r = a % 3600, n = Math.floor(i / 86400), o = Math.floor(a / 3600), l = Math.floor(r / 60), s = r % 60; n = n < 0 ? 0 : n, o = o < 0 ? 0 : o, l = l < 0 ? 0 : l, s = s < 0 ? 0 : s, n = n < 10 ? "0" + n : n, o = o < 10 ? "0" + o : o, l = l < 10 ? "0" + l : l, s = s < 10 ? "0" + s : s; var d = {}; return d[this.const.COUNTDOWN_ITEM_TYPE.day] = n, d[this.const.COUNTDOWN_ITEM_TYPE.hour] = o, d[this.const.COUNTDOWN_ITEM_TYPE.minute] = l, d[this.const.COUNTDOWN_ITEM_TYPE.seconds] = s, this.isEmpty(e) ? d : d[e] }, LadiPageScriptV2.prototype.getElementBoundingClientRect = function (t) { var e = t.getBoundingClientRect(); return (this.isNull(e.x) || this.isNull(e.y)) && (e.x = e.left, e.y = e.top), e }, LadiPageScriptV2.prototype.getElementViewBox = function (t) { var e = { x: 0, y: 0, width: 0, height: 0 }, i = t.getAttribute("viewBox").split(" "); return e.x = parseFloatLadiPage(i[0]) || 0, e.y = parseFloatLadiPage(i[1]) || 0, e.width = parseFloatLadiPage(i[2]) || 0, e.height = parseFloatLadiPage(i[3]) || 0, e }, LadiPageScriptV2.prototype.getEventCursorData = function (t) { return (this.isNull(t.pageX) || this.isNull(t.pageY)) && (!this.isEmpty(t.touches) && t.touches.length > 0 ? (t.pageX = t.touches[0].pageX, t.pageY = t.touches[0].pageY) : !this.isEmpty(t.targetTouches) && t.targetTouches.length > 0 ? (t.pageX = t.targetTouches[0].pageX, t.pageY = t.targetTouches[0].pageY) : !this.isEmpty(t.changedTouches) && t.changedTouches.length > 0 && (t.pageX = t.changedTouches[0].pageX, t.pageY = t.changedTouches[0].pageY)), t }, LadiPageScriptV2.prototype.getElementAHref = function (t, e) { var i = document.createElement("a"); return !e || t.toLowerCase().startsWith("http://") || t.toLowerCase().startsWith("https://") || (t = "http://" + t), i.href = t, i }, LadiPageScriptV2.prototype.loadScript = function (t, e, i, a) { var r = document.createElement("script"); (r.type = "text/javascript", this.isFunction(i) && (a = i, i = e, e = null), i && (r.async = !0), this.isObject(e)) && Object.keys(e).forEach(function (t) { r.setAttribute(t, e[t]) }); r.addEventListener("load", a), r.src = t, document.head.appendChild(r) }, LadiPageScriptV2.prototype.isObject = function (t) { return !this.isFunction(t) && !this.isArray(t) && t instanceof Object }, LadiPageScriptV2.prototype.isArray = function (t) { return t instanceof Array }, LadiPageScriptV2.prototype.isFunction = function (t) { return "function" == typeof t || t instanceof Function }, LadiPageScriptV2.prototype.isBoolean = function (t) { return "boolean" == typeof t }, LadiPageScriptV2.prototype.isString = function (t) { return "string" == typeof t || t instanceof String }, LadiPageScriptV2.prototype.isEmpty = function (t) { return !!this.isNull(t) || (this.isString(t) ? 0 == (t = t.trim()).length || "undefined" == t.toLowerCase() : !!this.isArray(t) && 0 == t.length) }, LadiPageScriptV2.prototype.isNull = function (t) { return void 0 === t || void 0 == t }, LadiPageScriptV2.prototype.fireEvent = function (t, e) { var i = null; return document.createEventObject ? (i = document.createEventObject(), t.fireEvent("on" + e, i)) : ((i = document.createEvent("HTMLEvents")).initEvent(e, !0, !0), !t.dispatchEvent(i)) }; var Base64 = { _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", encode: function (t) { var e, i, a, r, n, o, l, s = "", d = 0; for (t = Base64._utf8_encode(t); d < t.length;)r = (e = t.charCodeAt(d++)) >> 2, n = (3 & e) << 4 | (i = t.charCodeAt(d++)) >> 4, o = (15 & i) << 2 | (a = t.charCodeAt(d++)) >> 6, l = 63 & a, isNaN(i) ? o = l = 64 : isNaN(a) && (l = 64), s = s + Base64._keyStr.charAt(r) + Base64._keyStr.charAt(n) + Base64._keyStr.charAt(o) + Base64._keyStr.charAt(l); return s }, decode: function (t) { var e, i, a, r, n, o, l = "", s = 0; for (t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""); s < t.length;)e = Base64._keyStr.indexOf(t.charAt(s++)) << 2 | (r = Base64._keyStr.indexOf(t.charAt(s++))) >> 4, i = (15 & r) << 4 | (n = Base64._keyStr.indexOf(t.charAt(s++))) >> 2, a = (3 & n) << 6 | (o = Base64._keyStr.indexOf(t.charAt(s++))), l += String.fromCharCode(e), 64 != n && (l += String.fromCharCode(i)), 64 != o && (l += String.fromCharCode(a)); return l = Base64._utf8_decode(l) }, _utf8_encode: function (t) { t = t.replace(/\r\n/g, "\n"); for (var e = "", i = 0; i < t.length; i++) { var a = t.charCodeAt(i); a < 128 ? e += String.fromCharCode(a) : a > 127 && a < 2048 ? (e += String.fromCharCode(a >> 6 | 192), e += String.fromCharCode(63 & a | 128)) : (e += String.fromCharCode(a >> 12 | 224), e += String.fromCharCode(a >> 6 & 63 | 128), e += String.fromCharCode(63 & a | 128)) } return e }, _utf8_decode: function (t) { for (var e = "", i = 0, a = 0, r = 0, n = 0; i < t.length;)(a = t.charCodeAt(i)) < 128 ? (e += String.fromCharCode(a), i++) : a > 191 && a < 224 ? (n = t.charCodeAt(i + 1), e += String.fromCharCode((31 & a) << 6 | 63 & n), i += 2) : (n = t.charCodeAt(i + 1), r = t.charCodeAt(i + 2), e += String.fromCharCode((15 & a) << 12 | (63 & n) << 6 | 63 & r), i += 3); return e } }, LadiPageScript = LadiPageScript || new LadiPageScriptV2; LadiPageScript.init(); var LadiFormApi = LadiFormApi || {}, parseFloatLadiPage = function (t, e) { var i = parseFloat(t); return parseFloat(LadiPageScript.formatNumber(i, 21, null, e || 6)) }, decodeURIComponentLadiPage = function (t) { try { return decodeURIComponent(t) } catch (e) { return t } }, lightbox_run = function (t, e, i, a, r, n, o, l) { var s = document.getElementById(LadiPageScript.runtime.lightbox_screen_id); if (!LadiPageScript.isEmpty(s)) { var d = JSON.stringify({ html: t, url: e, is_video: i, video_type: n, video_value: o }), c = Object.keys(LadiPageScript.runtime.list_lightbox_id); -1 == c.indexOf(d) && (LadiPageScript.runtime.list_lightbox_id[d] = c.length + 1); var u = LadiPageScript.runtime.list_lightbox_id[d]; r = r + "_" + u; var p = document.getElementById(r), m = !1; LadiPageScript.isEmpty(p) ? (p = document.createElement("div"), s.appendChild(p), p.outerHTML = t, p = s.lastChild, m = !0) : i && LadiPageScript.runEventReplayVideo(r, n, !0); var g = document.createElement("div"); g.className = "lightbox-close", g.setAttribute("data-hidden", !0), s.appendChild(g), p.setAttribute("id", r), p.setAttribute("data-hidden", !0), p.classList.remove("lightbox-hidden"); var y = function () { if (p = p = document.getElementById(r), !LadiPageScript.isEmpty(p)) { if ("IFRAME" == p.tagName) { var t = parseFloatLadiPage(getComputedStyle(p).width) || 0, e = parseFloatLadiPage(getComputedStyle(p).height) || 0; if (t > 0 || e > 0) { var i = .9 * document.body.clientWidth, a = .9 * LadiPageScript.getHeightDevice(), n = i, o = e / t * n; o > a && (n = (o = a) * (t / e)), p.style.setProperty("width", (parseFloatLadiPage(n) || 0) + "px"), p.style.setProperty("height", (parseFloatLadiPage(o) || 0) + "px") } } if (g = s.getElementsByClassName("lightbox-close")[0], !LadiPageScript.isEmpty(g)) { var l = LadiPageScript.getElementBoundingClientRect(p), d = 10, c = 10; l.x - 5 - g.clientWidth > c && (c = l.x - 5 - g.clientWidth), l.y - 5 - g.clientHeight > d && (d = l.y - 5 - g.clientHeight), c += LadiPageScript.runtime.widthScrollBar, g.style.setProperty("right", c + "px"), g.style.setProperty("top", d + "px") } } }, _ = function () { LadiPageScript.runTimeout(function () { p = p = document.getElementById(r), LadiPageScript.isEmpty(p) || (p.setAttribute("data-opacity", 0), p.removeAttribute("data-hidden")), g = s.getElementsByClassName("lightbox-close")[0], LadiPageScript.isEmpty(g) || (g.setAttribute("data-opacity", 0), g.removeAttribute("data-hidden")), y(), LadiPageScript.isEmpty(p) || p.removeAttribute("data-opacity"), LadiPageScript.isEmpty(g) || g.removeAttribute("data-opacity") }, 100) }; g.style.setProperty("top", "-100px"), g.style.setProperty("right", "-100px"); var f = "load"; if (i && n == LadiPageScript.const.VIDEO_TYPE.direct && (f = "loadedmetadata"), m && (p.addEventListener(f, _), p.addEventListener("error", _)), i) { var h = e; n == LadiPageScript.const.VIDEO_TYPE.youtube && (e = null, h = o), m ? LadiPageScript.runEventPlayVideo(r, n, h, !1, !1, !0, !1, l, function (t) { LadiPageScript.isEmpty(t) ? _() : (t.addEventListener(f, _), t.addEventListener("error", _)) }) : _() } l || s.style.setProperty("display", "block"), LadiPageScript.isEmpty(e) || (m ? p.src = e : _()); var v = function () { var t = document.getElementById(LadiPageScript.runtime.backdrop_popup_id); return LadiPageScript.isEmpty(t) || "none" == getComputedStyle(t).display }, E = 0; v() ? (E = window.scrollY, LadiPageScript.runtime.tmp.bodyScrollY = E) : E = LadiPageScript.runtime.tmp.bodyScrollY; var L = function () { s.style.removeProperty("display"), p = p = document.getElementById(r), LadiPageScript.isEmpty(p) || (a && !i ? p.parentElement.removeChild(p) : (p.classList.add("lightbox-hidden"), i && LadiPageScript.runEventReplayVideo(r, n, !1))), g = s.getElementsByClassName("lightbox-close")[0], LadiPageScript.isEmpty(g) || g.parentElement.removeChild(g); var t = document.getElementById("style_lightbox"); LadiPageScript.isEmpty(t) || t.parentElement.removeChild(t); var e = v(); e && !LadiPageScript.isEmpty(LadiPageScript.runtime.tmp.bodyScrollY) && window.scrollTo(0, LadiPageScript.runtime.tmp.bodyScrollY), e && (LadiPageScript.runtime.tmp.bodyScrollY = null) }; if (g.addEventListener("click", function (t) { t.stopPropagation(), L() }), !l) { var P = "body {"; P += "position: fixed !important;", P += "width: 100% !important;", P += "top: -" + E + "px", P += "}", LadiPageScript.createStyleElement("style_lightbox", P) } LadiPageScript.isEmpty(s.getAttribute("data-load-event")) && (s.setAttribute("data-load-event", !0), s.addEventListener("click", function (t) { t.stopPropagation(), t.target.id == s.id && (g = s.getElementsByClassName("lightbox-close")[0], LadiPageScript.isEmpty(g) || g.click()) }), window.addEventListener("resize", y)), l && L() } }, lightbox_iframe = function (t, e, i, a, r, n) { if (!LadiPageScript.isEmpty(t)) { var o = "margin: auto; position: absolute; top: 0; left: 0; bottom: 0; right: 0; max-width: 90%; max-height: 90%;", l = '<iframe id="' + (i = i || "lightbox_iframe") + '" class="lightbox-item" style="' + o + '" frameborder="0" allowfullscreen></iframe>', s = t, d = LadiPageScript.createTmpElement("iframe", s, null, !0); LadiPageScript.isEmpty(d) || "IFRAME" != d.tagName || (s = d.src, i = d.id || i, d.removeAttribute("src"), d.setAttribute("style", o), d.classList.add("lightbox-item"), l = d.outerHTML), lightbox_run(l, s, e, !0, i, a, r, n) } }, lightbox_image = function (t) { if (!LadiPageScript.isEmpty(t)) { lightbox_run('<img class="lightbox-item" style="margin: auto; position: absolute; top: 0; left: 0; bottom: 0; right: 0; object-fit: scale-down; max-width: 90%; max-height: 90%;" />', t, !1, !1, "lightbox_image") } }, lightbox_video = function (t, e, i) { if (!LadiPageScript.isEmpty(t) && !LadiPageScript.isEmpty(e)) { LadiPageScript.pauseAllVideo(); var a = "lightbox_player"; if (e == LadiPageScript.const.VIDEO_TYPE.youtube && lightbox_iframe('<iframe id="' + a + '" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>', !0, a, e, t, i), e == LadiPageScript.const.VIDEO_TYPE.direct) { lightbox_run('<video class="lightbox-item" id="lightbox_player" style="margin: auto; position: absolute; top: 0; left: 0; bottom: 0; right: 0; max-width: 90%; max-height: 90%; object-fit: cover;"></video>', t, !0, !1, a, e, null, i) } } }, LadiPageLibraryV2 = LadiPageLibraryV2 || function () { }; LadiPageLibraryV2.prototype.get_url = function (t, e, i) { if (!LadiPageScript.isEmpty(this.id)) { var a = this.id, r = ""; if (e && LadiPageScript.isObject(t)) Object.keys(t).forEach(function (e) { LadiPageScript.isEmpty(r) || (r += "&"); var a = t[e]; i && -1 != ["email", "phone"].indexOf(e) && (a = Base64.encode(a)), a = encodeURIComponent(a), r += e + "=" + a }); if (!LadiPageScript.isEmpty(r)) { var n = LadiPageScript.createTmpElement("a", "", { href: a }); n.search = n.search + (LadiPageScript.isEmpty(n.search) ? "?" : "&") + r, a = n.href } return a = LadiPageScript.getLinkUTMRedirect(a, null), a = LadiPageScript.convertDataReplaceStr(a, !0, null, !1, t) } }, LadiPageLibraryV2.prototype.open_url = function (t) { if (!LadiPageScript.isEmpty(this.id)) { var e = this.id; LadiPageScript.isEmpty(t) || "_self" == t.toLowerCase() ? window.location.href = e : window.open(e, t) } }, LadiPageLibraryV2.prototype.delete_cookie = function () { LadiPageScript.isEmpty(this.id) || (document.cookie = this.id + "=; expires = Thu, 01 Jan 1970 00:00:00 GMT; path = /", "/" != window.location.pathname && (document.cookie = this.id + "=; expires = Thu, 01 Jan 1970 00:00:00 GMT; path = " + window.location.pathname)) }, LadiPageLibraryV2.prototype.get_cookie = function () { if (!LadiPageScript.isEmpty(this.id)) { for (var t = this.id + "=", e = document.cookie.split(";"), i = "", a = 0; a < e.length; a++) { for (var r = e[a]; " " == r.charAt(0);)r = r.substring(1); if (0 == r.indexOf(t)) { i = r.substring(t.length, r.length); break } } return decodeURIComponentLadiPage(i) } }, LadiPageLibraryV2.prototype.set_cookie = function (t, e, i, a, r) { if (!LadiPageScript.isEmpty(this.id)) { var n = ""; if (r) n = "0"; else { var o = new Date; e = LadiPageScript.isEmpty(e) ? 365 : e, o.setTime(o.getTime() + 24 * e * 60 * 60 * 1e3), n = "expires = " + o.toUTCString() } var l = this.id + " = " + t; LadiPageScript.isEmpty(n) || (l += "; " + n), LadiPageScript.isEmpty(a) || (l += "; domain = " + a), LadiPageScript.isEmpty(i) || LadiPageScript.runtime.isIE || (l += "; path = " + i), document.cookie = l } }, LadiPageLibraryV2.prototype.submit = function () { var t = this.doc || document.getElementById(this.id); if (!LadiPageScript.isEmpty(t)) { var e = t.querySelector('.ladi-form button[type="submit"]'); LadiPageScript.isEmpty(e) || e.click() } }, LadiPageLibraryV2.prototype.scroll = function () { var t = this.doc || document.getElementById(this.id); if (!LadiPageScript.isEmpty(t)) { for (var e = document.querySelectorAll("#" + LadiPageScript.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"), i = 0; i < e.length; i++)if (e[i].id != this.id && e[i].hasAttribute("data-popup-backdrop") && "block" == e[i].style.getPropertyValue("display")) { var a = LadiPageScript.findAncestor(t, "ladi-popup"); LadiPageScript.isEmpty(a) || (a = LadiPageScript.findAncestor(a, "ladi-element")), (LadiPageScript.isEmpty(a) || a.id != e[i].id) && LadiPageScript.runRemovePopup(e[i].id, !0) } var r, n = LadiPageScript.isObject(LadiPageScript.runtime.story_page), o = function (t, e, i) { LadiPageScript.removeTimeout(LadiPageScript.runtime.tmp.scroll_timeout_id); var a = function (t, e, i, a) { return (t /= a / 2) < 1 ? i / 2 * t * t + e : -i / 2 * (--t * (t - 2) - 1) + e }, r = 0; r = n ? "left" == t ? e.scrollLeft : e.scrollTop : "left" == t ? e.scrollX : e.scrollY; var o = "left" == t ? window.innerWidth : window.innerHeight, l = i - r; if (0 != l) { var s = l < 0 ? -1 * l : l, d = 0, c = 1e3; c = s <= 4 * o ? 750 : c, c = s <= 2 * o ? 525 : c, c = s <= o ? 300 : c, c = n ? 300 : c; var u = "left" == t ? "scrollLeft" : "scrollTop", p = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame, m = null, g = null, y = function (i) { n ? e[u] = i : "left" == t ? e.scrollTo(i, e.scrollY) : e.scrollTo(e.scrollX, i) }; if (p) { var _ = Date.now() + c; p(m = function () { d = c - (_ - Date.now()), g = a(d, r, l, c), y(g), d < c ? p(m) : y(i) }) } else (m = function () { g = a(d += 20, r, l, c), y(g), d < c ? LadiPageScript.runtime.tmp.scroll_timeout_id = LadiPageScript.runTimeout(m, 20) : y(i) })() } }, l = function (e) { var i = LadiPageScript.getElementBoundingClientRect(t).top + (n ? e.scrollTop : e.scrollY), a = 0, r = 0, o = Object.keys(LadiPageScript.runtime.eventData), l = LadiPageScript.runtime.isDesktop ? LadiPageScript.const.DESKTOP : LadiPageScript.const.MOBILE; return o.forEach(function (e) { var i = LadiPageScript.runtime.eventData[e]; if ("section" == i.type && i[l + ".option.sticky"] && i[l + ".option.sticky_position"] == LadiPageScript.const.POSITION_TYPE.top) { var n = document.getElementById(e); LadiPageScript.isEmpty(n) || t.id != e && (r = parseFloatLadiPage(i[l + ".option.sticky_position_top"]) || 0, a = (parseFloatLadiPage(getComputedStyle(n).height) || 0) + r, "fixed" != getComputedStyle(n).position && (a *= 2)) } }), { scrollTop: i -= a, stickyHeight: a, positionTop: r } }, s = null, d = null; n ? LadiPageScript.runtime.isDesktop ? t.scrollIntoView({ behavior: "smooth" }) : (d = document.getElementsByClassName("ladi-wraper")[0], LadiPageScript.runtime.story_page.type == LadiPageScript.const.STORY_PAGE.horizontal && (r = d, o("left", d, { scrollLeft: LadiPageScript.getElementBoundingClientRect(t).left + (n ? r.scrollLeft : r.scrollX) }.scrollLeft)), LadiPageScript.runtime.story_page.type == LadiPageScript.const.STORY_PAGE.vertical && o("top", d, (s = l(d)).scrollTop)) : (s = l(d = window), LadiPageScript.runtime.isDesktop ? window.scrollTo({ top: s.scrollTop, behavior: "smooth" }) : o("top", d, s.scrollTop)) } }, LadiPageLibraryV2.prototype.value = function (t) { if (!LadiPageScript.isEmpty(this.id)) { var e = [], i = !1, a = document.querySelectorAll("#" + this.id + " > ." + ["ladi-button .ladi-headline", "ladi-headline", "ladi-paragraph", "ladi-list-paragraph"].join(", #" + this.id + " > .")), r = document.querySelectorAll("#" + this.id + " > ." + ["ladi-form-item-container .ladi-form-item > input", "ladi-form-item-container .ladi-form-item > textarea", "ladi-form-item-container .ladi-form-item > select"].join(", #" + this.id + " > .")), n = document.querySelectorAll("#" + this.id + " > ." + ["ladi-form-item-container .ladi-form-checkbox-item > input"].join(", #" + this.id + " > .")), o = 0; for (o = 0; o < a.length; o++)LadiPageScript.isNull(t) ? e.push(a[o].innerHTML) : a[o].innerHTML = t; for (o = 0; o < r.length; o++)LadiPageScript.isNull(t) ? e.push(r[o].value) : r[o].value = t; var l = LadiPageScript.isArray(t) ? t : [t]; for (o = 0; o < n.length; o++)if (LadiPageScript.isNull(t)) n[o].checked && e.push(n[o].value), "checkbox" == n[o].getAttribute("type").toLowerCase() && (i = !0); else { var s = !1; "checkbox" == n[o].getAttribute("type").toLowerCase() && -1 != l.indexOf(n[o].value) && (s = !0), "radio" == n[o].getAttribute("type").toLowerCase() && l.length > 0 && l[0] == n[o].value && (s = !0), s ? n[o].checked || n[o].click() : n[o].checked && n[o].click() } return i ? e : e.length > 0 ? e[0] : null } }, LadiPageLibraryV2.prototype.top = function () { var t = this.doc || document.getElementById(this.id); if (!LadiPageScript.isEmpty(t) && t.classList.contains("ladi-section")) try { t.parentElement.insertBefore(t, t.parentElement.firstChild), LadiPageScript.reloadLazyload(!1) } catch (t) { } }, LadiPageLibraryV2.prototype.pause = function () { var t = this.doc || document.getElementById(this.id); if (!LadiPageScript.isEmpty(t)) { var e = LadiPageScript.runtime.eventData[this.id]; if (!LadiPageScript.isEmpty(e) && "video" == e.type) { var i = t.querySelector(".iframe-video-preload:not(.no-pause)"); LadiPageScript.isEmpty(i) || LadiPageScript.runEventReplayVideo(i.id, i.getAttribute("data-video-type"), !1) } } }, LadiPageLibraryV2.prototype.play = function () { var t = this.doc || document.getElementById(this.id); if (!LadiPageScript.isEmpty(t)) { var e = LadiPageScript.runtime.eventData[this.id]; if (!LadiPageScript.isEmpty(e) && "video" == e.type) { var i = e["option.video_type"], a = e["option.video_value"], r = e["option.video_control"]; LadiPageScript.playVideo(this.id, i, a, r) } } }, LadiPageLibraryV2.prototype.prev = function () { var t = this.doc || document.getElementById(this.id); if (!LadiPageScript.isEmpty(t)) { var e = LadiPageScript.runtime.eventData[this.id]; if (!LadiPageScript.isEmpty(e)) { var i = null; "gallery" == e.type && (i = t.querySelector(".ladi-gallery-view-arrow.ladi-gallery-view-arrow-left")), "carousel" == e.type && (i = t.querySelector(".ladi-carousel-arrow.ladi-carousel-arrow-left")), "collection" == e.type && (i = t.querySelector(".ladi-collection-arrow.ladi-collection-arrow-left")), LadiPageScript.isEmpty(i) || i.click() } } }, LadiPageLibraryV2.prototype.next = function () { var t = this.doc || document.getElementById(this.id); if (!LadiPageScript.isEmpty(t)) { var e = LadiPageScript.runtime.eventData[this.id]; if (!LadiPageScript.isEmpty(e)) { var i = null; "gallery" == e.type && (i = t.querySelector(".ladi-gallery-view-arrow.ladi-gallery-view-arrow-right")), "carousel" == e.type && (i = t.querySelector(".ladi-carousel-arrow.ladi-carousel-arrow-right")), "collection" == e.type && (i = t.querySelector(".ladi-collection-arrow.ladi-collection-arrow-right, .ladi-collection-button-next")), LadiPageScript.isEmpty(i) || i.click() } } }, LadiPageLibraryV2.prototype.index = function (t) { var e = this.doc || document.getElementById(this.id); if (!LadiPageScript.isEmpty(e)) { var i = LadiPageScript.runtime.eventData[this.id]; if (!LadiPageScript.isEmpty(i)) { var a = 0; return "gallery" != i.type && "carousel" != i.type || (a = parseFloatLadiPage(e.getAttribute("data-current")) || 0, a += 1), "collection" == i.type && (a = parseFloatLadiPage(e.getAttribute("data-page")) || 1), LadiPageScript.isEmpty(t) ? a : ("gallery" != i.type && "carousel" != i.type || (t -= 1, a -= 1), t == a ? ("carousel" == i.type && e.setAttribute("data-stop", !0), void ("gallery" == i.type && e.hasAttribute("data-loaded") && e.setAttribute("data-stop", !0))) : void (t > a ? ("gallery" != i.type && "carousel" != i.type || e.setAttribute("data-current", t - 1), "collection" == i.type && e.setAttribute("data-page", t - 1), this.next()) : ("gallery" != i.type && "carousel" != i.type || e.setAttribute("data-current", t + 1), "collection" == i.type && e.setAttribute("data-page", t + 1), this.prev()))) } } }, LadiPageLibraryV2.prototype.readmore = function () { var t = this.doc || document.getElementById(this.id); if (!LadiPageScript.isEmpty(t)) { var e = t.getElementsByClassName("ladi-section-arrow-down")[0]; LadiPageScript.isEmpty(e) || e.click() } }, LadiPageLibraryV2.prototype.collapse = function (t) { var e = this.doc || document.getElementById(this.id); if (!LadiPageScript.isEmpty(e)) { var i = 0, a = 0, r = !1; if ("none" == getComputedStyle(e).display ? (LadiPageScript.isNull(t) || t) && (this.show(), a = parseFloatLadiPage(getComputedStyle(e).height) || 0, r = !0) : !LadiPageScript.isNull(t) && t || (i = parseFloatLadiPage(getComputedStyle(e).height) || 0, this.hide(), r = !0), r) { var n = LadiPageScript.findAncestor(e.parentElement, "ladi-element"); LadiPageScript.isEmpty(n) && (n = LadiPageScript.findAncestor(e.parentElement, "ladi-section")), LadiPageScript.runtime.list_collapse[this.id] = LadiPageScript.updateHeightElement(!0, e, n, i, a, LadiPageScript.runtime.list_collapse[this.id]) } } }, LadiPageLibraryV2.prototype.hide = function () { var t = this.doc || document.getElementById(this.id); LadiPageScript.isEmpty(t) || (0 == t.getElementsByClassName("ladi-popup").length ? (t.style.setProperty("display", "none", "important"), LadiPageScript.reloadLazyload(!1)) : LadiPageScript.runRemovePopup(this.id, !0, function () { for (var t = document.querySelectorAll("#" + LadiPageScript.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"), e = 0; e < t.length; e++)t[e].id != this.id && t[e].hasAttribute("data-popup-backdrop") && "block" == t[e].style.getPropertyValue("display") && LadiPageScript.runRemovePopup(t[e].id, !0) })) }, LadiPageLibraryV2.prototype.show = function () { var t = this.doc || document.getElementById(this.id); if (!LadiPageScript.isEmpty(t)) { var e = this, i = function () { if (LadiPageScript.isObject(LadiPageScript.runtime.eventData)) { var i = LadiPageScript.runtime.eventData[e.id]; LadiPageScript.isEmpty(i) || LadiPageScript.startAutoScroll(e.id, i.type, i[LadiPageScript.const.DESKTOP + ".option.auto_scroll"], i[LadiPageScript.const.MOBILE + ".option.auto_scroll"]); for (var a = t.getElementsByClassName("ladi-element"), r = 0; r < a.length; r++) { var n = LadiPageScript.runtime.eventData[a[r].id]; LadiPageScript.isEmpty(n) || LadiPageScript.startAutoScroll(a[r].id, n.type, n[LadiPageScript.const.DESKTOP + ".option.auto_scroll"], n[LadiPageScript.const.MOBILE + ".option.auto_scroll"]) } } }; 0 == t.getElementsByClassName("ladi-popup").length ? (t.style.setProperty("display", "block", "important"), i(), LadiPageScript.runResizeSectionBackground(), LadiPageScript.reloadLazyload(!1)) : (LadiPageScript.runShowPopup(!1, this.id, null, null, !0, function () { for (var t = document.querySelectorAll("#" + LadiPageScript.runtime.builder_section_popup_id + " .ladi-container > .ladi-element"), e = 0; e < t.length; e++)t[e].id != this.id && t[e].hasAttribute("data-popup-backdrop") && "block" == t[e].style.getPropertyValue("display") && LadiPageScript.runRemovePopup(t[e].id, !0) }), LadiPageScript.removeLazyloadPopup(this.id), i(), LadiPageScript.runResizeSectionBackground()) } }, LadiPageLibraryV2.prototype.element = function () { return this.doc || document.getElementById(this.id) }, ["start", "add_turn"].forEach(function (t) { LadiPageLibraryV2.prototype[t] = function () { var e = LadiPageScript.runtime.eventData[this.id]; if (!LadiPageScript.isEmpty(e)) { var i = LadiPageApp[e.type + LadiPageScript.const.APP_RUNTIME_PREFIX]; if (!LadiPageScript.isEmpty(i)) { var a = i(e, !0); LadiPageScript.isFunction(a[t]) && a[t](this.id) } } } }); var LadiPageAppV2, ladi = ladi || function (t, e) { if (!LadiPageScript.isEmpty(t)) { var i = new LadiPageLibraryV2; return i.id = t, i.doc = e, i } }; LadiPageScript.const.API_ANALYTICS_EVENT = "https://a.ladipage.com/event", LadiPageScript.const.API_COLLECTION_PRODUCT = "https://api.ladisales.com/2.0/public/collections/products", LadiPageScript.const.API_SHOW_PRODUCT = "https://api.ladisales.com/2.0/public/product/show", LadiPageScript.const.API_LADISALE_ADD = "https://api.ladisales.com/2.0/cart/add", LadiPageScript.const.API_LADISALE_UPDATE = "https://api.ladisales.com/2.0/cart/update", LadiPageScript.const.API_LADISALE_SHOW = "https://api.ladisales.com/2.0/cart/show", LadiPageScript.const.API_LADISALE_GET_SHIPPING = "https://api.ladisales.com/2.0/checkout/{0}/get-shipping", LadiPageScript.const.API_LADISALE_VALIDATE_DISCOUNT = "https://api.ladisales.com/2.0/checkout/{0}/validate-discount", LadiPageScript.const.API_LADISALE_PROMOTION = "https://api.checkout.ladisales.com/1.0/checkout/get-promotion", LadiPageScript.const.API_FORM_DATA = "https://api.form.ladipage.com/sendform", LadiPageScript.const.API_FILE_UPLOAD = "https://api.files.ladicdn.com/2.0/ladipage-upload-file", LadiPageScript.const.API_DATASET_DATA = "https://g.ladicdn.com/dataset/{0}.json?id={1}", LadiPageScript.const.CDN_LIBRARY_JS_URL = "https://w.ladicdn.com/v2/source/", LadiPageScript.const.CDN_LIBRARY_CSS_URL = "https://w.ladicdn.com/v2/source/", (LadiPageAppV2 = LadiPageAppV2 || function () { }).prototype.notify_runtime = function (t, e) { var i = function () { }, a = "top_left", r = "top_center", n = "top_right", o = "bottom_left", l = "bottom_center", s = "bottom_right"; return i.prototype.run = function (e, i) { LadiPageScript.isObject(LadiPageScript.runtime.tmp.timeout_notify) || (LadiPageScript.runtime.tmp.timeout_notify = {}); var d = t["option.sheet_id"], c = t.dataset_value, u = document.getElementById(e); if (u.classList.add("ladi-hidden"), !LadiPageScript.isEmpty(d) || !LadiPageScript.isEmpty(c)) { var p = i ? LadiPageScript.const.DESKTOP : LadiPageScript.const.MOBILE, m = t[p + ".option.position"], g = 1e3 * (parseFloatLadiPage(t["option.time_show"]) || 5), y = 1e3 * (parseFloatLadiPage(t["option.time_delay"]) || 10); y = y < 501 ? 501 : y; var _ = "https://static.ladipage.net/source/notify.svg", f = [{ key: "gsx$title", className: ".ladi-notify-title" }, { key: "gsx$content", className: ".ladi-notify-content" }, { key: "gsx$time", className: ".ladi-notify-time" }, { key: "gsx$image", className: ".ladi-notify-image img" }]; u.classList.remove("ladi-hidden"); var h = function () { u.style.setProperty("opacity", 0), m != a && m != r && m != n || u.style.setProperty("top", -u.clientHeight - 100 + "px"), m != o && m != l && m != s || u.style.setProperty("bottom", -u.clientHeight - 100 + "px") }; h(), f.forEach(function (t) { "gsx$image" == t.key ? u.querySelectorAll(t.className)[0].src = _ : u.querySelectorAll(t.className)[0].textContent = "" }); var v = function (t) { t = t.sort(function () { return .5 - Math.random() }); var i = -1, d = function () { if (i + 1 < t.length) { var c = t[++i], p = Object.keys(c); u.style.removeProperty("opacity"), m != a && m != r && m != n || u.style.removeProperty("top"), m != o && m != l && m != s || u.style.removeProperty("bottom"), f.forEach(function (t) { -1 != p.indexOf(t.key) && ("gsx$image" == t.key ? u.querySelectorAll(t.className)[0].src = LadiPageScript.isEmpty(c[t.key].$t) ? _ : c[t.key].$t : u.querySelectorAll(t.className)[0].textContent = c[t.key].$t) }); var E = function () { var a = f.findIndex(function (t) { return "gsx$image" == t.key }); if (-1 != a) { var r = t[i + 1 >= t.length ? 0 : i + 1]; r.hasOwnProperty(f[a].key) && (u.querySelectorAll(f[a].className)[0].src = LadiPageScript.isEmpty(r[f[a].key].$t) ? _ : r[f[a].key].$t) } LadiPageScript.runtime.tmp.timeout_notify[e] = LadiPageScript.runTimeout(d, y - 500) }; LadiPageScript.runtime.tmp.timeout_notify[e] = LadiPageScript.runTimeout(function () { h(), LadiPageScript.runtime.tmp.timeout_notify[e] = LadiPageScript.runTimeout(E, 500) }, g) } else v(t) }; LadiPageScript.runtime.tmp.timeout_notify[e] = LadiPageScript.runTimeout(d, y) }, E = function (t) { u.querySelector(".ladi-notify").classList.remove("ladi-hidden"), u.classList.add("ladi-notify-transition"), v(t) }; LadiPageScript.isEmpty(c) || E(c), LadiPageScript.isEmpty(d) || LadiPageScript.sendRequest("GET", "https://spreadsheets.google.com/feeds/list/" + d + "/1/public/values?alt=json", null, !0, null, function (t, e, i) { if (i.readyState == XMLHttpRequest.DONE && 200 == e) { var a = JSON.parse(t).feed.entry; E(a) } }) } }, new i }, (LadiPageAppV2 = LadiPageAppV2 || function () { }).prototype.spinlucky_runtime = function (t, e) { var i = function () { }, a = function (t) { return parseFloatLadiPage(window.ladi("_total_turn_" + t).get_cookie()) || 0 }; return i.prototype.getEventTrackingCategory = function () { return "LadiPageFinish" }, i.prototype.run = function (e, i) { var r = t["option.spinlucky_setting.list_value"], n = t.dataset_value, o = t["option.spinlucky_setting.result_popup_id"], l = t["option.spinlucky_setting.result_message"], s = t["option.spinlucky_setting.max_turn"], d = a(e); if (!LadiPageScript.isEmpty(r) || !LadiPageScript.isEmpty(n)) { r = r || n, LadiPageScript.setDataReplaceStr("spin_turn_left", s - d); var c = document.getElementById(e), u = c.getElementsByClassName("ladi-spin-lucky-start")[0], p = c.getElementsByClassName("ladi-spin-lucky-screen")[0], m = ""; r.forEach(function (t, e) { var i = Base64.decode(t).split("|"); if (3 == i.length) { var a = 360 / r.length * e + 180 / r.length, n = "rotate(" + (a *= -1) + "deg) translateY(-50%)"; m += '<div class="ladi-spin-lucky-label" style="transform: ' + n + "; -webkit-transform: " + n + ';">' + i[1].trim() + "</div>" } }), p.innerHTML = m; var g = !1; u.addEventListener("click", function (t) { if (t.stopPropagation(), !g) if ((d = a(e)) >= s) LadiPageScript.showMessage(LadiPageScript.const.LANG.GAME_MAX_TURN_MESSAGE.format(s)); else { g = !0; var i = [], n = 0, c = 1; r.forEach(function (t, e) { var a = Base64.decode(t).split("|"), r = a[0].trim(), o = a[1].trim(), l = parseFloatLadiPage(a[2].trim()) || 0; i.push({ min: c, max: c + l - 1, value: r, text: o, percent: l, index: e }), c += l, n += l }); for (var u = LadiPageScript.randomInt(1, n), m = null, y = 0; y < i.length; y++)if (i[y].min <= u && i[y].max >= u) { m = i[y]; break } if (LadiPageScript.isEmpty(m)) g = !1; else { var _ = parseFloatLadiPage(p.getAttribute("data-rotate")) || 0, f = m.index * (360 / i.length) + 360 * (4 + Math.ceil(_ / 360)) + 180 / i.length, h = "rotate(" + f + "deg)"; p.setAttribute("data-rotate", f), p.style.setProperty("transform", h), p.style.setProperty("-webkit-transform", h), "NEXT_TURN" != m.value.toUpperCase() && (d++, window.ladi("_total_turn_" + e).set_cookie(d, 1, window.location.pathname)); LadiPageScript.runTimeout(function () { "NEXT_TURN" == m.value.toUpperCase() ? LadiPageScript.isEmpty(m.text) || LadiPageScript.showMessage(m.text) : (LadiPageScript.setDataReplaceStr("coupon", m.value), LadiPageScript.setDataReplaceStr("coupon_code", m.value), LadiPageScript.setDataReplaceStr("coupon_text", m.text), LadiPageScript.setDataReplaceStr("spin_turn_left", s - d), LadiPageScript.setDataReplaceElement(!0, !1, null, null, ["coupon", "coupon_code", "coupon_text", "spin_turn_left"]), o == LadiPageScript.const.GAME_RESULT_TYPE.default ? LadiPageScript.isEmpty(l) || LadiPageScript.showMessage(l) : window.ladi(o).show(), LadiPageScript.runEventTracking(e, !1)), g = !1 }, 1e3 * parseFloatLadiPage(getComputedStyle(p).transitionDuration) + 1e3) } } }) } }, i.prototype.start = function (t) { var e = document.getElementById(t); if (!LadiPageScript.isEmpty(e) && e.getElementsByClassName("ladi-spin-lucky").length > 0) { var i = e.getElementsByClassName("ladi-spin-lucky-start")[0]; LadiPageScript.isEmpty(i) || i.click() } }, i.prototype.add_turn = function (e) { var i = t["option.spinlucky_setting.max_turn"], r = a(e); r > 0 && r--, window.ladi("_total_turn_" + e).set_cookie(r, 1, window.location.pathname), LadiPageScript.setDataReplaceStr("spin_turn_left", i - r), LadiPageScript.setDataReplaceElement(!1) }, new i };
LadiPageScript.runtime.lang = "vi", LadiPageScript.const.LANG = { ALERT_TITLE: "Alert", ALERT_BUTTON_TEXT: "OK", GAME_RESULT_MESSAGE: "Chúc mừng bạn nhận được {{coupon_text}}. Nhập mã: {{coupon_code}} để sử dụng. Bạn còn {{spin_turn_left}} lượt quay.", GAME_MAX_TURN_MESSAGE: "Bạn đã hết lượt quay.", FORM_SEND_DATA_ERROR: "Đã xảy ra lỗi, vui lòng thử lại!", FORM_SEND_DATA_NO_CONFIG: "Vui lòng kiểm tra lại cấu hình Form!", FORM_UPLOAD_FILE_MAX_SIZE_ERROR: "Bạn chỉ được upload file tổng dung lượng tối đa {{max_size}}MB.", FORM_UPLOAD_FILE_MAX_LENGTH_ERROR: "Bạn chỉ được upload tối đa {{max_length}} file.", FORM_CAPTCHA_ERROR: "Mã xác thực Captcha không đúng!", FORM_CAPTCHA_LOADING: "Vui lòng chờ xác thực Captcha trong giây lát!", FORM_THANKYOU_MESSAGE_DEFAULT: "Cảm ơn bạn đã quan tâm!", FORM_INPUT_REQUIRED_ERROR: "Vui lòng nhập đầy đủ các trường thông tin!", FORM_INPUT_EMAIL_REGEX: "Vui lòng nhập đúng định dạng email!", FORM_INPUT_TEXT_REGEX: "Vui lòng nhập đúng định dạng!", ADD_TO_CART_NO_PRODUCT: "Không tìm thấy thông tin sản phẩm, vui lòng thử lại sau!", ADD_TO_CART_PRODUCT_REQUIRED: "Vui lòng chọn sản phẩm!", ADD_TO_CART_QUANTITY_REQUIRED: "Vui lòng nhập số lượng!", ADD_TO_CART_NO_QUANTITY: "Sản phẩm đã hết số lượng!", ADD_TO_CART_MAX_QUANTITY: "Bạn chỉ được mua tối đa {{max}} sản phẩm.", HIDE_ELEMENT: "Ẩn phần tử", SHOW_ELEMENT: "Hiện phần tử", TOP_ELEMENT: "Kéo Section lên đầu", SCROLL_ELEMENT: "Kéo tới Section", SET_COzOKIE: "Thiết lập Cookie", OPTION_NO_SELECT: "Không chọn", OPTION_TRUE: "Có", OPTION_FALSE: "Không" };